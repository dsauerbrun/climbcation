function toggleButtonActive(t){t.hasClass("active")?t.removeClass("active"):t.addClass("active")}function resetButtonsGroup(t){t.children("button").each(function(){$(this).removeClass("active"),$(this).hasClass("all")&&$(this).addClass("active")})}function inactivateGroupAll(t){t.children("button").each(function(){$(this).hasClass("all")&&$(this).removeClass("active")})}function createMap(t,e,i,n){var o=new GMaps({div:"#"+t,lat:e,lng:i,zoom:n,scrollwheel:!1});return $("body").on("click",function(t){o.setOptions({scrollwheel:!1})}),$("#"+t).on("click",function(t){t.stopPropagation(),o.setOptions({scrollwheel:!0})}),o}function addCloseLocations(t,e){$.each(e,function(){addMarker(t,this.lat,this.lng,this.name,'<p><a href="/location/'+this.slug+'">'+this.name+"</a></p>",!0)})}function addMarker(t,e,i,n,o,a){return t.addMarker({lat:e,lng:i,title:n,icon:a?"":"https://s3-us-west-2.amazonaws.com/climbcation-front/assets/primary.png",infoWindow:{content:o}})}function processTableContents(t){var e=[],i=0;return $.each(t,function(){index=parseInt(i/3),index in e||(e[index]=[]),e[index].push(this.title),i++}),e}function processSectionsByPair(t){pairMap={};var e=0,i=0;$.each(t,function(){e=0,null!=this.data&&(pairMap={},$.each(this.data,function(t,i){pairIndex=parseInt(e/2),e%2==0&&(pairMap[pairIndex]={}),pairMap[pairIndex][t]=i,e++}),this.data=pairMap),i++})}function setHighcharts(t,e){_.forEach(t,function(t,i){if($("#highchart"+i).attr("origin")!=e){var n=t.airport_code,o=[],a=0;_.keys(t.quotes).sort().forEach(function(e){_.forEach(t.quotes[e],function(t,i){o.push([e+"/"+i,t]),t>a&&(a=t)})}),$("#highchart"+i).highcharts({chart:{type:"line",height:"100"},title:{useHTML:!0,text:'<a href="'+t.referral+'" target="_blank">One Way cost from '+e+" to "+n+'<img src="/images/skyscannerinline.png"></a>',floating:!1},xAxis:{visible:!1,type:"category",title:{text:"Date"},labels:{rotation:-45,style:{fontSize:"13px",fontFamily:"Verdana, sans-serif"}}},yAxis:{visible:!1,min:0,title:{text:"Price(USD)"},tickInterval:50,max:a},legend:{enabled:!1},tooltip:{pointFormat:"Price: <b>${point.y:.1f} </b>"},series:[{name:"Price",data:o,dataLabels:{enabled:!1,rotation:-90,color:"#FFFFFF",align:"right",format:"{point.y:.1f}",y:10,style:{fontSize:"13px",fontFamily:"Verdana, sans-serif"}}}]}),$("#highchart"+i).attr("origin",e)}}),$('text:contains("Highcharts.com")').hide()}function setLocationHighchart(t,e){_.forEach(t,function(t,i){var n=t.airport_code,o=[],a=0;_.keys(t.quotes).sort().forEach(function(e){_.forEach(t.quotes[e],function(t,i){o.push([e+"/"+i,t]),t>a&&(a=t)})}),$("#highchart"+i).highcharts({chart:{type:"line",height:"200"},title:{useHTML:!0,text:'<a href="'+t.referral+'" target="_blank">One Way cost from '+e+" to "+n+'</a><a href="'+t.referral+'" target="_blank"><img src="/images/skyscannerinline.png"></a>',floating:!1},xAxis:{visible:!0,type:"category",title:{text:"Date"},labels:{rotation:-45,style:{fontSize:"13px",fontFamily:"Verdana, sans-serif"}}},yAxis:{visible:!0,min:0,title:{text:"Price(USD)"},tickInterval:50,max:a},legend:{enabled:!1},tooltip:{pointFormat:"Price: <b>${point.y:.1f} </b>"},series:[{name:"Price",data:o,dataLabels:{enabled:!1,rotation:-90,color:"#FFFFFF",align:"right",format:"{point.y:.1f}",y:10,style:{fontSize:"13px",fontFamily:"Verdana, sans-serif"}}}]})})}!function(t){function e(){}function i(t,e){return function(){t.apply(e,arguments)}}function n(t){if(!(this instanceof n))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],c(t,this)}function o(t,e){for(;3===t._state;)t=t._value;return 0===t._state?void t._deferreds.push(e):(t._handled=!0,void n._immediateFn(function(){var i=1===t._state?e.onFulfilled:e.onRejected;if(null===i)return void(1===t._state?a:r)(e.promise,t._value);var n;try{n=i(t._value)}catch(o){return void r(e.promise,o)}a(e.promise,n)}))}function a(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var o=e.then;if(e instanceof n)return t._state=3,t._value=e,void s(t);if("function"==typeof o)return void c(i(o,e),t)}t._state=1,t._value=e,s(t)}catch(a){r(t,a)}}function r(t,e){t._state=2,t._value=e,s(t)}function s(t){2===t._state&&0===t._deferreds.length&&n._immediateFn(function(){t._handled||n._unhandledRejectionFn(t._value)});for(var e=0,i=t._deferreds.length;e<i;e++)o(t,t._deferreds[e]);t._deferreds=null}function l(t,e,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=i}function c(t,e){var i=!1;try{t(function(t){i||(i=!0,a(e,t))},function(t){i||(i=!0,r(e,t))})}catch(n){if(i)return;i=!0,r(e,n)}}var d=setTimeout;n.prototype["catch"]=function(t){return this.then(null,t)},n.prototype.then=function(t,i){var n=new this.constructor(e);return o(this,new l(t,i,n)),n},n.all=function(t){return new n(function(e,i){function n(t,r){try{if(r&&("object"==typeof r||"function"==typeof r)){var s=r.then;if("function"==typeof s)return void s.call(r,function(e){n(t,e)},i)}o[t]=r,0==--a&&e(o)}catch(l){i(l)}}if(!t||"undefined"==typeof t.length)throw new TypeError("Promise.all accepts an array");var o=Array.prototype.slice.call(t);if(0===o.length)return e([]);for(var a=o.length,r=0;r<o.length;r++)n(r,o[r])})},n.resolve=function(t){return t&&"object"==typeof t&&t.constructor===n?t:new n(function(e){e(t)})},n.reject=function(t){return new n(function(e,i){i(t)})},n.race=function(t){return new n(function(e,i){for(var n=0,o=t.length;n<o;n++)t[n].then(e,i)})},n._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){d(t,0)},n._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},n._setImmediateFn=function(t){n._immediateFn=t},n._setUnhandledRejectionFn=function(t){n._unhandledRejectionFn=t},"undefined"!=typeof module&&module.exports?module.exports=n:t.Promise||(t.Promise=n)}(this),function(t,e){"object"==typeof exports?module.exports=e():"function"==typeof define&&define.amd&&define("GMaps",[],e),t.GMaps=e()}(this,function(){if("object"!=typeof window.google||!window.google.maps)throw"Google Maps API is required. Please register the following JavaScript library http://maps.google.com/maps/api/js?sensor=true.";var t=function(t,e){var i;if(t===e)return t;for(i in e)t[i]=e[i];return t},i=function(t,e){var i,n=Array.prototype.slice.call(arguments,2),o=[],a=t.length;if(Array.prototype.map&&t.map===Array.prototype.map)o=Array.prototype.map.call(t,function(t){return callback_params=n,callback_params.splice(0,0,t),e.apply(this,callback_params)});else for(i=0;i<a;i++)callback_params=n,callback_params.splice(0,0,t[i]),o.push(e.apply(this,callback_params));return o},n=function(t){var e,i=[];for(e=0;e<t.length;e++)i=i.concat(t[e]);return i},o=function(t,e){var i=t[0],n=t[1];return e&&(i=t[1],n=t[0]),new google.maps.LatLng(i,n)},a=function(t,e){var i;for(i=0;i<t.length;i++)t[i]instanceof google.maps.LatLng||(t[i].length>0&&"object"==typeof t[i][0]?t[i]=a(t[i],e):t[i]=o(t[i],e));return t},r=function(t,e){var i,n=t.replace(".","");return i="jQuery"in this&&e?$("."+n,e)[0]:document.getElementsByClassName(n)[0]},s=function(t,e){var i,t=t.replace("#","");return i="jQuery"in window&&e?$("#"+t,e)[0]:document.getElementById(t)},l=function(t){var e=0,i=0;if(t.offsetParent)do e+=t.offsetLeft,i+=t.offsetTop;while(t=t.offsetParent);return[e,i]},c=function(e){"use strict";var i=document,n=function(e){if(!this)return new n(e);e.zoom=e.zoom||15,e.mapType=e.mapType||"roadmap";var o,a=this,c=["bounds_changed","center_changed","click","dblclick","drag","dragend","dragstart","idle","maptypeid_changed","projection_changed","resize","tilesloaded","zoom_changed"],d=["mousemove","mouseout","mouseover"],p=["el","lat","lng","mapType","width","height","markerClusterer","enableNewStyle"],u=e.el||e.div,h=e.markerClusterer,g=google.maps.MapTypeId[e.mapType.toUpperCase()],m=new google.maps.LatLng(e.lat,e.lng),f=e.zoomControl||!0,v=e.zoomControlOpt||{style:"DEFAULT",position:"TOP_LEFT"},b=v.style||"DEFAULT",y=v.position||"TOP_LEFT",x=e.panControl||!0,w=e.mapTypeControl||!0,k=e.scaleControl||!0,T=e.streetViewControl||!0,C=C||!0,S={},M={zoom:this.zoom,center:m,mapTypeId:g},$={panControl:x,zoomControl:f,zoomControlOptions:{style:google.maps.ZoomControlStyle[b],position:google.maps.ControlPosition[y]},mapTypeControl:w,scaleControl:k,streetViewControl:T,overviewMapControl:C};if("string"==typeof e.el||"string"==typeof e.div?u.indexOf("#")>-1?this.el=s(u,e.context):this.el=r.apply(this,[u,e.context]):this.el=u,"undefined"==typeof this.el||null===this.el)throw"No element defined.";for(window.context_menu=window.context_menu||{},window.context_menu[a.el.id]={},this.controls=[],this.overlays=[],this.layers=[],this.singleLayers={},this.markers=[],this.polylines=[],this.routes=[],this.polygons=[],this.infoWindow=null,this.overlay_el=null,this.zoom=e.zoom,this.registered_events={},this.el.style.width=e.width||this.el.scrollWidth||this.el.offsetWidth,this.el.style.height=e.height||this.el.scrollHeight||this.el.offsetHeight,google.maps.visualRefresh=e.enableNewStyle,o=0;o<p.length;o++)delete e[p[o]];for(1!=e.disableDefaultUI&&(M=t(M,$)),S=t(M,e),o=0;o<c.length;o++)delete S[c[o]];for(o=0;o<d.length;o++)delete S[d[o]];this.map=new google.maps.Map(this.el,S),h&&(this.markerClusterer=h.apply(this,[this.map]));var D=function(t,e){var i="",n=window.context_menu[a.el.id][t];for(var o in n)if(n.hasOwnProperty(o)){var r=n[o];i+='<li><a id="'+t+"_"+o+'" href="#">'+r.title+"</a></li>"}if(s("gmaps_context_menu")){var c=s("gmaps_context_menu");c.innerHTML=i;var o,d=c.getElementsByTagName("a"),p=d.length;for(o=0;o<p;o++){var u=d[o],h=function(i){i.preventDefault(),n[this.id.replace(t+"_","")].action.apply(a,[e]),a.hideContextMenu()};google.maps.event.clearListeners(u,"click"),google.maps.event.addDomListenerOnce(u,"click",h,!1)}var g=l.apply(this,[a.el]),m=g[0]+e.pixel.x-15,f=g[1]+e.pixel.y-15;c.style.left=m+"px",c.style.top=f+"px",c.style.display="block"}};this.buildContextMenu=function(t,e){if("marker"===t){e.pixel={};var i=new google.maps.OverlayView;i.setMap(a.map),i.draw=function(){var n=i.getProjection(),o=e.marker.getPosition();e.pixel=n.fromLatLngToContainerPixel(o),D(t,e)}}else D(t,e)},this.setContextMenu=function(t){window.context_menu[a.el.id][t.control]={};var e,n=i.createElement("ul");for(e in t.options)if(t.options.hasOwnProperty(e)){var o=t.options[e];window.context_menu[a.el.id][t.control][o.name]={title:o.title,action:o.action}}n.id="gmaps_context_menu",n.style.display="none",n.style.position="absolute",n.style.minWidth="100px",n.style.background="white",n.style.listStyle="none",n.style.padding="8px",n.style.boxShadow="2px 2px 6px #ccc",i.body.appendChild(n);var r=s("gmaps_context_menu");google.maps.event.addDomListener(r,"mouseout",function(t){t.relatedTarget&&this.contains(t.relatedTarget)||window.setTimeout(function(){r.style.display="none"},400)},!1)},this.hideContextMenu=function(){var t=s("gmaps_context_menu");t&&(t.style.display="none")};var O=function(t,i){google.maps.event.addListener(t,i,function(t){void 0==t&&(t=this),e[i].apply(this,[t]),a.hideContextMenu()})};google.maps.event.addListener(this.map,"zoom_changed",this.hideContextMenu);for(var A=0;A<c.length;A++){var P=c[A];P in e&&O(this.map,P)}for(var A=0;A<d.length;A++){var P=d[A];P in e&&O(this.map,P)}google.maps.event.addListener(this.map,"rightclick",function(t){e.rightclick&&e.rightclick.apply(this,[t]),void 0!=window.context_menu[a.el.id].map&&a.buildContextMenu("map",t)}),this.refresh=function(){google.maps.event.trigger(this.map,"resize")},this.fitZoom=function(){var t,e=[],i=this.markers.length;for(t=0;t<i;t++)"boolean"==typeof this.markers[t].visible&&this.markers[t].visible&&e.push(this.markers[t].getPosition());this.fitLatLngBounds(e)},this.fitLatLngBounds=function(t){var e,i=t.length,n=new google.maps.LatLngBounds;for(e=0;e<i;e++)n.extend(t[e]);this.map.fitBounds(n)},this.setCenter=function(t,e,i){this.map.panTo(new google.maps.LatLng(t,e)),i&&i()},this.getElement=function(){return this.el},this.zoomIn=function(t){t=t||1,this.zoom=this.map.getZoom()+t,this.map.setZoom(this.zoom)},this.zoomOut=function(t){t=t||1,this.zoom=this.map.getZoom()-t,this.map.setZoom(this.zoom)};var L,E=[];for(L in this.map)"function"!=typeof this.map[L]||this[L]||E.push(L);for(o=0;o<E.length;o++)!function(t,e,i){t[i]=function(){return e[i].apply(e,arguments)}}(this,this.map,E[o])};return n}(this);c.prototype.createControl=function(t){var e=document.createElement("div");e.style.cursor="pointer",t.disableDefaultStyles!==!0&&(e.style.fontFamily="Roboto, Arial, sans-serif",e.style.fontSize="11px",e.style.boxShadow="rgba(0, 0, 0, 0.298039) 0px 1px 4px -1px");for(var i in t.style)e.style[i]=t.style[i];t.id&&(e.id=t.id),t.classes&&(e.className=t.classes),t.content&&("string"==typeof t.content?e.innerHTML=t.content:t.content instanceof HTMLElement&&e.appendChild(t.content)),t.position&&(e.position=google.maps.ControlPosition[t.position.toUpperCase()]);for(var n in t.events)!function(e,i){google.maps.event.addDomListener(e,i,function(){t.events[i].apply(this,[this])})}(e,n);return e.index=1,e},c.prototype.addControl=function(t){var e=this.createControl(t);return this.controls.push(e),this.map.controls[e.position].push(e),e},c.prototype.removeControl=function(t){var e,i=null;for(e=0;e<this.controls.length;e++)this.controls[e]==t&&(i=this.controls[e].position,this.controls.splice(e,1));if(i)for(e=0;e<this.map.controls.length;e++){var n=this.map.controls[t.position];if(n.getAt(e)==t){n.removeAt(e);break}}return t},c.prototype.createMarker=function(e){if(void 0==e.lat&&void 0==e.lng&&void 0==e.position)throw"No latitude or longitude defined.";var i=this,n=e.details,o=e.fences,a=e.outside,r={position:new google.maps.LatLng(e.lat,e.lng),map:null},s=t(r,e);delete s.lat,delete s.lng,delete s.fences,delete s.outside;var l=new google.maps.Marker(s);if(l.fences=o,e.infoWindow){l.infoWindow=new google.maps.InfoWindow(e.infoWindow);for(var c=["closeclick","content_changed","domready","position_changed","zindex_changed"],d=0;d<c.length;d++)!function(t,i){e.infoWindow[i]&&google.maps.event.addListener(t,i,function(t){e.infoWindow[i].apply(this,[t])})}(l.infoWindow,c[d])}for(var p=["animation_changed","clickable_changed","cursor_changed","draggable_changed","flat_changed","icon_changed","position_changed","shadow_changed","shape_changed","title_changed","visible_changed","zindex_changed"],u=["dblclick","drag","dragend","dragstart","mousedown","mouseout","mouseover","mouseup"],d=0;d<p.length;d++)!function(t,i){e[i]&&google.maps.event.addListener(t,i,function(){e[i].apply(this,[this])})}(l,p[d]);for(var d=0;d<u.length;d++)!function(t,i,n){e[n]&&google.maps.event.addListener(i,n,function(i){i.pixel||(i.pixel=t.getProjection().fromLatLngToPoint(i.latLng)),e[n].apply(this,[i])})}(this.map,l,u[d]);return google.maps.event.addListener(l,"click",function(){this.details=n,e.click&&e.click.apply(this,[this]),l.infoWindow&&(i.hideInfoWindows(),l.infoWindow.open(i.map,l))}),google.maps.event.addListener(l,"rightclick",function(t){t.marker=this,e.rightclick&&e.rightclick.apply(this,[t]),void 0!=window.context_menu[i.el.id].marker&&i.buildContextMenu("marker",t)}),l.fences&&google.maps.event.addListener(l,"dragend",function(){i.checkMarkerGeofence(l,function(t,e){a(t,e)})}),l},c.prototype.addMarker=function(t){var e;if(t.hasOwnProperty("gm_accessors_"))e=t;else{if(!(t.hasOwnProperty("lat")&&t.hasOwnProperty("lng")||t.position))throw"No latitude or longitude defined.";e=this.createMarker(t)}return e.setMap(this.map),this.markerClusterer&&this.markerClusterer.addMarker(e),this.markers.push(e),c.fire("marker_added",e,this),e},c.prototype.addMarkers=function(t){for(var e,i=0;e=t[i];i++)this.addMarker(e);return this.markers},c.prototype.hideInfoWindows=function(){for(var t,e=0;t=this.markers[e];e++)t.infoWindow&&t.infoWindow.close()},c.prototype.removeMarker=function(t){for(var e=0;e<this.markers.length;e++)if(this.markers[e]===t){this.markers[e].setMap(null),this.markers.splice(e,1),this.markerClusterer&&this.markerClusterer.removeMarker(t),c.fire("marker_removed",t,this);break}return t},c.prototype.removeMarkers=function(t){var e=[];if("undefined"==typeof t){for(var i=0;i<this.markers.length;i++){var n=this.markers[i];n.setMap(null),this.markerClusterer&&this.markerClusterer.removeMarker(n),c.fire("marker_removed",n,this)}this.markers=e}else{for(var i=0;i<t.length;i++){var o=this.markers.indexOf(t[i]);if(o>-1){var n=this.markers[o];n.setMap(null),this.markerClusterer&&this.markerClusterer.removeMarker(n),c.fire("marker_removed",n,this)}}for(var i=0;i<this.markers.length;i++){var n=this.markers[i];null!=n.getMap()&&e.push(n)}this.markers=e}},c.prototype.drawOverlay=function(t){var e=new google.maps.OverlayView,i=!0;return e.setMap(this.map),null!=t.auto_show&&(i=t.auto_show),e.onAdd=function(){var i=document.createElement("div");i.style.borderStyle="none",i.style.borderWidth="0px",i.style.position="absolute",i.style.zIndex=100,i.innerHTML=t.content,e.el=i,t.layer||(t.layer="overlayLayer");var n=this.getPanes(),o=n[t.layer],a=["contextmenu","DOMMouseScroll","dblclick","mousedown"];o.appendChild(i);for(var r=0;r<a.length;r++)!function(t,e){google.maps.event.addDomListener(t,e,function(t){navigator.userAgent.toLowerCase().indexOf("msie")!=-1&&document.all?(t.cancelBubble=!0,t.returnValue=!1):t.stopPropagation()})}(i,a[r]);t.click&&(n.overlayMouseTarget.appendChild(e.el),google.maps.event.addDomListener(e.el,"click",function(){t.click.apply(e,[e])})),google.maps.event.trigger(this,"ready")},e.draw=function(){var n=this.getProjection(),o=n.fromLatLngToDivPixel(new google.maps.LatLng(t.lat,t.lng));t.horizontalOffset=t.horizontalOffset||0,t.verticalOffset=t.verticalOffset||0;var a=e.el,r=a.children[0],s=r.clientHeight,l=r.clientWidth;switch(t.verticalAlign){case"top":a.style.top=o.y-s+t.verticalOffset+"px";break;default:case"middle":a.style.top=o.y-s/2+t.verticalOffset+"px";break;case"bottom":a.style.top=o.y+t.verticalOffset+"px"}switch(t.horizontalAlign){case"left":a.style.left=o.x-l+t.horizontalOffset+"px";break;default:case"center":a.style.left=o.x-l/2+t.horizontalOffset+"px";break;case"right":a.style.left=o.x+t.horizontalOffset+"px"}a.style.display=i?"block":"none",i||t.show.apply(this,[a])},e.onRemove=function(){var i=e.el;t.remove?t.remove.apply(this,[i]):(e.el.parentNode.removeChild(e.el),e.el=null)},this.overlays.push(e),e},c.prototype.removeOverlay=function(t){for(var e=0;e<this.overlays.length;e++)if(this.overlays[e]===t){this.overlays[e].setMap(null),this.overlays.splice(e,1);break}},c.prototype.removeOverlays=function(){for(var t,e=0;t=this.overlays[e];e++)t.setMap(null);this.overlays=[]},c.prototype.drawPolyline=function(t){var e=[],i=t.path;if(i.length)if(void 0===i[0][0])e=i;else for(var n,o=0;n=i[o];o++)e.push(new google.maps.LatLng(n[0],n[1]));var a={map:this.map,path:e,strokeColor:t.strokeColor,strokeOpacity:t.strokeOpacity,strokeWeight:t.strokeWeight,geodesic:t.geodesic,clickable:!0,editable:!1,visible:!0};t.hasOwnProperty("clickable")&&(a.clickable=t.clickable),t.hasOwnProperty("editable")&&(a.editable=t.editable),t.hasOwnProperty("icons")&&(a.icons=t.icons),t.hasOwnProperty("zIndex")&&(a.zIndex=t.zIndex);for(var r=new google.maps.Polyline(a),s=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"],l=0;l<s.length;l++)!function(e,i){t[i]&&google.maps.event.addListener(e,i,function(e){t[i].apply(this,[e])})}(r,s[l]);return this.polylines.push(r),c.fire("polyline_added",r,this),r},c.prototype.removePolyline=function(t){for(var e=0;e<this.polylines.length;e++)if(this.polylines[e]===t){this.polylines[e].setMap(null),this.polylines.splice(e,1),c.fire("polyline_removed",t,this);break}},c.prototype.removePolylines=function(){for(var t,e=0;t=this.polylines[e];e++)t.setMap(null);this.polylines=[]},c.prototype.drawCircle=function(e){e=t({map:this.map,center:new google.maps.LatLng(e.lat,e.lng)},e),delete e.lat,delete e.lng;for(var i=new google.maps.Circle(e),n=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"],o=0;o<n.length;o++)!function(t,i){e[i]&&google.maps.event.addListener(t,i,function(t){e[i].apply(this,[t])})}(i,n[o]);return this.polygons.push(i),i},c.prototype.drawRectangle=function(e){e=t({map:this.map},e);var i=new google.maps.LatLngBounds(new google.maps.LatLng(e.bounds[0][0],e.bounds[0][1]),new google.maps.LatLng(e.bounds[1][0],e.bounds[1][1]));e.bounds=i;for(var n=new google.maps.Rectangle(e),o=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"],a=0;a<o.length;a++)!function(t,i){e[i]&&google.maps.event.addListener(t,i,function(t){e[i].apply(this,[t])})}(n,o[a]);return this.polygons.push(n),n},c.prototype.drawPolygon=function(e){var o=!1;e.hasOwnProperty("useGeoJSON")&&(o=e.useGeoJSON),delete e.useGeoJSON,e=t({map:this.map},e),0==o&&(e.paths=[e.paths.slice(0)]),e.paths.length>0&&e.paths[0].length>0&&(e.paths=n(i(e.paths,a,o)));for(var r=new google.maps.Polygon(e),s=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"],l=0;l<s.length;l++)!function(t,i){e[i]&&google.maps.event.addListener(t,i,function(t){e[i].apply(this,[t])})}(r,s[l]);return this.polygons.push(r),c.fire("polygon_added",r,this),r},c.prototype.removePolygon=function(t){for(var e=0;e<this.polygons.length;e++)if(this.polygons[e]===t){this.polygons[e].setMap(null),this.polygons.splice(e,1),c.fire("polygon_removed",t,this);break}},c.prototype.removePolygons=function(){for(var t,e=0;t=this.polygons[e];e++)t.setMap(null);this.polygons=[]},c.prototype.getFromFusionTables=function(t){var e=t.events;delete t.events;var i=t,n=new google.maps.FusionTablesLayer(i);for(var o in e)!function(t,i){google.maps.event.addListener(t,i,function(t){e[i].apply(this,[t])})}(n,o);return this.layers.push(n),n},c.prototype.loadFromFusionTables=function(t){var e=this.getFromFusionTables(t);return e.setMap(this.map),e},c.prototype.getFromKML=function(t){var e=t.url,i=t.events;delete t.url,delete t.events;var n=t,o=new google.maps.KmlLayer(e,n);for(var a in i)!function(t,e){google.maps.event.addListener(t,e,function(t){i[e].apply(this,[t])})}(o,a);return this.layers.push(o),o},c.prototype.loadFromKML=function(t){var e=this.getFromKML(t);return e.setMap(this.map),e},c.prototype.addLayer=function(t,e){e=e||{};var i;switch(t){case"weather":this.singleLayers.weather=i=new google.maps.weather.WeatherLayer;break;case"clouds":this.singleLayers.clouds=i=new google.maps.weather.CloudLayer;break;case"traffic":this.singleLayers.traffic=i=new google.maps.TrafficLayer;break;case"transit":this.singleLayers.transit=i=new google.maps.TransitLayer;break;case"bicycling":this.singleLayers.bicycling=i=new google.maps.BicyclingLayer;break;case"panoramio":this.singleLayers.panoramio=i=new google.maps.panoramio.PanoramioLayer,i.setTag(e.filter),delete e.filter,e.click&&google.maps.event.addListener(i,"click",function(t){e.click(t),delete e.click});break;case"places":if(this.singleLayers.places=i=new google.maps.places.PlacesService(this.map),e.search||e.nearbySearch||e.radarSearch){var n={bounds:e.bounds||null,keyword:e.keyword||null,location:e.location||null,name:e.name||null,radius:e.radius||null,rankBy:e.rankBy||null,types:e.types||null};e.radarSearch&&i.radarSearch(n,e.radarSearch),e.search&&i.search(n,e.search),e.nearbySearch&&i.nearbySearch(n,e.nearbySearch)}if(e.textSearch){var o={bounds:e.bounds||null,location:e.location||null,query:e.query||null,radius:e.radius||null};i.textSearch(o,e.textSearch)}}if(void 0!==i)return"function"==typeof i.setOptions&&i.setOptions(e),"function"==typeof i.setMap&&i.setMap(this.map),i},c.prototype.removeLayer=function(t){if("string"==typeof t&&void 0!==this.singleLayers[t])this.singleLayers[t].setMap(null),delete this.singleLayers[t];else for(var e=0;e<this.layers.length;e++)if(this.layers[e]===t){this.layers[e].setMap(null),this.layers.splice(e,1);break}};var d,p;return c.prototype.getRoutes=function(e){switch(e.travelMode){case"bicycling":d=google.maps.TravelMode.BICYCLING;break;case"transit":d=google.maps.TravelMode.TRANSIT;break;case"driving":d=google.maps.TravelMode.DRIVING;break;default:d=google.maps.TravelMode.WALKING}p="imperial"===e.unitSystem?google.maps.UnitSystem.IMPERIAL:google.maps.UnitSystem.METRIC;var i={avoidHighways:!1,avoidTolls:!1,optimizeWaypoints:!1,waypoints:[]},n=t(i,e);n.origin=/string/.test(typeof e.origin)?e.origin:new google.maps.LatLng(e.origin[0],e.origin[1]),n.destination=/string/.test(typeof e.destination)?e.destination:new google.maps.LatLng(e.destination[0],e.destination[1]),n.travelMode=d,n.unitSystem=p,delete n.callback,delete n.error;var o=this,a=new google.maps.DirectionsService;a.route(n,function(t,i){if(i===google.maps.DirectionsStatus.OK){for(var n in t.routes)t.routes.hasOwnProperty(n)&&o.routes.push(t.routes[n]);e.callback&&e.callback(o.routes)}else e.error&&e.error(t,i)})},c.prototype.removeRoutes=function(){this.routes=[]},c.prototype.getElevations=function(e){e=t({locations:[],path:!1,samples:256},e),e.locations.length>0&&e.locations[0].length>0&&(e.locations=n(i([e.locations],a,!1)));var o=e.callback;delete e.callback;var r=new google.maps.ElevationService;if(e.path){var s={path:e.locations,samples:e.samples};r.getElevationAlongPath(s,function(t,e){o&&"function"==typeof o&&o(t,e)})}else delete e.path,delete e.samples,r.getElevationForLocations(e,function(t,e){o&&"function"==typeof o&&o(t,e)})},c.prototype.cleanRoute=c.prototype.removePolylines,c.prototype.drawRoute=function(t){var e=this;this.getRoutes({origin:t.origin,destination:t.destination,travelMode:t.travelMode,waypoints:t.waypoints,unitSystem:t.unitSystem,error:t.error,callback:function(i){if(i.length>0){var n={path:i[i.length-1].overview_path,strokeColor:t.strokeColor,strokeOpacity:t.strokeOpacity,strokeWeight:t.strokeWeight};t.hasOwnProperty("icons")&&(n.icons=t.icons),e.drawPolyline(n),t.callback&&t.callback(i[i.length-1])}}})},c.prototype.travelRoute=function(t){if(t.origin&&t.destination)this.getRoutes({origin:t.origin,destination:t.destination,travelMode:t.travelMode,waypoints:t.waypoints,unitSystem:t.unitSystem,error:t.error,callback:function(e){if(e.length>0&&t.start&&t.start(e[e.length-1]),e.length>0&&t.step){var i=e[e.length-1];if(i.legs.length>0)for(var n,o=i.legs[0].steps,a=0;n=o[a];a++)n.step_number=a,t.step(n,i.legs[0].steps.length-1)}e.length>0&&t.end&&t.end(e[e.length-1])}});else if(t.route&&t.route.legs.length>0)for(var e,i=t.route.legs[0].steps,n=0;e=i[n];n++)e.step_number=n,t.step(e)},c.prototype.drawSteppedRoute=function(t){var e=this;if(t.origin&&t.destination)this.getRoutes({origin:t.origin,destination:t.destination,travelMode:t.travelMode,waypoints:t.waypoints,error:t.error,callback:function(i){if(i.length>0&&t.start&&t.start(i[i.length-1]),i.length>0&&t.step){var n=i[i.length-1];if(n.legs.length>0)for(var o,a=n.legs[0].steps,r=0;o=a[r];r++){o.step_number=r;var s={path:o.path,strokeColor:t.strokeColor,strokeOpacity:t.strokeOpacity,strokeWeight:t.strokeWeight};t.hasOwnProperty("icons")&&(s.icons=t.icons),e.drawPolyline(s),t.step(o,n.legs[0].steps.length-1)}}i.length>0&&t.end&&t.end(i[i.length-1])}});else if(t.route&&t.route.legs.length>0)for(var i,n=t.route.legs[0].steps,o=0;i=n[o];o++){i.step_number=o;var a={path:i.path,strokeColor:t.strokeColor,strokeOpacity:t.strokeOpacity,strokeWeight:t.strokeWeight};t.hasOwnProperty("icons")&&(a.icons=t.icons),e.drawPolyline(a),t.step(i)}},c.Route=function(t){this.origin=t.origin,this.destination=t.destination,this.waypoints=t.waypoints,this.map=t.map,this.route=t.route,this.step_count=0,this.steps=this.route.legs[0].steps,this.steps_length=this.steps.length;var e={path:new google.maps.MVCArray,strokeColor:t.strokeColor,strokeOpacity:t.strokeOpacity,strokeWeight:t.strokeWeight};t.hasOwnProperty("icons")&&(e.icons=t.icons),this.polyline=this.map.drawPolyline(e).getPath()},c.Route.prototype.getRoute=function(t){var i=this;this.map.getRoutes({origin:this.origin,destination:this.destination,travelMode:t.travelMode,waypoints:this.waypoints||[],error:t.error,callback:function(){i.route=e[0],t.callback&&t.callback.call(i)}})},c.Route.prototype.back=function(){if(this.step_count>0){this.step_count--;var t=this.route.legs[0].steps[this.step_count].path;for(var e in t)t.hasOwnProperty(e)&&this.polyline.pop()}},c.Route.prototype.forward=function(){if(this.step_count<this.steps_length){var t=this.route.legs[0].steps[this.step_count].path;for(var e in t)t.hasOwnProperty(e)&&this.polyline.push(t[e]);this.step_count++}},c.prototype.checkGeofence=function(t,e,i){return i.containsLatLng(new google.maps.LatLng(t,e))},c.prototype.checkMarkerGeofence=function(t,e){if(t.fences)for(var i,n=0;i=t.fences[n];n++){var o=t.getPosition();this.checkGeofence(o.lat(),o.lng(),i)||e(t,i)}},c.prototype.toImage=function(t){var t=t||{},e={};if(e.size=t.size||[this.el.clientWidth,this.el.clientHeight],e.lat=this.getCenter().lat(),e.lng=this.getCenter().lng(),this.markers.length>0){e.markers=[];for(var i=0;i<this.markers.length;i++)e.markers.push({lat:this.markers[i].getPosition().lat(),lng:this.markers[i].getPosition().lng()})}if(this.polylines.length>0){var n=this.polylines[0];e.polyline={},e.polyline.path=google.maps.geometry.encoding.encodePath(n.getPath()),e.polyline.strokeColor=n.strokeColor,e.polyline.strokeOpacity=n.strokeOpacity,e.polyline.strokeWeight=n.strokeWeight}return c.staticMapURL(e)},c.staticMapURL=function(t){function e(t,e){if("#"===t[0]&&(t=t.replace("#","0x"),e)){if(e=parseFloat(e),e=Math.min(1,Math.max(e,0)),0===e)return"0x00000000";e=(255*e).toString(16),1===e.length&&(e+=e),t=t.slice(0,8)+e}return t}var i,n=[],o=("file:"===location.protocol?"http:":location.protocol)+"//maps.googleapis.com/maps/api/staticmap";t.url&&(o=t.url,delete t.url),o+="?";var a=t.markers;delete t.markers,!a&&t.marker&&(a=[t.marker],delete t.marker);var r=t.styles;delete t.styles;var s=t.polyline;if(delete t.polyline,t.center)n.push("center="+t.center),delete t.center;else if(t.address)n.push("center="+t.address),delete t.address;else if(t.lat)n.push(["center=",t.lat,",",t.lng].join("")),delete t.lat,delete t.lng;else if(t.visible){var l=encodeURI(t.visible.join("|"));n.push("visible="+l)}var c=t.size;c?(c.join&&(c=c.join("x")),delete t.size):c="630x300",n.push("size="+c),t.zoom||t.zoom===!1||(t.zoom=15);var d=!t.hasOwnProperty("sensor")||!!t.sensor;delete t.sensor,n.push("sensor="+d);for(var p in t)t.hasOwnProperty(p)&&n.push(p+"="+t[p]);if(a)for(var u,h,g=0;i=a[g];g++){u=[],i.size&&"normal"!==i.size?(u.push("size:"+i.size),delete i.size):i.icon&&(u.push("icon:"+encodeURI(i.icon)),delete i.icon),i.color&&(u.push("color:"+i.color.replace("#","0x")),delete i.color),i.label&&(u.push("label:"+i.label[0].toUpperCase()),delete i.label),h=i.address?i.address:i.lat+","+i.lng,delete i.address,delete i.lat,delete i.lng;for(var p in i)i.hasOwnProperty(p)&&u.push(p+":"+i[p]);u.length||0===g?(u.push(h),u=u.join("|"),n.push("markers="+encodeURI(u))):(u=n.pop()+encodeURI("|"+h),n.push(u))}if(r)for(var g=0;g<r.length;g++){var m=[];r[g].featureType&&m.push("feature:"+r[g].featureType.toLowerCase()),r[g].elementType&&m.push("element:"+r[g].elementType.toLowerCase());for(var f=0;f<r[g].stylers.length;f++)for(var v in r[g].stylers[f]){var b=r[g].stylers[f][v];"hue"!=v&&"color"!=v||(b="0x"+b.substring(1)),m.push(v+":"+b)}var y=m.join("|");""!=y&&n.push("style="+y)}if(s){if(i=s,s=[],i.strokeWeight&&s.push("weight:"+parseInt(i.strokeWeight,10)),i.strokeColor){var x=e(i.strokeColor,i.strokeOpacity);s.push("color:"+x)}if(i.fillColor){var w=e(i.fillColor,i.fillOpacity);s.push("fillcolor:"+w)}var k=i.path;if(k.join)for(var T,f=0;T=k[f];f++)s.push(T.join(","));else s.push("enc:"+k);s=s.join("|"),n.push("path="+encodeURI(s))}var C=window.devicePixelRatio||1;return n.push("scale="+C),
n=n.join("&"),o+n},c.prototype.addMapType=function(t,e){if(!e.hasOwnProperty("getTileUrl")||"function"!=typeof e.getTileUrl)throw"'getTileUrl' function required.";e.tileSize=e.tileSize||new google.maps.Size(256,256);var i=new google.maps.ImageMapType(e);this.map.mapTypes.set(t,i)},c.prototype.addOverlayMapType=function(t){if(!t.hasOwnProperty("getTile")||"function"!=typeof t.getTile)throw"'getTile' function required.";var e=t.index;delete t.index,this.map.overlayMapTypes.insertAt(e,t)},c.prototype.removeOverlayMapType=function(t){this.map.overlayMapTypes.removeAt(t)},c.prototype.addStyle=function(t){var e=new google.maps.StyledMapType(t.styles,{name:t.styledMapName});this.map.mapTypes.set(t.mapTypeId,e)},c.prototype.setStyle=function(t){this.map.setMapTypeId(t)},c.prototype.createPanorama=function(t){return t.hasOwnProperty("lat")&&t.hasOwnProperty("lng")||(t.lat=this.getCenter().lat(),t.lng=this.getCenter().lng()),this.panorama=c.createPanorama(t),this.map.setStreetView(this.panorama),this.panorama},c.createPanorama=function(e){var i=s(e.el,e.context);e.position=new google.maps.LatLng(e.lat,e.lng),delete e.el,delete e.context,delete e.lat,delete e.lng;for(var n=["closeclick","links_changed","pano_changed","position_changed","pov_changed","resize","visible_changed"],o=t({visible:!0},e),a=0;a<n.length;a++)delete o[n[a]];for(var r=new google.maps.StreetViewPanorama(i,o),a=0;a<n.length;a++)!function(t,i){e[i]&&google.maps.event.addListener(t,i,function(){e[i].apply(this)})}(r,n[a]);return r},c.prototype.on=function(t,e){return c.on(t,this,e)},c.prototype.off=function(t){c.off(t,this)},c.custom_events=["marker_added","marker_removed","polyline_added","polyline_removed","polygon_added","polygon_removed","geolocated","geolocation_failed"],c.on=function(t,e,i){if(c.custom_events.indexOf(t)==-1)return e instanceof c&&(e=e.map),google.maps.event.addListener(e,t,i);var n={handler:i,eventName:t};return e.registered_events[t]=e.registered_events[t]||[],e.registered_events[t].push(n),n},c.off=function(t,e){c.custom_events.indexOf(t)==-1?(e instanceof c&&(e=e.map),google.maps.event.clearListeners(e,t)):e.registered_events[t]=[]},c.fire=function(t,e,i){if(c.custom_events.indexOf(t)==-1)google.maps.event.trigger(e,t,Array.prototype.slice.apply(arguments).slice(2));else if(t in i.registered_events)for(var n=i.registered_events[t],o=0;o<n.length;o++)!function(t,e,i){t.apply(e,[i])}(n[o].handler,i,e)},c.geolocate=function(t){var e=t.always||t.complete;navigator.geolocation?navigator.geolocation.getCurrentPosition(function(i){t.success(i),e&&e()},function(i){t.error(i),e&&e()},t.options):(t.not_supported(),e&&e())},c.geocode=function(t){this.geocoder=new google.maps.Geocoder;var e=t.callback;t.hasOwnProperty("lat")&&t.hasOwnProperty("lng")&&(t.latLng=new google.maps.LatLng(t.lat,t.lng)),delete t.lat,delete t.lng,delete t.callback,this.geocoder.geocode(t,function(t,i){e(t,i)})},google.maps.Polygon.prototype.getBounds||(google.maps.Polygon.prototype.getBounds=function(t){for(var e,i=new google.maps.LatLngBounds,n=this.getPaths(),o=0;o<n.getLength();o++){e=n.getAt(o);for(var a=0;a<e.getLength();a++)i.extend(e.getAt(a))}return i}),google.maps.Polygon.prototype.containsLatLng||(google.maps.Polygon.prototype.containsLatLng=function(t){var e=this.getBounds();if(null!==e&&!e.contains(t))return!1;for(var i=!1,n=this.getPaths().getLength(),o=0;o<n;o++)for(var a=this.getPaths().getAt(o),r=a.getLength(),s=r-1,l=0;l<r;l++){var c=a.getAt(l),d=a.getAt(s);(c.lng()<t.lng()&&d.lng()>=t.lng()||d.lng()<t.lng()&&c.lng()>=t.lng())&&c.lat()+(t.lng()-c.lng())/(d.lng()-c.lng())*(d.lat()-c.lat())<t.lat()&&(i=!i),s=l}return i}),google.maps.Circle.prototype.containsLatLng||(google.maps.Circle.prototype.containsLatLng=function(t){return!google.maps.geometry||google.maps.geometry.spherical.computeDistanceBetween(this.getCenter(),t)<=this.getRadius()}),google.maps.LatLngBounds.prototype.containsLatLng=function(t){return this.contains(t)},google.maps.Marker.prototype.setFences=function(t){this.fences=t},google.maps.Marker.prototype.addFence=function(t){this.fences.push(t)},google.maps.Marker.prototype.getId=function(){return this.__gm_id},Array.prototype.indexOf||(Array.prototype.indexOf=function(t){"use strict";if(null==this)throw new TypeError;var e=Object(this),i=e.length>>>0;if(0===i)return-1;var n=0;if(arguments.length>1&&(n=Number(arguments[1]),n!=n?n=0:0!=n&&n!=1/0&&n!=-(1/0)&&(n=(n>0||-1)*Math.floor(Math.abs(n)))),n>=i)return-1;for(var o=n>=0?n:Math.max(i-Math.abs(n),0);o<i;o++)if(o in e&&e[o]===t)return o;return-1}),c}),function(t,e){"object"==typeof module&&module.exports?module.exports=t.document?e(t):e:t.Highcharts=e(t)}("undefined"!=typeof window?window:this,function(t){function e(e,i){var n="Highcharts error #"+e+": www.highcharts.com/errors/"+e;if(i)throw Error(n);t.console&&console.log(n)}function i(t,e,i){this.options=e,this.elem=t,this.prop=i}function n(){var t,e,i=arguments,n={},o=function(t,e){var i,n;"object"!=typeof t&&(t={});for(n in e)e.hasOwnProperty(n)&&(i=e[n],t[n]=i&&"object"==typeof i&&"[object Array]"!==Object.prototype.toString.call(i)&&"renderTo"!==n&&"number"!=typeof i.nodeType?o(t[n]||{},i):e[n]);return t};for(i[0]===!0&&(n=i[1],i=Array.prototype.slice.call(i,2)),e=i.length,t=0;t<e;t++)n=o(n,i[t]);return n}function o(t,e){return parseInt(t,e||10)}function a(t){return"string"==typeof t}function r(t){return t&&"object"==typeof t}function s(t){return"[object Array]"===Object.prototype.toString.call(t)}function l(t){return"number"==typeof t}function c(t){return lt.log(t)/lt.LN10}function d(t){return lt.pow(10,t)}function p(t,e){for(var i=t.length;i--;)if(t[i]===e){t.splice(i,1);break}}function u(t){return t!==_&&null!==t}function h(t,e,i){var n,o;if(a(e))u(i)?t.setAttribute(e,i):t&&t.getAttribute&&(o=t.getAttribute(e));else if(u(e)&&r(e))for(n in e)t.setAttribute(n,e[n]);return o}function g(t){return s(t)?t:[t]}function m(t,e,i){return e?setTimeout(t,e,i):void t.call(0,i)}function f(t,e){wt&&!$t&&e&&e.opacity!==_&&(e.filter="alpha(opacity="+100*e.opacity+")"),Zt(t.style,e)}function v(t,e,i,n,o){return t=st.createElement(t),e&&Zt(t,e),o&&f(t,{padding:0,border:"none",margin:0}),i&&f(t,i),n&&n.appendChild(t),t}function b(t,e){var i=function(){};return i.prototype=new t,Zt(i.prototype,e),i}function y(t,e){return Array((e||2)+1-String(t).length).join(0)+t}function x(t){return 6e4*(Y&&Y(t)||U||0)}function w(t,e){for(var i,n,o,a,r,s="{",l=!1,c=[];(s=t.indexOf(s))!==-1;){if(i=t.slice(0,s),l){for(n=i.split(":"),o=n.shift().split("."),r=o.length,i=e,a=0;a<r;a++)i=i[o[a]];n.length&&(n=n.join(":"),o=/\.([0-9])/,a=R.lang,r=void 0,/f$/.test(n)?(r=(r=n.match(o))?r[1]:-1,null!==i&&(i=rt.numberFormat(i,r,a.decimalPoint,n.indexOf(",")>-1?a.thousandsSep:""))):i=H(n,i))}c.push(i),t=t.slice(s+1),s=(l=!l)?"}":"{"}return c.push(t),c.join("")}function k(t){return lt.pow(10,dt(lt.log(t)/lt.LN10))}function T(t,e,i,n,o){var a,r=t,i=Jt(i,1);for(a=t/i,e||(e=[1,2,2.5,5,10],n===!1&&(1===i?e=[1,2,5,10]:i<=.1&&(e=[1/i]))),n=0;n<e.length&&(r=e[n],!(o&&r*i>=t||!o&&a<=(e[n]+(e[n+1]||e[n]))/2));n++);return r*=i}function C(t,e){var i,n,o=t.length;for(n=0;n<o;n++)t[n].safeI=n;for(t.sort(function(t,n){return i=e(t,n),0===i?t.safeI-n.safeI:i}),n=0;n<o;n++)delete t[n].safeI}function S(t){for(var e=t.length,i=t[0];e--;)t[e]<i&&(i=t[e]);return i}function M(t){for(var e=t.length,i=t[0];e--;)t[e]>i&&(i=t[e]);return i}function $(t,e){for(var i in t)t[i]&&t[i]!==e&&t[i].destroy&&t[i].destroy(),delete t[i]}function D(t){B||(B=v(Ft)),t&&B.appendChild(t),B.innerHTML=""}function O(t,e){return parseFloat(t.toPrecision(e||14))}function A(t,e){e.renderer.globalAnimation=Jt(t,e.animation)}function P(){var e=R.global,i=e.useUTC,n=i?"getUTC":"get",o=i?"setUTC":"set";W=e.Date||t.Date,U=i&&e.timezoneOffset,Y=i&&e.getTimezoneOffset,G=function(t,e,n,o,a,r){var s;return i?(s=W.UTC.apply(0,arguments),s+=x(s)):s=new W(t,e,Jt(n,1),Jt(o,0),Jt(a,0),Jt(r,0)).getTime(),s},V=n+"Minutes",X=n+"Hours",q=n+"Day",K=n+"Date",Z=n+"Month",J=n+"FullYear",Q=o+"Milliseconds",tt=o+"Seconds",et=o+"Minutes",it=o+"Hours",nt=o+"Date",ot=o+"Month",at=o+"FullYear"}function L(t){return this instanceof L?void this.init(t):new L(t)}function E(){}function I(t,e,i,n){this.axis=t,this.pos=e,this.type=i||"",this.isNew=!0,!i&&!n&&this.addLabel()}function F(t,e,i,n,o){var a=t.chart.inverted;this.axis=t,this.isNegative=i,this.options=e,this.x=n,this.total=null,this.points={},this.stack=o,this.alignOptions={align:e.align||(a?i?"left":"right":"center"),verticalAlign:e.verticalAlign||(a?"middle":i?"bottom":"top"),y:Jt(e.y,a?4:i?14:-6),x:Jt(e.x,a?i?-6:6:0)},this.textAlign=e.textAlign||(a?i?"right":"left":"center")}var _,N,z,B,R,H,j,W,G,U,Y,V,X,q,K,Z,J,Q,tt,et,it,nt,ot,at,rt,st=t.document,lt=Math,ct=lt.round,dt=lt.floor,pt=lt.ceil,ut=lt.max,ht=lt.min,gt=lt.abs,mt=lt.cos,ft=lt.sin,vt=lt.PI,bt=2*vt/360,yt=t.navigator&&t.navigator.userAgent||"",xt=t.opera,wt=/(msie|trident|edge)/i.test(yt)&&!xt,kt=st&&8===st.documentMode,Tt=!wt&&/AppleWebKit/.test(yt),Ct=/Firefox/.test(yt),St=/(Mobile|Android|Windows Phone)/.test(yt),Mt="http://www.w3.org/2000/svg",$t=st&&st.createElementNS&&!!st.createElementNS(Mt,"svg").createSVGRect,Dt=Ct&&parseInt(yt.split("Firefox/")[1],10)<4,Ot=st&&!$t&&!wt&&!!st.createElement("canvas").getContext,At={},Pt=0,Lt=function(){},Et=[],It=0,Ft="div",_t=/^[0-9]+$/,Nt=["plotTop","marginRight","marginBottom","plotLeft"],zt={};rt=t.Highcharts?e(16,!0):{win:t},rt.seriesTypes=zt;var Bt,Rt,Ht,jt,Wt,Gt,Ut,Yt,Vt,Xt,qt,Kt=[];i.prototype={dSetter:function(){var t,e=this.paths[0],i=this.paths[1],n=[],o=this.now,a=e.length;if(1===o)n=this.toD;else if(a===i.length&&o<1)for(;a--;)t=parseFloat(e[a]),n[a]=isNaN(t)?e[a]:o*parseFloat(i[a]-t)+t;else n=i;this.elem.attr("d",n)},update:function(){var t=this.elem,e=this.prop,i=this.now,n=this.options.step;this[e+"Setter"]?this[e+"Setter"]():t.attr?t.element&&t.attr(e,i):t.style[e]=i+this.unit,n&&n.call(t,i,this)},run:function(t,e,i){var n,o=this,a=function(t){return!a.stopped&&o.step(t)};this.startTime=+new W,this.start=t,this.end=e,this.unit=i,this.now=this.start,this.pos=0,a.elem=this.elem,a()&&1===Kt.push(a)&&(a.timerId=setInterval(function(){for(n=0;n<Kt.length;n++)Kt[n]()||Kt.splice(n--,1);Kt.length||clearInterval(a.timerId)},13))},step:function(t){var e,i=+new W,n=this.options;e=this.elem;var o,a=n.complete,r=n.duration,s=n.curAnim;if(e.attr&&!e.element)e=!1;else if(t||i>=r+this.startTime){this.now=this.end,this.pos=1,this.update(),t=s[this.prop]=!0;for(o in s)s[o]!==!0&&(t=!1);t&&a&&a.call(e),e=!1}else this.pos=n.easing((i-this.startTime)/r),this.now=this.start+(this.end-this.start)*this.pos,this.update(),e=!0;return e},initPath:function(t,e,i){var n,o,a,e=e||"",r=t.shift,s=e.indexOf("C")>-1,l=s?7:3,e=e.split(" "),i=[].concat(i),c=function(t){for(n=t.length;n--;)"M"===t[n]&&t.splice(n+1,0,t[n+1],t[n+2],t[n+1],t[n+2])};if(s&&(c(e),c(i)),t.isArea&&(o=e.splice(e.length-6,6),a=i.splice(i.length-6,6)),r<=i.length/l&&e.length===i.length)for(;r--;)i=[].concat(i).splice(0,l).concat(i);if(t.shift=0,e.length)for(t=i.length;e.length<t;)r=[].concat(e).splice(e.length-l,l),s&&(r[l-6]=r[l-2],r[l-5]=r[l-1]),e=e.concat(r);return o&&(e=e.concat(o),i=i.concat(a)),[e,i]}};var Zt=rt.extend=function(t,e){var i;t||(t={});for(i in e)t[i]=e[i];return t},Jt=rt.pick=function(){var t,e,i=arguments,n=i.length;for(t=0;t<n;t++)if(e=i[t],e!==_&&null!==e)return e},Qt=rt.wrap=function(t,e,i){var n=t[e];t[e]=function(){var t=Array.prototype.slice.call(arguments);return t.unshift(n),i.apply(this,t)}};H=function(t,e,i){if(!u(e)||isNaN(e))return R.lang.invalidDate||"";var n,t=Jt(t,"%Y-%m-%d %H:%M:%S"),o=new W(e-x(e)),a=o[X](),r=o[q](),s=o[K](),l=o[Z](),c=o[J](),d=R.lang,p=d.weekdays,o=Zt({a:p[r].substr(0,3),A:p[r],d:y(s),e:s,w:r,b:d.shortMonths[l],B:d.months[l],m:y(l+1),y:c.toString().substr(2,2),Y:c,H:y(a),k:a,I:y(a%12||12),l:a%12||12,M:y(o[V]()),p:a<12?"AM":"PM",P:a<12?"am":"pm",S:y(o.getSeconds()),L:y(ct(e%1e3),3)},rt.dateFormats);for(n in o)for(;t.indexOf("%"+n)!==-1;)t=t.replace("%"+n,"function"==typeof o[n]?o[n](e):o[n]);return i?t.substr(0,1).toUpperCase()+t.substr(1):t},j={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},rt.numberFormat=function(t,e,i,n){var a=R.lang,t=+t||0,r=e===-1?Math.min((t.toString().split(".")[1]||"").length,20):isNaN(e=Math.abs(e))?2:e,e=void 0===i?a.decimalPoint:i,n=void 0===n?a.thousandsSep:n,a=t<0?"-":"",i=String(o(t=gt(t).toFixed(r))),s=i.length>3?i.length%3:0;return a+(s?i.substr(0,s)+n:"")+i.substr(s).replace(/(\d{3})(?=\d)/g,"$1"+n)+(r?e+gt(t-i).toFixed(r).slice(2):"")},Math.easeInOutSine=function(t){return-.5*(Math.cos(Math.PI*t)-1)},Bt=function(e,i){var n=t.getComputedStyle(e,void 0);return n&&o(n.getPropertyValue(i))},Rt=function(t,e){return e.indexOf?e.indexOf(t):[].indexOf.call(e,t)},jt=function(t,e){return[].filter.call(t,e)},Gt=function(t,e){for(var i=[],n=0,o=t.length;n<o;n++)i[n]=e.call(t[n],t[n],n,t);return i},Wt=function(e){var i=st.documentElement,e=e.getBoundingClientRect();return{top:e.top+(t.pageYOffset||i.scrollTop)-(i.clientTop||0),left:e.left+(t.pageXOffset||i.scrollLeft)-(i.clientLeft||0)}},qt=function(t){for(var e=Kt.length;e--;)Kt[e].elem===t&&(Kt[e].stopped=!0)},Ht=function(t,e){return Array.prototype.forEach.call(t,e)},Ut=function(e,i,n){function o(i){i.target=i.srcElement||t,n.call(e,i)}var a=e.hcEvents=e.hcEvents||{};e.addEventListener?e.addEventListener(i,n,!1):e.attachEvent&&(e.hcEventsIE||(e.hcEventsIE={}),e.hcEventsIE[n.toString()]=o,e.attachEvent("on"+i,o)),a[i]||(a[i]=[]),a[i].push(n)},Yt=function(t,e,i){function n(e,i){t.removeEventListener?t.removeEventListener(e,i,!1):t.attachEvent&&(i=t.hcEventsIE[i.toString()],t.detachEvent("on"+e,i))}function o(){var i,o,a;if(t.nodeName)for(a in e?(i={},i[e]=!0):i=s,i)if(s[a])for(o=s[a].length;o--;)n(a,s[a][o])}var a,r,s=t.hcEvents;s&&(e?(a=s[e]||[],i?(r=Rt(i,a),r>-1&&(a.splice(r,1),s[e]=a),n(e,i)):(o(),s[e]=[])):(o(),t.hcEvents={}))},Vt=function(t,e,i,n){var o;o=t.hcEvents;var a,r,s,l,i=i||{};if(st.createEvent&&(t.dispatchEvent||t.fireEvent))o=st.createEvent("Events"),o.initEvent(e,!0,!0),o.target=t,Zt(o,i),t.dispatchEvent?t.dispatchEvent(o):t.fireEvent(e,o);else if(o)for(o=o[e]||[],a=o.length,s=function(){i.defaultPrevented=!0},r=0;r<a;r++){if(l=o[r],i.stopped)return;i.preventDefault=s,i.target=t,i.type||(i.type=e),l.call(t,i)===!1&&i.preventDefault()}n&&!i.defaultPrevented&&n(i)},Xt=function(t,e,o){var a,s,c,d,p="";r(o)||(a=arguments,o={duration:a[2],easing:a[3],complete:a[4]}),l(o.duration)||(o.duration=400),o.easing=Math[o.easing]||Math.easeInOutSine,o.curAnim=n(e);for(d in e)c=new i(t,o,d),s=null,"d"===d?(c.paths=c.initPath(t,t.d,e.d),c.toD=e.d,a=0,s=1):t.attr?a=t.attr(d):(a=parseFloat(Bt(t,d))||0,"opacity"!==d&&(p="px")),s||(s=e[d]),s.match&&s.match("px")&&(s=s.replace(/px/g,"")),c.run(a,s,p)},t.jQuery&&(t.jQuery.fn.highcharts=function(){var t=[].slice.call(arguments);if(this[0])return t[0]?(new(rt[a(t[0])?t.shift():"Chart"])(this[0],t[0],t[1]),this):Et[h(this[0],"data-highcharts-chart")]}),st&&!st.defaultView&&(Bt=function(t,e){var i;return i={width:"clientWidth",height:"clientHeight"}[e],t.style[e]?o(t.style[e]):("opacity"===e&&(e="filter"),i?(t.style.zoom=1,t[i]-2*Bt(t,"padding")):(i=t.currentStyle[e.replace(/\-(\w)/g,function(t,e){return e.toUpperCase()})],"filter"===e&&(i=i.replace(/alpha\(opacity=([0-9]+)\)/,function(t,e){return e/100})),""===i?1:o(i)))}),Array.prototype.forEach||(Ht=function(t,e){for(var i=0,n=t.length;i<n;i++)if(e.call(t[i],t[i],i,t)===!1)return i}),Array.prototype.indexOf||(Rt=function(t,e){var i,n=0;if(e)for(i=e.length;n<i;n++)if(e[n]===t)return n;return-1}),Array.prototype.filter||(jt=function(t,e){for(var i=[],n=0,o=t.length;n<o;n++)e(t[n],n)&&i.push(t[n]);return i}),rt.Fx=i,rt.inArray=Rt,rt.each=Ht,rt.grep=jt,rt.offset=Wt,rt.map=Gt,rt.addEvent=Ut,rt.removeEvent=Yt,rt.fireEvent=Vt,rt.animate=Xt,rt.stop=qt,R={colors:"#7cb5ec,#434348,#90ed7d,#f7a35c,#8085e9,#f15c80,#e4d354,#2b908f,#f45b5b,#91e8e1".split(","),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),shortMonths:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),decimalPoint:".",numericSymbols:"k,M,G,T,P,E".split(","),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/4.2.1/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",margin:15,style:{color:"#333333",fontSize:"18px"}},subtitle:{text:"",align:"center",style:{color:"#555555"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:{lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0,lineWidthPlus:1,radiusPlus:2},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return null===this.y?"":rt.numberFormat(this.y,-1)},style:{color:"contrast",fontSize:"11px",fontWeight:"bold",textShadow:"0 0 6px contrast, 0 0 3px contrast"},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,softThreshold:!0,states:{hover:{lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3}},labels:{style:{position:"absolute",color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#909090",borderRadius:0,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:$t,backgroundColor:"rgba(249, 249, 249, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,snap:St?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",pointerEvents:"none",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}};var te=R.plotOptions,ee=te.line;P(),L.prototype={parsers:[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(t){return[o(t[1]),o(t[2]),o(t[3]),parseFloat(t[4],10)]}},{regex:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,parse:function(t){return[o(t[1],16),o(t[2],16),o(t[3],16),1]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(t){return[o(t[1]),o(t[2]),o(t[3]),1]}}],init:function(t){var e,i,n,o;if((this.input=t)&&t.stops)this.stops=Gt(t.stops,function(t){return new L(t[1])});else for(n=this.parsers.length;n--&&!i;)o=this.parsers[n],(e=o.regex.exec(t))&&(i=o.parse(e));this.rgba=i||[]},get:function(t){var e,i=this.input,o=this.rgba;return this.stops?(e=n(i),e.stops=[].concat(e.stops),Ht(this.stops,function(i,n){e.stops[n]=[e.stops[n][0],i.get(t)]})):e=o&&!isNaN(o[0])?"rgb"===t||!t&&1===o[3]?"rgb("+o[0]+","+o[1]+","+o[2]+")":"a"===t?o[3]:"rgba("+o.join(",")+")":i,e},brighten:function(t){var e,i=this.rgba;if(this.stops)Ht(this.stops,function(e){e.brighten(t)});else if(l(t)&&0!==t)for(e=0;e<3;e++)i[e]+=o(255*t),i[e]<0&&(i[e]=0),i[e]>255&&(i[e]=255);return this},setOpacity:function(t){return this.rgba[3]=t,this}},E.prototype={opacity:1,textProps:"direction,fontSize,fontWeight,fontFamily,fontStyle,color,lineHeight,width,textDecoration,textOverflow,textShadow".split(","),init:function(t,e){this.element="span"===e?v(e):st.createElementNS(Mt,e),this.renderer=t},animate:function(t,e,i){return e=Jt(e,this.renderer.globalAnimation,!0),qt(this),e?(e=n(e,{}),i&&(e.complete=i),Xt(this,t,e)):this.attr(t,null,i),this},colorGradient:function(t,e,i){var o,a,r,l,c,d,p,h,g,m,f,v,b=this.renderer,y=[];if(t.linearGradient?a="linearGradient":t.radialGradient&&(a="radialGradient"),a){r=t[a],c=b.gradients,p=t.stops,m=i.radialReference,s(r)&&(t[a]=r={x1:r[0],y1:r[1],x2:r[2],y2:r[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===a&&m&&!u(r.gradientUnits)&&(l=r,r=n(r,b.getRadialAttr(m,l),{gradientUnits:"userSpaceOnUse"}));for(f in r)"id"!==f&&y.push(f,r[f]);for(f in p)y.push(p[f]);y=y.join(","),c[y]?m=c[y].attr("id"):(r.id=m="highcharts-"+Pt++,c[y]=d=b.createElement(a).attr(r).add(b.defs),d.radAttr=l,d.stops=[],Ht(p,function(t){0===t[1].indexOf("rgba")?(o=L(t[1]),h=o.get("rgb"),g=o.get("a")):(h=t[1],g=1),t=b.createElement("stop").attr({offset:t[0],"stop-color":h,"stop-opacity":g}).add(d),d.stops.push(t)})),v="url("+b.url+"#"+m+")",i.setAttribute(e,v),i.gradient=y,t.toString=function(){return v}}},applyTextShadow:function(t){var e,i=this.element,n=t.indexOf("contrast")!==-1,a={},r=this.renderer.forExport,s=r||i.style.textShadow!==_&&!wt;n&&(a.textShadow=t=t.replace(/contrast/g,this.renderer.getContrast(i.style.fill))),(Tt||r)&&(a.textRendering="geometricPrecision"),s?this.css(a):(this.fakeTS=!0,this.ySetter=this.xSetter,e=[].slice.call(i.getElementsByTagName("tspan")),Ht(t.split(/\s?,\s?/g),function(t){var n,a,r=i.firstChild,t=t.split(" ");n=t[t.length-1],(a=t[t.length-2])&&Ht(e,function(t,e){var s;0===e&&(t.setAttribute("x",i.getAttribute("x")),e=i.getAttribute("y"),t.setAttribute("y",e||0),null===e&&i.setAttribute("y",0)),s=t.cloneNode(1),h(s,{"class":"highcharts-text-shadow",fill:n,stroke:n,"stroke-opacity":1/ut(o(a),3),"stroke-width":a,"stroke-linejoin":"round"}),i.insertBefore(s,r)})}))},attr:function(t,e,i){var n,o,a,r=this.element,s=this;if("string"==typeof t&&e!==_&&(n=t,t={},t[n]=e),"string"==typeof t)s=(this[t+"Getter"]||this._defaultGetter).call(this,t,r);else{for(n in t)e=t[n],a=!1,this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(n)&&(o||(this.symbolAttr(t),o=!0),a=!0),!this.rotation||"x"!==n&&"y"!==n||(this.doTransform=!0),a||(this[n+"Setter"]||this._defaultSetter).call(this,e,n,r),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(n)&&this.updateShadows(n,e);this.doTransform&&(this.updateTransform(),this.doTransform=!1)}return i&&i(),s},updateShadows:function(t,e){for(var i=this.shadows,n=i.length;n--;)i[n].setAttribute(t,"height"===t?Math.max(e-(i[n].cutHeight||0),0):"d"===t?this.d:e)},addClass:function(t){var e=this.element,i=h(e,"class")||"";return i.indexOf(t)===-1&&h(e,"class",i+" "+t),this},symbolAttr:function(t){var e=this;Ht("x,y,r,start,end,width,height,innerR,anchorX,anchorY".split(","),function(i){e[i]=Jt(t[i],e[i])}),e.attr({d:e.renderer.symbols[e.symbolName](e.x,e.y,e.width,e.height,e)})},clip:function(t){return this.attr("clip-path",t?"url("+this.renderer.url+"#"+t.id+")":"none")},crisp:function(t){var e,i,n={},o=t.strokeWidth||this.strokeWidth||0;i=ct(o)%2/2,t.x=dt(t.x||this.x||0)+i,t.y=dt(t.y||this.y||0)+i,t.width=dt((t.width||this.width||0)-2*i),t.height=dt((t.height||this.height||0)-2*i),t.strokeWidth=o;for(e in t)this[e]!==t[e]&&(this[e]=n[e]=t[e]);return n},css:function(t){var e,i,n=this.styles,a={},r=this.element,s="";if(e=!n,t&&t.color&&(t.fill=t.color),n)for(i in t)t[i]!==n[i]&&(a[i]=t[i],e=!0);if(e){if(e=this.textWidth=t&&t.width&&"text"===r.nodeName.toLowerCase()&&o(t.width)||this.textWidth,n&&(t=Zt(n,a)),this.styles=t,e&&(Ot||!$t&&this.renderer.forExport)&&delete t.width,wt&&!$t)f(this.element,t);else{n=function(t,e){return"-"+e.toLowerCase()};for(i in t)s+=i.replace(/([A-Z])/g,n)+":"+t[i]+";";h(r,"style",s)}e&&this.added&&this.renderer.buildText(this)}return this},on:function(t,e){var i=this,n=i.element;return z&&"click"===t?(n.ontouchstart=function(t){i.touchEventFired=W.now(),t.preventDefault(),e.call(n,t)},n.onclick=function(t){(yt.indexOf("Android")===-1||W.now()-(i.touchEventFired||0)>1100)&&e.call(n,t)}):n["on"+t]=e,this},setRadialReference:function(t){var e=this.renderer.gradients[this.element.gradient];return this.element.radialReference=t,e&&e.radAttr&&e.animate(this.renderer.getRadialAttr(t,e.radAttr)),this},translate:function(t,e){return this.attr({translateX:t,translateY:e})},invert:function(){return this.inverted=!0,this.updateTransform(),this},updateTransform:function(){var t=this.translateX||0,e=this.translateY||0,i=this.scaleX,n=this.scaleY,o=this.inverted,a=this.rotation,r=this.element;o&&(t+=this.attr("width"),e+=this.attr("height")),t=["translate("+t+","+e+")"],o?t.push("rotate(90) scale(-1,1)"):a&&t.push("rotate("+a+" "+(r.getAttribute("x")||0)+" "+(r.getAttribute("y")||0)+")"),(u(i)||u(n))&&t.push("scale("+Jt(i,1)+" "+Jt(n,1)+")"),t.length&&r.setAttribute("transform",t.join(" "))},toFront:function(){var t=this.element;return t.parentNode.appendChild(t),this},align:function(t,e,i){var n,o,r,s,l={};return o=this.renderer,r=o.alignedObjects,t?(this.alignOptions=t,this.alignByTranslate=e,(!i||a(i))&&(this.alignTo=n=i||"renderer",p(r,this),r.push(this),i=null)):(t=this.alignOptions,e=this.alignByTranslate,n=this.alignTo),i=Jt(i,o[n],o),n=t.align,o=t.verticalAlign,r=(i.x||0)+(t.x||0),s=(i.y||0)+(t.y||0),"right"!==n&&"center"!==n||(r+=(i.width-(t.width||0))/{right:1,center:2}[n]),l[e?"translateX":"x"]=ct(r),"bottom"!==o&&"middle"!==o||(s+=(i.height-(t.height||0))/({bottom:1,middle:2}[o]||1)),l[e?"translateY":"y"]=ct(s),this[this.placed?"animate":"attr"](l),this.placed=!0,this.alignAttr=l,this},getBBox:function(t,e){var i,n,o,a,r=this.renderer,s=this.element,l=this.styles;n=this.textStr;var c,d,p,u=s.style,h=r.cache,g=r.cacheKeys;if(o=Jt(e,this.rotation),a=o*bt,n!==_&&(p=["",o||0,l&&l.fontSize,s.style.width].join(","),p=""===n||_t.test(n)?"num:"+n.toString().length+p:n+p),p&&!t&&(i=h[p]),!i){if(s.namespaceURI===Mt||r.forExport){try{d=this.fakeTS&&function(t){Ht(s.querySelectorAll(".highcharts-text-shadow"),function(e){e.style.display=t})},Ct&&u.textShadow?(c=u.textShadow,u.textShadow=""):d&&d("none"),i=s.getBBox?Zt({},s.getBBox()):{width:s.offsetWidth,height:s.offsetHeight},c?u.textShadow=c:d&&d("")}catch(m){}(!i||i.width<0)&&(i={width:0,height:0})}else i=this.htmlGetBBox();if(r.isSVG&&(r=i.width,n=i.height,wt&&l&&"11px"===l.fontSize&&"16.9"===n.toPrecision(3)&&(i.height=n=14),o&&(i.width=gt(n*ft(a))+gt(r*mt(a)),i.height=gt(n*mt(a))+gt(r*ft(a)))),p){for(;g.length>250;)delete h[g.shift()];h[p]||g.push(p),h[p]=i}}return i},show:function(t){return this.attr({visibility:t?"inherit":"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(t){var e=this;e.animate({opacity:0},{duration:t||150,complete:function(){e.attr({y:-9999})}})},add:function(t){var e,i=this.renderer,n=this.element;return t&&(this.parentGroup=t),this.parentInverted=t&&t.inverted,void 0!==this.textStr&&i.buildText(this),this.added=!0,(!t||t.handleZ||this.zIndex)&&(e=this.zIndexSetter()),e||(t?t.element:i.box).appendChild(n),this.onAdd&&this.onAdd(),this},safeRemoveChild:function(t){var e=t.parentNode;e&&e.removeChild(t)},destroy:function(){var t,e,i=this,n=i.element||{},o=i.shadows,a=i.renderer.isSVG&&"SPAN"===n.nodeName&&i.parentGroup;if(n.onclick=n.onmouseout=n.onmouseover=n.onmousemove=n.point=null,qt(i),i.clipPath&&(i.clipPath=i.clipPath.destroy()),i.stops){for(e=0;e<i.stops.length;e++)i.stops[e]=i.stops[e].destroy();i.stops=null}for(i.safeRemoveChild(n),o&&Ht(o,function(t){i.safeRemoveChild(t)});a&&a.div&&0===a.div.childNodes.length;)n=a.parentGroup,i.safeRemoveChild(a.div),delete a.div,a=n;i.alignTo&&p(i.renderer.alignedObjects,i);for(t in i)delete i[t];return null},shadow:function(t,e,i){var n,o,a,r,s,l,c=[],d=this.element;if(t){for(r=Jt(t.width,3),s=(t.opacity||.15)/r,l=this.parentInverted?"(-1,-1)":"("+Jt(t.offsetX,1)+", "+Jt(t.offsetY,1)+")",n=1;n<=r;n++)o=d.cloneNode(0),a=2*r+1-2*n,h(o,{isShadow:"true",stroke:t.color||"black","stroke-opacity":s*n,"stroke-width":a,transform:"translate"+l,fill:"none"}),i&&(h(o,"height",ut(h(o,"height")-a,0)),o.cutHeight=a),e?e.element.appendChild(o):d.parentNode.insertBefore(o,d),c.push(o);this.shadows=c}return this},xGetter:function(t){return"circle"===this.element.nodeName&&(t={x:"cx",y:"cy"}[t]||t),this._defaultGetter(t)},_defaultGetter:function(t){return t=Jt(this[t],this.element?this.element.getAttribute(t):null,0),/^[\-0-9\.]+$/.test(t)&&(t=parseFloat(t)),t},dSetter:function(t,e,i){t&&t.join&&(t=t.join(" ")),/(NaN| {2}|^$)/.test(t)&&(t="M 0 0"),i.setAttribute(e,t),this[e]=t},dashstyleSetter:function(t){var e;if(t=t&&t.toLowerCase()){for(t=t.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),e=t.length;e--;)t[e]=o(t[e])*this["stroke-width"];t=t.join(",").replace("NaN","none"),this.element.setAttribute("stroke-dasharray",t)}},alignSetter:function(t){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[t])},opacitySetter:function(t,e,i){this[e]=t,i.setAttribute(e,t)},titleSetter:function(t){var e=this.element.getElementsByTagName("title")[0];e||(e=st.createElementNS(Mt,"title"),this.element.appendChild(e)),e.appendChild(st.createTextNode(String(Jt(t),"").replace(/<[^>]*>/g,"")))},textSetter:function(t){t!==this.textStr&&(delete this.bBox,this.textStr=t,this.added&&this.renderer.buildText(this))},fillSetter:function(t,e,i){"string"==typeof t?i.setAttribute(e,t):t&&this.colorGradient(t,e,i)},visibilitySetter:function(t,e,i){"inherit"===t?i.removeAttribute(e):i.setAttribute(e,t)},zIndexSetter:function(t,e){var i,n,a,r=this.renderer,s=this.parentGroup,r=(s||r).element||r.box,l=this.element;i=this.added;var c;if(u(t)&&(l.setAttribute(e,t),t=+t,this[e]===t&&(i=!1),this[e]=t),i){for((t=this.zIndex)&&s&&(s.handleZ=!0),s=r.childNodes,c=0;c<s.length&&!a;c++)i=s[c],n=h(i,"zIndex"),i!==l&&(o(n)>t||!u(t)&&u(n))&&(r.insertBefore(l,i),a=!0);a||r.appendChild(l)}return a},_defaultSetter:function(t,e,i){i.setAttribute(e,t)}},E.prototype.yGetter=E.prototype.xGetter,E.prototype.translateXSetter=E.prototype.translateYSetter=E.prototype.rotationSetter=E.prototype.verticalAlignSetter=E.prototype.scaleXSetter=E.prototype.scaleYSetter=function(t,e){this[e]=t,this.doTransform=!0},E.prototype["stroke-widthSetter"]=E.prototype.strokeSetter=function(t,e,i){this[e]=t,this.stroke&&this["stroke-width"]?(this.strokeWidth=this["stroke-width"],E.prototype.fillSetter.call(this,this.stroke,"stroke",i),i.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===e&&0===t&&this.hasStroke&&(i.removeAttribute("stroke"),this.hasStroke=!1)};var ie=function(){this.init.apply(this,arguments)};ie.prototype={Element:E,init:function(e,i,n,o,a,r){var s,o=this.createElement("svg").attr({version:"1.1"}).css(this.getStyle(o));s=o.element,e.appendChild(s),e.innerHTML.indexOf("xmlns")===-1&&h(s,"xmlns",Mt),this.isSVG=!0,this.box=s,this.boxWrapper=o,this.alignedObjects=[],this.url=(Ct||Tt)&&st.getElementsByTagName("base").length?t.location.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",
this.createElement("desc").add().element.appendChild(st.createTextNode("Created with Highcharts 4.2.1")),this.defs=this.createElement("defs").add(),this.allowHTML=r,this.forExport=a,this.gradients={},this.cache={},this.cacheKeys=[],this.setSize(i,n,!1);var l;Ct&&e.getBoundingClientRect&&(this.subPixelFix=i=function(){f(e,{left:0,top:0}),l=e.getBoundingClientRect(),f(e,{left:pt(l.left)-l.left+"px",top:pt(l.top)-l.top+"px"})},i(),Ut(t,"resize",i))},getStyle:function(t){return this.style=Zt({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},t)},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var e=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),$(this.gradients||{}),this.gradients=null,e&&(this.defs=e.destroy()),this.subPixelFix&&Yt(t,"resize",this.subPixelFix),this.alignedObjects=null},createElement:function(t){var e=new this.Element;return e.init(this,t),e},draw:function(){},getRadialAttr:function(t,e){return{cx:t[0]-t[2]/2+e.cx*t[2],cy:t[1]-t[2]/2+e.cy*t[2],r:e.r*t[2]}},buildText:function(t){for(var e,i,n=t.element,a=this,r=a.forExport,s=Jt(t.textStr,"").toString(),l=s.indexOf("<")!==-1,c=n.childNodes,d=h(n,"x"),p=t.styles,u=t.textWidth,g=p&&p.lineHeight,m=p&&p.textShadow,v=p&&"ellipsis"===p.textOverflow,b=c.length,y=u&&!t.added&&this.box,x=function(t){return g?o(g):a.fontMetrics(/(px|em)$/.test(t&&t.style.fontSize)?t.style.fontSize:p&&p.fontSize||a.style.fontSize||12,t).h},w=function(t){return t.replace(/&lt;/g,"<").replace(/&gt;/g,">")};b--;)n.removeChild(c[b]);l||m||v||s.indexOf(" ")!==-1?(e=/<.*style="([^"]+)".*>/,i=/<.*href="(http[^"]+)".*>/,y&&y.appendChild(n),s=l?s.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[s],""===s[s.length-1]&&s.pop(),Ht(s,function(o,s){var l,c=0,o=o.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");l=o.split("|||"),Ht(l,function(o){if(""!==o||1===l.length){var g,m={},b=st.createElementNS(Mt,"tspan");if(e.test(o)&&(g=o.match(e)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),h(b,"style",g)),i.test(o)&&!r&&(h(b,"onclick",'location.href="'+o.match(i)[1]+'"'),f(b,{cursor:"pointer"})),o=w(o.replace(/<(.|\n)*?>/g,"")||" ")," "!==o){if(b.appendChild(st.createTextNode(o)),c?m.dx=0:s&&null!==d&&(m.x=d),h(b,m),n.appendChild(b),!c&&s&&(!$t&&r&&f(b,{display:"block"}),h(b,"dy",x(b))),u){for(var y,k,T,m=o.replace(/([^\^])-/g,"$1- ").split(" "),C=l.length>1||s||m.length>1&&"nowrap"!==p.whiteSpace,S=[],M=x(b),$=1,D=t.rotation,O=o,A=O.length;(C||v)&&(m.length||S.length);)t.rotation=0,y=t.getBBox(!0),T=y.width,!$t&&a.forExport&&(T=a.measureSpanWidth(b.firstChild.data,t.styles)),y=T>u,void 0===k&&(k=y),v&&k?(A/=2,""===O||!y&&A<.5?m=[]:(y&&(k=!0),O=o.substring(0,O.length+(y?-1:1)*pt(A)),m=[O+(u>3?"…":"")],b.removeChild(b.firstChild))):y&&1!==m.length?(b.removeChild(b.firstChild),S.unshift(m.pop())):(m=S,S=[],m.length&&($++,b=st.createElementNS(Mt,"tspan"),h(b,{dy:M,x:d}),g&&h(b,"style",g),n.appendChild(b)),T>u&&(u=T)),m.length&&b.appendChild(st.createTextNode(m.join(" ").replace(/- /g,"-")));k&&t.attr("title",t.textStr),t.rotation=D}c++}}})}),y&&y.removeChild(n),m&&t.applyTextShadow&&t.applyTextShadow(m)):n.appendChild(st.createTextNode(w(s)))},getContrast:function(t){return t=L(t).rgba,t[0]+t[1]+t[2]>384?"#000000":"#FFFFFF"},button:function(t,e,i,o,a,r,s,l,c){var d,p,u,h,g,m,f=this.label(t,e,i,c,null,null,null,null,"button"),v=0,t={x1:0,y1:0,x2:0,y2:1},a=n({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:t,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},a);return u=a.style,delete a.style,r=n(a,{stroke:"#68A",fill:{linearGradient:t,stops:[[0,"#FFF"],[1,"#ACF"]]}},r),h=r.style,delete r.style,s=n(a,{stroke:"#68A",fill:{linearGradient:t,stops:[[0,"#9BD"],[1,"#CDF"]]}},s),g=s.style,delete s.style,l=n(a,{style:{color:"#CCC"}},l),m=l.style,delete l.style,Ut(f.element,wt?"mouseover":"mouseenter",function(){3!==v&&f.attr(r).css(h)}),Ut(f.element,wt?"mouseout":"mouseleave",function(){3!==v&&(d=[a,r,s][v],p=[u,h,g][v],f.attr(d).css(p))}),f.setState=function(t){(f.state=v=t)?2===t?f.attr(s).css(g):3===t&&f.attr(l).css(m):f.attr(a).css(u)},f.on("click",function(t){3!==v&&o.call(f,t)}).attr(a).css(Zt({cursor:"default"},u))},crispLine:function(t,e){return t[1]===t[4]&&(t[1]=t[4]=ct(t[1])-e%2/2),t[2]===t[5]&&(t[2]=t[5]=ct(t[2])+e%2/2),t},path:function(t){var e={fill:"none"};return s(t)?e.d=t:r(t)&&Zt(e,t),this.createElement("path").attr(e)},circle:function(t,e,i){return t=r(t)?t:{x:t,y:e,r:i},e=this.createElement("circle"),e.xSetter=function(t){this.element.setAttribute("cx",t)},e.ySetter=function(t){this.element.setAttribute("cy",t)},e.attr(t)},arc:function(t,e,i,n,o,a){return r(t)&&(e=t.y,i=t.r,n=t.innerR,o=t.start,a=t.end,t=t.x),t=this.symbol("arc",t||0,e||0,i||0,i||0,{innerR:n||0,start:o||0,end:a||0}),t.r=i,t},rect:function(t,e,i,n,o,a){var o=r(t)?t.r:o,s=this.createElement("rect"),t=r(t)?t:t===_?{}:{x:t,y:e,width:ut(i,0),height:ut(n,0)};return a!==_&&(t.strokeWidth=a,t=s.crisp(t)),o&&(t.r=o),s.rSetter=function(t){h(this.element,{rx:t,ry:t})},s.attr(t)},setSize:function(t,e,i){var n=this.alignedObjects,o=n.length;for(this.width=t,this.height=e,this.boxWrapper[Jt(i,!0)?"animate":"attr"]({width:t,height:e});o--;)n[o].align()},g:function(t){var e=this.createElement("g");return u(t)?e.attr({"class":"highcharts-"+t}):e},image:function(t,e,i,n,o){var a={preserveAspectRatio:"none"};return arguments.length>1&&Zt(a,{x:e,y:i,width:n,height:o}),a=this.createElement("image").attr(a),a.element.setAttributeNS?a.element.setAttributeNS("http://www.w3.org/1999/xlink","href",t):a.element.setAttribute("hc-svg-href",t),a},symbol:function(t,e,i,n,o,a){var r,s,l,c=this.symbols[t],c=c&&c(ct(e),ct(i),n,o,a),d=/^url\((.*?)\)$/;return c?(r=this.path(c),Zt(r,{symbolName:t,x:e,y:i,width:n,height:o}),a&&Zt(r,a)):d.test(t)&&(l=function(t,e){t.element&&(t.attr({width:e[0],height:e[1]}),t.alignByTranslate||t.translate(ct((n-e[0])/2),ct((o-e[1])/2)))},s=t.match(d)[1],t=At[s]||a&&a.width&&a.height&&[a.width,a.height],r=this.image(s).attr({x:e,y:i}),r.isImg=!0,t?l(r,t):(r.attr({width:0,height:0}),v("img",{onload:function(){0===this.width&&(f(this,{position:"absolute",top:"-999em"}),st.body.appendChild(this)),l(r,At[s]=[this.width,this.height]),this.parentNode&&this.parentNode.removeChild(this)},src:s}))),r},symbols:{circle:function(t,e,i,n){var o=.166*i;return["M",t+i/2,e,"C",t+i+o,e,t+i+o,e+n,t+i/2,e+n,"C",t-o,e+n,t-o,e,t+i/2,e,"Z"]},square:function(t,e,i,n){return["M",t,e,"L",t+i,e,t+i,e+n,t,e+n,"Z"]},triangle:function(t,e,i,n){return["M",t+i/2,e,"L",t+i,e+n,t,e+n,"Z"]},"triangle-down":function(t,e,i,n){return["M",t,e,"L",t+i,e,t+i/2,e+n,"Z"]},diamond:function(t,e,i,n){return["M",t+i/2,e,"L",t+i,e+n/2,t+i/2,e+n,t,e+n/2,"Z"]},arc:function(t,e,i,n,o){var a=o.start,i=o.r||i||n,r=o.end-.001,n=o.innerR,s=o.open,l=mt(a),c=ft(a),d=mt(r),r=ft(r),o=o.end-a<vt?0:1;return["M",t+i*l,e+i*c,"A",i,i,0,o,1,t+i*d,e+i*r,s?"M":"L",t+n*d,e+n*r,"A",n,n,0,o,0,t+n*l,e+n*c,s?"":"Z"]},callout:function(t,e,i,n,o){var a,r=ht(o&&o.r||0,i,n),s=r+6,l=o&&o.anchorX,o=o&&o.anchorY;return a=["M",t+r,e,"L",t+i-r,e,"C",t+i,e,t+i,e,t+i,e+r,"L",t+i,e+n-r,"C",t+i,e+n,t+i,e+n,t+i-r,e+n,"L",t+r,e+n,"C",t,e+n,t,e+n,t,e+n-r,"L",t,e+r,"C",t,e,t,e,t+r,e],l&&l>i&&o>e+s&&o<e+n-s?a.splice(13,3,"L",t+i,o-6,t+i+6,o,t+i,o+6,t+i,e+n-r):l&&l<0&&o>e+s&&o<e+n-s?a.splice(33,3,"L",t,o+6,t-6,o,t,o-6,t,e+r):o&&o>n&&l>t+s&&l<t+i-s?a.splice(23,3,"L",l+6,e+n,l,e+n+6,l-6,e+n,t+r,e+n):o&&o<0&&l>t+s&&l<t+i-s&&a.splice(3,3,"L",l-6,e,l,e-6,l+6,e,i-r,e),a}},clipRect:function(t,e,i,n){var o="highcharts-"+Pt++,a=this.createElement("clipPath").attr({id:o}).add(this.defs),t=this.rect(t,e,i,n,0).add(a);return t.id=o,t.clipPath=a,t.count=0,t},text:function(t,e,i,n){var o=Ot||!$t&&this.forExport,a={};return!n||!this.allowHTML&&this.forExport?(a.x=Math.round(e||0),i&&(a.y=Math.round(i)),(t||0===t)&&(a.text=t),t=this.createElement("text").attr(a),o&&t.css({position:"absolute"}),n||(t.xSetter=function(t,e,i){var n,o,a=i.getElementsByTagName("tspan"),r=i.getAttribute(e);for(o=0;o<a.length;o++)n=a[o],n.getAttribute(e)===r&&n.setAttribute(e,t);i.setAttribute(e,t)}),t):this.html(t,e,i)},fontMetrics:function(e,i){var n,a,e=e||this.style.fontSize;return!e&&i&&t.getComputedStyle&&(i=i.element||i,e=(n=t.getComputedStyle(i,""))&&n.fontSize),e=/px/.test(e)?o(e):/em/.test(e)?12*parseFloat(e):12,n=e<24?e+3:ct(1.2*e),a=ct(.8*n),{h:n,b:a,f:e}},rotCorr:function(t,e,i){var n=t;return e&&i&&(n=ut(n*mt(e*bt),4)),{x:-t/3*ft(e*bt),y:n}},label:function(t,e,i,o,a,r,s,l,c){var d,p,h,g,m,f,v,b,y,x,w,k=this,T=k.g(c),C=k.text("",0,0,s).attr({zIndex:1}),S=0,M=3,$=0,D=0,O={};y=function(){var t,e;t=C.element.style,p=(void 0===h||void 0===g||T.styles.textAlign)&&u(C.textStr)&&C.getBBox(),T.width=(h||p.width||0)+2*M+$,T.height=(g||p.height||0)+2*M,v=M+k.fontMetrics(t&&t.fontSize,C).b,b&&(d||(t=D,e=(l?-v:0)+D,T.box=d=o?k.symbol(o,t,e,T.width,T.height,O):k.rect(t,e,T.width,T.height,0,O["stroke-width"]),d.isImg||d.attr("fill","none"),d.add(T)),d.isImg||d.attr(Zt({width:ct(T.width),height:ct(T.height)},O)),O=null)},x=function(){var t,e=T.styles,e=e&&e.textAlign,i=$+M;t=l?0:v,u(h)&&p&&("center"===e||"right"===e)&&(i+={center:.5,right:1}[e]*(h-p.width)),i===C.x&&t===C.y||(C.attr("x",i),t!==_&&C.attr("y",t)),C.x=i,C.y=t},w=function(t,e){d?d.attr(t,e):O[t]=e},T.onAdd=function(){C.add(T),T.attr({text:t||0===t?t:"",x:e,y:i}),d&&u(a)&&T.attr({anchorX:a,anchorY:r})},T.widthSetter=function(t){h=t},T.heightSetter=function(t){g=t},T.paddingSetter=function(t){u(t)&&t!==M&&(M=T.padding=t,x())},T.paddingLeftSetter=function(t){u(t)&&t!==$&&($=t,x())},T.alignSetter=function(t){t={left:0,center:.5,right:1}[t],t!==S&&(S=t,p&&T.attr({x:e}))},T.textSetter=function(t){t!==_&&C.textSetter(t),y(),x()},T["stroke-widthSetter"]=function(t,e){t&&(b=!0),D=t%2/2,w(e,t)},T.strokeSetter=T.fillSetter=T.rSetter=function(t,e){"fill"===e&&t&&(b=!0),w(e,t)},T.anchorXSetter=function(t,e){a=t,w(e,ct(t)-D-m)},T.anchorYSetter=function(t,e){r=t,w(e,t-f)},T.xSetter=function(t){T.x=t,S&&(t-=S*((h||p.width)+2*M)),m=ct(t),T.attr("translateX",m)},T.ySetter=function(t){f=T.y=ct(t),T.attr("translateY",f)};var A=T.css;return Zt(T,{css:function(t){if(t){var e={},t=n(t);Ht(T.textProps,function(i){t[i]!==_&&(e[i]=t[i],delete t[i])}),C.css(e)}return A.call(T,t)},getBBox:function(){return{width:p.width+2*M,height:p.height+2*M,x:p.x-M,y:p.y-M}},shadow:function(t){return d&&d.shadow(t),T},destroy:function(){Yt(T.element,"mouseenter"),Yt(T.element,"mouseleave"),C&&(C=C.destroy()),d&&(d=d.destroy()),E.prototype.destroy.call(T),T=k=y=x=w=null}})}},N=ie,Zt(E.prototype,{htmlCss:function(t){var e=this.element;return(e=t&&"SPAN"===e.tagName&&t.width)&&(delete t.width,this.textWidth=e,this.updateTransform()),t&&"ellipsis"===t.textOverflow&&(t.whiteSpace="nowrap",t.overflow="hidden"),this.styles=Zt(this.styles,t),f(this.element,t),this},htmlGetBBox:function(){var t=this.element;return"text"===t.nodeName&&(t.style.position="absolute"),{x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}},htmlUpdateTransform:function(){if(this.added){var t=this.renderer,e=this.element,i=this.translateX||0,n=this.translateY||0,a=this.x||0,r=this.y||0,s=this.textAlign||"left",l={left:0,center:.5,right:1}[s],c=this.shadows,d=this.styles;if(f(e,{marginLeft:i,marginTop:n}),c&&Ht(c,function(t){f(t,{marginLeft:i+1,marginTop:n+1})}),this.inverted&&Ht(e.childNodes,function(i){t.invertChild(i,e)}),"SPAN"===e.tagName){var p,h=this.rotation,g=o(this.textWidth),m=[h,s,e.innerHTML,this.textWidth,this.textAlign].join(",");m!==this.cTT&&(p=t.fontMetrics(e.style.fontSize).b,u(h)&&this.setSpanRotation(h,l,p),c=Jt(this.elemWidth,e.offsetWidth),c>g&&/[ \-]/.test(e.textContent||e.innerText)&&(f(e,{width:g+"px",display:"block",whiteSpace:d&&d.whiteSpace||"normal"}),c=g),this.getSpanCorrection(c,p,l,h,s)),f(e,{left:a+(this.xCorr||0)+"px",top:r+(this.yCorr||0)+"px"}),Tt&&(p=e.offsetHeight),this.cTT=m}}else this.alignOnAdd=!0},setSpanRotation:function(t,e,i){var n={},o=wt?"-ms-transform":Tt?"-webkit-transform":Ct?"MozTransform":xt?"-o-transform":"";n[o]=n.transform="rotate("+t+"deg)",n[o+(Ct?"Origin":"-origin")]=n.transformOrigin=100*e+"% "+i+"px",f(this.element,n)},getSpanCorrection:function(t,e,i){this.xCorr=-t*i,this.yCorr=-e}}),Zt(ie.prototype,{html:function(t,e,i){var n=this.createElement("span"),o=n.element,a=n.renderer;return n.textSetter=function(t){t!==o.innerHTML&&delete this.bBox,o.innerHTML=this.textStr=t,n.htmlUpdateTransform()},n.xSetter=n.ySetter=n.alignSetter=n.rotationSetter=function(t,e){"align"===e&&(e="textAlign"),n[e]=t,n.htmlUpdateTransform()},n.attr({text:t,x:ct(e),y:ct(i)}).css({position:"absolute",fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),o.style.whiteSpace="nowrap",n.css=n.htmlCss,a.isSVG&&(n.add=function(t){var e,i=a.box.parentNode,r=[];if(this.parentGroup=t){if(e=t.div,!e){for(;t;)r.push(t),t=t.parentGroup;Ht(r.reverse(),function(t){var n,o=h(t.element,"class");o&&(o={className:o}),e=t.div=t.div||v(Ft,o,{position:"absolute",left:(t.translateX||0)+"px",top:(t.translateY||0)+"px"},e||i),n=e.style,Zt(t,{translateXSetter:function(e,i){n.left=e+"px",t[i]=e,t.doTransform=!0},translateYSetter:function(e,i){n.top=e+"px",t[i]=e,t.doTransform=!0}}),Ht(["opacity","visibility"],function(e){Qt(t,e+"Setter",function(t,e,i,o){t.call(this,e,i,o),n[i]=e})})})}}else e=i;return e.appendChild(o),n.added=!0,n.alignOnAdd&&n.htmlUpdateTransform(),n}),n}});var ne;if(!$t&&!Ot){ne={init:function(t,e){var i=["<",e,' filled="f" stroked="f"'],n=["position: ","absolute",";"],o=e===Ft;("shape"===e||o)&&n.push("left:0;top:0;width:1px;height:1px;"),n.push("visibility: ",o?"hidden":"visible"),i.push(' style="',n.join(""),'"/>'),e&&(i=o||"span"===e||"img"===e?i.join(""):t.prepVML(i),this.element=v(i)),this.renderer=t},add:function(t){var e=this.renderer,i=this.element,n=e.box,o=t&&t.inverted,n=t?t.element||t:n;return t&&(this.parentGroup=t),o&&e.invertChild(i,n),n.appendChild(i),this.added=!0,this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform(),this.onAdd&&this.onAdd(),this},updateTransform:E.prototype.htmlUpdateTransform,setSpanRotation:function(){var t=this.rotation,e=mt(t*bt),i=ft(t*bt);f(this.element,{filter:t?["progid:DXImageTransform.Microsoft.Matrix(M11=",e,", M12=",-i,", M21=",i,", M22=",e,", sizingMethod='auto expand')"].join(""):"none"})},getSpanCorrection:function(t,e,i,n,o){var a,r=n?mt(n*bt):1,s=n?ft(n*bt):0,l=Jt(this.elemHeight,this.element.offsetHeight);this.xCorr=r<0&&-t,this.yCorr=s<0&&-l,a=r*s<0,this.xCorr+=s*e*(a?1-i:i),this.yCorr-=r*e*(n?a?i:1-i:1),o&&"left"!==o&&(this.xCorr-=t*i*(r<0?-1:1),n&&(this.yCorr-=l*i*(s<0?-1:1)),f(this.element,{textAlign:o}))},pathToVML:function(t){for(var e=t.length,i=[];e--;)l(t[e])?i[e]=ct(10*t[e])-5:"Z"===t[e]?i[e]="x":(i[e]=t[e],!t.isArc||"wa"!==t[e]&&"at"!==t[e]||(i[e+5]===i[e+7]&&(i[e+7]+=t[e+7]>t[e+5]?1:-1),i[e+6]===i[e+8]&&(i[e+8]+=t[e+8]>t[e+6]?1:-1)));return i.join(" ")||"x"},clip:function(t){var e,i=this;return t?(e=t.members,p(e,i),e.push(i),i.destroyClip=function(){p(e,i)},t=t.getCSS(i)):(i.destroyClip&&i.destroyClip(),t={clip:kt?"inherit":"rect(auto)"}),i.css(t)},css:E.prototype.htmlCss,safeRemoveChild:function(t){t.parentNode&&D(t)},destroy:function(){return this.destroyClip&&this.destroyClip(),E.prototype.destroy.apply(this)},on:function(e,i){return this.element["on"+e]=function(){var e=t.event;e.target=e.srcElement,i(e)},this},cutOffPath:function(t,e){var i,t=t.split(/[ ,]/);return i=t.length,9!==i&&11!==i||(t[i-4]=t[i-2]=o(t[i-2])-10*e),t.join(" ")},shadow:function(t,e,i){var n,a,r,s,l,c,d,p=[],u=this.element,h=this.renderer,g=u.style,m=u.path;if(m&&"string"!=typeof m.value&&(m="x"),l=m,t){for(c=Jt(t.width,3),d=(t.opacity||.15)/c,n=1;n<=3;n++)s=2*c+1-2*n,i&&(l=this.cutOffPath(m.value,s+.5)),r=['<shape isShadow="true" strokeweight="',s,'" filled="false" path="',l,'" coordsize="10 10" style="',u.style.cssText,'" />'],a=v(h.prepVML(r),null,{left:o(g.left)+Jt(t.offsetX,1),top:o(g.top)+Jt(t.offsetY,1)}),i&&(a.cutOff=s+1),r=['<stroke color="',t.color||"black",'" opacity="',d*n,'"/>'],v(h.prepVML(r),null,null,a),e?e.element.appendChild(a):u.parentNode.insertBefore(a,u),p.push(a);this.shadows=p}return this},updateShadows:Lt,setAttr:function(t,e){kt?this.element[t]=e:this.element.setAttribute(t,e)},classSetter:function(t){this.element.className=t},dashstyleSetter:function(t,e,i){(i.getElementsByTagName("stroke")[0]||v(this.renderer.prepVML(["<stroke/>"]),null,null,i))[e]=t||"solid",this[e]=t},dSetter:function(t,e,i){var n=this.shadows,t=t||[];if(this.d=t.join&&t.join(" "),i.path=t=this.pathToVML(t),n)for(i=n.length;i--;)n[i].path=n[i].cutOff?this.cutOffPath(t,n[i].cutOff):t;this.setAttr(e,t)},fillSetter:function(t,e,i){var n=i.nodeName;"SPAN"===n?i.style.color=t:"IMG"!==n&&(i.filled="none"!==t,this.setAttr("fillcolor",this.renderer.color(t,i,e,this)))},"fill-opacitySetter":function(t,e,i){v(this.renderer.prepVML(["<",e.split("-")[0],' opacity="',t,'"/>']),null,null,i)},opacitySetter:Lt,rotationSetter:function(t,e,i){i=i.style,this[e]=i[e]=t,i.left=-ct(ft(t*bt)+1)+"px",i.top=ct(mt(t*bt))+"px"},strokeSetter:function(t,e,i){this.setAttr("strokecolor",this.renderer.color(t,i,e,this))},"stroke-widthSetter":function(t,e,i){i.stroked=!!t,this[e]=t,l(t)&&(t+="px"),this.setAttr("strokeweight",t)},titleSetter:function(t,e){this.setAttr(e,t)},visibilitySetter:function(t,e,i){"inherit"===t&&(t="visible"),this.shadows&&Ht(this.shadows,function(i){i.style[e]=t}),"DIV"===i.nodeName&&(t="hidden"===t?"-999em":0,kt||(i.style[e]=t?"visible":"hidden"),e="top"),i.style[e]=t},xSetter:function(t,e,i){this[e]=t,"x"===e?e="left":"y"===e&&(e="top"),this.updateClipping?(this[e]=t,this.updateClipping()):i.style[e]=t},zIndexSetter:function(t,e,i){i.style[e]=t}},ne["stroke-opacitySetter"]=ne["fill-opacitySetter"],rt.VMLElement=ne=b(E,ne),ne.prototype.ySetter=ne.prototype.widthSetter=ne.prototype.heightSetter=ne.prototype.xSetter;var oe={Element:ne,isIE8:yt.indexOf("MSIE 8.0")>-1,init:function(t,e,i,n){var o;if(this.alignedObjects=[],n=this.createElement(Ft).css(Zt(this.getStyle(n),{position:"relative"})),o=n.element,t.appendChild(n.element),this.isVML=!0,this.box=o,this.boxWrapper=n,this.gradients={},this.cache={},this.cacheKeys=[],this.setSize(e,i,!1),!st.namespaces.hcv){st.namespaces.add("hcv","urn:schemas-microsoft-com:vml");try{st.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}catch(a){st.styleSheets[0].cssText+="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(t,e,i,n){var o=this.createElement(),a=r(t);return Zt(o,{members:[],count:0,left:(a?t.x:t)+1,top:(a?t.y:e)+1,width:(a?t.width:i)-1,height:(a?t.height:n)-1,getCSS:function(t){var e=t.element,i=e.nodeName,t=t.inverted,n=this.top-("shape"===i?e.offsetTop:0),o=this.left,e=o+this.width,a=n+this.height,n={clip:"rect("+ct(t?o:n)+"px,"+ct(t?a:e)+"px,"+ct(t?e:a)+"px,"+ct(t?n:o)+"px)"};return!t&&kt&&"DIV"===i&&Zt(n,{width:e+"px",height:a+"px"}),n},updateClipping:function(){Ht(o.members,function(t){t.element&&t.css(o.getCSS(t))})}})},color:function(t,e,i,n){var o,a,r,s=this,l=/^rgba/,c="none";if(t&&t.linearGradient?r="gradient":t&&t.radialGradient&&(r="pattern"),r){var d,p,u,h,g,m,f,b,y=t.linearGradient||t.radialGradient,x="",t=t.stops,w=[],k=function(){a=['<fill colors="'+w.join(",")+'" opacity="',g,'" o:opacity2="',h,'" type="',r,'" ',x,'focus="100%" method="any" />'],v(s.prepVML(a),null,null,e)};if(u=t[0],b=t[t.length-1],u[0]>0&&t.unshift([0,u[1]]),b[0]<1&&t.push([1,b[1]]),Ht(t,function(t,e){l.test(t[1])?(o=L(t[1]),d=o.get("rgb"),p=o.get("a")):(d=t[1],p=1),w.push(100*t[0]+"% "+d),e?(g=p,m=d):(h=p,f=d)}),"fill"===i)if("gradient"===r)i=y.x1||y[0]||0,t=y.y1||y[1]||0,u=y.x2||y[2]||0,y=y.y2||y[3]||0,x='angle="'+(90-180*lt.atan((y-t)/(u-i))/vt)+'"',k();else{var T,c=y.r,C=2*c,S=2*c,M=y.cx,$=y.cy,D=e.radialReference,c=function(){D&&(T=n.getBBox(),M+=(D[0]-T.x)/T.width-.5,$+=(D[1]-T.y)/T.height-.5,C*=D[2]/T.width,S*=D[2]/T.height),x='src="'+R.global.VMLRadialGradientURL+'" size="'+C+","+S+'" origin="0.5,0.5" position="'+M+","+$+'" color2="'+f+'" ',k()};n.added?c():n.onAdd=c,c=m}else c=d}else l.test(t)&&"IMG"!==e.tagName?(o=L(t),n[i+"-opacitySetter"](o.get("a"),i,e),c=o.get("rgb")):(c=e.getElementsByTagName(i),c.length&&(c[0].opacity=1,c[0].type="solid"),c=t);return c},prepVML:function(t){var e=this.isIE8,t=t.join("");return e?(t=t.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),t=t.indexOf('style="')===-1?t.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):t.replace('style="','style="display:inline-block;behavior:url(#default#VML);')):t=t.replace("<","<hcv:"),t},text:ie.prototype.html,path:function(t){var e={coordsize:"10 10"};return s(t)?e.d=t:r(t)&&Zt(e,t),this.createElement("shape").attr(e)},circle:function(t,e,i){var n=this.symbol("circle");return r(t)&&(i=t.r,e=t.y,t=t.x),n.isCircle=!0,n.r=i,n.attr({x:t,y:e})},g:function(t){var e;return t&&(e={className:"highcharts-"+t,"class":"highcharts-"+t}),this.createElement(Ft).attr(e)},image:function(t,e,i,n,o){var a=this.createElement("img").attr({src:t});return arguments.length>1&&a.attr({x:e,y:i,width:n,height:o}),a},createElement:function(t){return"rect"===t?this.symbol(t):ie.prototype.createElement.call(this,t)},invertChild:function(t,e){var i=this,n=e.style,a="IMG"===t.tagName&&t.style;f(t,{flip:"x",left:o(n.width)-(a?o(a.top):1),top:o(n.height)-(a?o(a.left):1),rotation:-90}),Ht(t.childNodes,function(e){i.invertChild(e,t)})},symbols:{arc:function(t,e,i,n,o){var a=o.start,r=o.end,s=o.r||i||n,i=o.innerR,n=mt(a),l=ft(a),c=mt(r),d=ft(r);return r-a===0?["x"]:(a=["wa",t-s,e-s,t+s,e+s,t+s*n,e+s*l,t+s*c,e+s*d],o.open&&!i&&a.push("e","M",t,e),a.push("at",t-i,e-i,t+i,e+i,t+i*c,e+i*d,t+i*n,e+i*l,"x","e"),a.isArc=!0,a)},circle:function(t,e,i,n,o){return o&&(i=n=2*o.r),o&&o.isCircle&&(t-=i/2,e-=n/2),["wa",t,e,t+i,e+n,t+i,e+n/2,t+i,e+n/2,"e"]},rect:function(t,e,i,n,o){return ie.prototype.symbols[u(o)&&o.r?"callout":"square"].call(0,t,e,i,n,o)}}};rt.VMLRenderer=ne=function(){this.init.apply(this,arguments)},ne.prototype=n(ie.prototype,oe),N=ne}ie.prototype.measureSpanWidth=function(t,e){var i,n=st.createElement("span");return i=st.createTextNode(t),n.appendChild(i),f(n,e),this.box.appendChild(n),i=n.offsetWidth,D(n),i};var ae;Ot&&(rt.CanVGRenderer=ne=function(){Mt="http://www.w3.org/1999/xhtml"},ne.prototype.symbols={},ae=function(){function t(){var t,i=e.length;for(t=0;t<i;t++)e[t]();e=[]}var e=[];return{push:function(i,n){if(0===e.length){var o=st.getElementsByTagName("head")[0],a=st.createElement("script");a.type="text/javascript",a.src=n,a.onload=t,o.appendChild(a)}e.push(i)}}}(),N=ne),I.prototype={addLabel:function(){var t,e=this.axis,i=e.options,o=e.chart,a=e.categories,r=e.names,s=this.pos,l=i.labels,c=e.tickPositions,p=s===c[0],h=s===c[c.length-1],r=a?Jt(a[s],r[s],s):s,a=this.label,c=c.info;e.isDatetimeAxis&&c&&(t=i.dateTimeLabelFormats[c.higherRanks[s]||c.unitName]),this.isFirst=p,this.isLast=h,i=e.labelFormatter.call({axis:e,chart:o,isFirst:p,isLast:h,dateTimeLabelFormat:t,value:e.isLog?O(d(r)):r}),u(a)?a&&a.attr({text:i}):(this.labelLength=(this.label=a=u(i)&&l.enabled?o.renderer.text(i,0,0,l.useHTML).css(n(l.style)).add(e.labelGroup):null)&&a.getBBox().width,this.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(t){var e,i=this.axis,n=t.x,o=i.chart.chartWidth,a=i.chart.spacing,r=Jt(i.labelLeft,ht(i.pos,a[3])),a=Jt(i.labelRight,ut(i.pos+i.len,o-a[1])),s=this.label,l=this.rotation,c={left:0,center:.5,right:1}[i.labelAlign],d=s.getBBox().width,p=i.slotWidth,u=1,h={};l?l<0&&n-c*d<r?e=ct(n/mt(l*bt)-r):l>0&&n+c*d>a&&(e=ct((o-n)/mt(l*bt))):(o=n+(1-c)*d,n-c*d<r?p=t.x+p*(1-c)-r:o>a&&(p=a-t.x+p*c,u=-1),p=ht(i.slotWidth,p),p<i.slotWidth&&"center"===i.labelAlign&&(t.x+=u*(i.slotWidth-p-c*(i.slotWidth-ht(d,p)))),(d>p||i.autoRotation&&s.styles.width)&&(e=p)),e&&(h.width=e,i.options.labels.style.textOverflow||(h.textOverflow="ellipsis"),s.css(h))},getPosition:function(t,e,i,n){var o=this.axis,a=o.chart,r=n&&a.oldChartHeight||a.chartHeight;return{x:t?o.translate(e+i,null,null,n)+o.transB:o.left+o.offset+(o.opposite?(n&&a.oldChartWidth||a.chartWidth)-o.right-o.left:0),y:t?r-o.bottom+o.offset-(o.opposite?o.height:0):r-o.translate(e+i,null,null,n)-o.transB}},getLabelPosition:function(t,e,i,n,o,a,r,s){var l=this.axis,c=l.transA,d=l.reversed,p=l.staggerLines,h=l.tickRotCorr||{x:0,y:0},g=o.y;return u(g)||(g=2===l.side?h.y+8:g=mt(i.rotation*bt)*(h.y-i.getBBox(!1,0).height/2)),t=t+o.x+h.x-(a&&n?a*c*(d?-1:1):0),e=e+g-(a&&!n?a*c*(d?1:-1):0),p&&(i=r/(s||1)%p,l.opposite&&(i=p-i-1),e+=i*(l.labelOffset/p)),{x:t,y:ct(e)}},getMarkPath:function(t,e,i,n,o,a){return a.crispLine(["M",t,e,"L",t+(o?0:-i),e+(o?i:0)],n)},render:function(t,e,i){var n=this.axis,o=n.options,a=n.chart.renderer,r=n.horiz,s=this.type,l=this.label,c=this.pos,d=o.labels,p=this.gridLine,u=s?s+"Grid":"grid",h=s?s+"Tick":"tick",g=o[u+"LineWidth"],m=o[u+"LineColor"],f=o[u+"LineDashStyle"],v=o[h+"Length"],u=Jt(o[h+"Width"],!s&&n.isXAxis?1:0),b=o[h+"Color"],y=o[h+"Position"],h=this.mark,x=d.step,w=!0,k=n.tickmarkOffset,T=this.getPosition(r,c,k,e),C=T.x,T=T.y,S=r&&C===n.pos+n.len||!r&&T===n.pos?-1:1,i=Jt(i,1);this.isActive=!0,g&&(c=n.getPlotLinePath(c+k,g*S,e,!0),p===_&&(p={stroke:m,"stroke-width":g},f&&(p.dashstyle=f),s||(p.zIndex=1),e&&(p.opacity=0),this.gridLine=p=g?a.path(c).attr(p).add(n.gridGroup):null),!e&&p&&c&&p[this.isNew?"attr":"animate"]({d:c,opacity:i})),u&&v&&("inside"===y&&(v=-v),n.opposite&&(v=-v),s=this.getMarkPath(C,T,v,u*S,r,a),h?h.animate({d:s,opacity:i}):this.mark=a.path(s).attr({stroke:b,"stroke-width":u,opacity:i}).add(n.axisGroup)),l&&!isNaN(C)&&(l.xy=T=this.getLabelPosition(C,T,l,r,d,k,t,x),this.isFirst&&!this.isLast&&!Jt(o.showFirstLabel,1)||this.isLast&&!this.isFirst&&!Jt(o.showLastLabel,1)?w=!1:r&&!n.isRadial&&!d.step&&!d.rotation&&!e&&0!==i&&this.handleOverflow(T),x&&t%x&&(w=!1),w&&!isNaN(T.y)?(T.opacity=i,l[this.isNew?"attr":"animate"](T),this.isNew=!1):l.attr("y",-9999))},destroy:function(){$(this,this.axis)}},rt.PlotLineOrBand=function(t,e){this.axis=t,e&&(this.options=e,this.id=e.id)},rt.PlotLineOrBand.prototype={render:function(){var t,e=this,i=e.axis,o=i.horiz,a=e.options,r=a.label,s=e.label,l=a.width,d=a.to,p=a.from,h=u(p)&&u(d),g=a.value,m=a.dashStyle,f=e.svgElem,v=[],b=a.color,y=a.zIndex,x=a.events,w={},k=i.chart.renderer;if(i.isLog&&(p=c(p),d=c(d),g=c(g)),l)v=i.getPlotLinePath(g,l),w={stroke:b,"stroke-width":l},m&&(w.dashstyle=m);else{if(!h)return;v=i.getPlotBandPath(p,d,a),b&&(w.fill=b),a.borderWidth&&(w.stroke=a.borderColor,w["stroke-width"]=a.borderWidth)}if(u(y)&&(w.zIndex=y),f)v?(f.show(),f.animate({d:v})):(f.hide(),s&&(e.label=s=s.destroy()));else if(v&&v.length&&(e.svgElem=f=k.path(v).attr(w).add(),x))for(t in a=function(t){f.on(t,function(i){x[t].apply(e,[i])})},x)a(t);return r&&u(r.text)&&v&&v.length&&i.width>0&&i.height>0&&!v.flat?(r=n({align:o&&h&&"center",x:o?!h&&4:10,verticalAlign:!o&&h&&"middle",y:o?h?16:10:h?6:-4,rotation:o&&!h&&90},r),s||(w={align:r.textAlign||r.align,rotation:r.rotation},u(y)&&(w.zIndex=y),e.label=s=k.text(r.text,0,0,r.useHTML).attr(w).css(r.style).add()),i=[v[1],v[4],h?v[6]:v[1]],h=[v[2],v[5],h?v[7]:v[2]],v=S(i),o=S(h),s.align(r,!1,{x:v,y:o,width:M(i)-v,height:M(h)-o}),s.show()):s&&s.hide(),e},destroy:function(){p(this.axis.plotLinesAndBands,this),delete this.axis,$(this)}};var re=rt.Axis=function(){this.init.apply(this,arguments)};re.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#D8D8D8",labels:{enabled:!0,style:{color:"#606060",cursor:"default",fontSize:"11px"},x:0,y:15},lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",title:{align:"middle",style:{color:"#707070"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return rt.numberFormat(this.total,-1)},style:n(te.line.dataLabels.style,{color:"#000000"})}},defaultLeftAxisOptions:{labels:{x:-15,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0,y:null},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0,y:-15},title:{rotation:0}},init:function(t,e){var i=e.isX;this.chart=t,this.horiz=t.inverted?!i:i,this.coll=(this.isXAxis=i)?"xAxis":"yAxis",this.opposite=e.opposite,this.side=e.side||(this.horiz?this.opposite?0:2:this.opposite?1:3),this.setOptions(e);var n=this.options,o=n.type;this.labelFormatter=n.labels.formatter||this.defaultLabelFormatter,this.userOptions=e,this.minPixelPadding=0,this.reversed=n.reversed,this.visible=n.visible!==!1,this.zoomEnabled=n.zoomEnabled!==!1,this.categories=n.categories||"category"===o,this.names=this.names||[],this.isLog="logarithmic"===o,this.isDatetimeAxis="datetime"===o,this.isLinked=u(n.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=n.minRange||n.maxZoom,this.range=n.range,this.offset=n.offset||0,this.stacks={},this.oldStacks={},this.stacksTouched=0,this.min=this.max=null,this.crosshair=Jt(n.crosshair,g(t.options.tooltip.crosshairs)[i?0:1],!1);var a,n=this.options.events;Rt(this,t.axes)===-1&&(i&&!this.isColorAxis?t.axes.splice(t.xAxis.length,0,this):t.axes.push(this),t[this.coll].push(this)),this.series=this.series||[],t.inverted&&i&&this.reversed===_&&(this.reversed=!0),this.removePlotLine=this.removePlotBand=this.removePlotBandOrLine;for(a in n)Ut(this,a,n[a]);this.isLog&&(this.val2lin=c,this.lin2val=d)},setOptions:function(t){this.options=n(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],n(R[this.coll],t))},defaultLabelFormatter:function(){var t,e=this.axis,i=this.value,n=e.categories,o=this.dateTimeLabelFormat,a=R.lang.numericSymbols,r=a&&a.length,s=e.options.labels.format,e=e.isLog?i:e.tickInterval;if(s)t=w(s,this);else if(n)t=i;else if(o)t=H(o,i);else if(r&&e>=1e3)for(;r--&&t===_;)n=Math.pow(1e3,r+1),e>=n&&10*i%n===0&&null!==a[r]&&(t=rt.numberFormat(i/n,-1)+a[r]);return t===_&&(t=gt(i)>=1e4?rt.numberFormat(i,-1):rt.numberFormat(i,-1,_,"")),t},getSeriesExtremes:function(){var t=this,e=t.chart;t.hasVisibleSeries=!1,t.dataMin=t.dataMax=t.threshold=null,t.softThreshold=!t.isXAxis,t.buildStacks&&t.buildStacks(),Ht(t.series,function(i){if(i.visible||!e.options.chart.ignoreHiddenSeries){var n,o=i.options,a=o.threshold;t.hasVisibleSeries=!0,t.isLog&&a<=0&&(a=null),t.isXAxis?(o=i.xData,o.length&&(t.dataMin=ht(Jt(t.dataMin,o[0]),S(o)),t.dataMax=ut(Jt(t.dataMax,o[0]),M(o)))):(i.getExtremes(),n=i.dataMax,i=i.dataMin,u(i)&&u(n)&&(t.dataMin=ht(Jt(t.dataMin,i),i),t.dataMax=ut(Jt(t.dataMax,n),n)),u(a)&&(t.threshold=a),o.softThreshold&&!t.isLog||(t.softThreshold=!1))}})},translate:function(t,e,i,n,o,a){var r=this.linkedParent||this,s=1,c=0,d=n?r.oldTransA:r.transA,n=n?r.oldMin:r.min,p=r.minPixelPadding,o=(r.doPostTranslate||r.isLog&&o)&&r.lin2val;return d||(d=r.transA),i&&(s*=-1,
c=r.len),r.reversed&&(s*=-1,c-=s*(r.sector||r.len)),e?(t=t*s+c,t-=p,t=t/d+n,o&&(t=r.lin2val(t))):(o&&(t=r.val2lin(t)),"between"===a&&(a=.5),t=s*(t-n)*d+c+s*p+(l(a)?d*a*r.pointRange:0)),t},toPixels:function(t,e){return this.translate(t,!1,!this.horiz,null,!0)+(e?0:this.pos)},toValue:function(t,e){return this.translate(t-(e?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(t,e,i,n,o){var a,r,s,l=this.chart,c=this.left,d=this.top,p=i&&l.oldChartHeight||l.chartHeight,u=i&&l.oldChartWidth||l.chartWidth;a=this.transB;var h=function(t,e,i){return(t<e||t>i)&&(n?t=ht(ut(e,t),i):s=!0),t},o=Jt(o,this.translate(t,null,null,i)),t=i=ct(o+a);return a=r=ct(p-o-a),isNaN(o)?s=!0:this.horiz?(a=d,r=p-this.bottom,t=i=h(t,c,c+this.width)):(t=c,i=u-this.right,a=r=h(a,d,d+this.height)),s&&!n?null:l.renderer.crispLine(["M",t,a,"L",i,r],e||1)},getLinearTickPositions:function(t,e,i){var n,o=O(dt(e/t)*t),a=O(pt(i/t)*t),r=[];if(e===i&&l(e))return[e];for(e=o;e<=a&&(r.push(e),e=O(e+t),e!==n);)n=e;return r},getMinorTickPositions:function(){var t,e=this.options,i=this.tickPositions,n=this.minorTickInterval,o=[],a=this.pointRangePadding||0;t=this.min-a;var a=this.max+a,r=a-t;if(r&&r/n<this.len/3)if(this.isLog)for(a=i.length,t=1;t<a;t++)o=o.concat(this.getLogTickPositions(n,i[t-1],i[t],!0));else if(this.isDatetimeAxis&&"auto"===e.minorTickInterval)o=o.concat(this.getTimeTicks(this.normalizeTimeTickInterval(n),t,a,e.startOfWeek));else for(i=t+(i[0]-t)%n;i<=a;i+=n)o.push(i);return 0!==o.length&&this.trimTicks(o,e.startOnTick,e.endOnTick),o},adjustForMinRange:function(){var t,e,i,n,o,a,r,s=this.options,l=this.min,c=this.max,d=this.dataMax-this.dataMin>=this.minRange;this.isXAxis&&this.minRange===_&&!this.isLog&&(u(s.min)||u(s.max)?this.minRange=null:(Ht(this.series,function(t){for(o=t.xData,i=a=t.xIncrement?1:o.length-1;i>0;i--)n=o[i]-o[i-1],(e===_||n<e)&&(e=n)}),this.minRange=ht(5*e,this.dataMax-this.dataMin))),c-l<this.minRange&&(r=this.minRange,t=(r-c+l)/2,t=[l-t,Jt(s.min,l-t)],d&&(t[2]=this.dataMin),l=M(t),c=[l+r,Jt(s.max,l+r)],d&&(c[2]=this.dataMax),c=S(c),c-l<r&&(t[0]=c-r,t[1]=Jt(s.min,c-r),l=M(t))),this.min=l,this.max=c},setAxisTranslation:function(t){var e,i=this,n=i.max-i.min,o=i.axisPointRange||0,r=0,s=0,l=i.linkedParent,c=!!i.categories,d=i.transA,p=i.isXAxis;(p||c||o)&&(l?(r=l.minPointOffset,s=l.pointRangePadding):(Ht(i.series,function(t){var i=t.closestPointRange;!t.noSharedTooltip&&u(i)&&(e=u(e)?ht(e,i):i)}),Ht(i.series,function(t){var n=c?1:p?Jt(t.options.pointRange,e,0):i.axisPointRange||0,t=t.options.pointPlacement;o=ut(o,n),i.single||(r=ut(r,a(t)?0:n/2),s=ut(s,"on"===t?0:n))})),l=i.ordinalSlope&&e?i.ordinalSlope/e:1,i.minPointOffset=r*=l,i.pointRangePadding=s*=l,i.pointRange=ht(o,n),p&&(i.closestPointRange=e)),t&&(i.oldTransA=d),i.translationSlope=i.transA=d=i.len/(n+s||1),i.transB=i.horiz?i.left:i.bottom,i.minPixelPadding=d*r},minFromRange:function(){return this.max-this.range},setTickInterval:function(t){var i,n,o,a,r=this,s=r.chart,d=r.options,p=r.isLog,h=r.isDatetimeAxis,g=r.isXAxis,m=r.isLinked,f=d.maxPadding,v=d.minPadding,b=d.tickInterval,y=d.tickPixelInterval,x=r.categories,w=r.threshold,C=r.softThreshold;!h&&!x&&!m&&this.getTickAmount(),o=Jt(r.userMin,d.min),a=Jt(r.userMax,d.max),m?(r.linkedParent=s[r.coll][d.linkedTo],s=r.linkedParent.getExtremes(),r.min=Jt(s.min,s.dataMin),r.max=Jt(s.max,s.dataMax),d.type!==r.linkedParent.options.type&&e(11,1)):(!C&&u(w)&&(r.dataMin>=w?(i=w,v=0):r.dataMax<=w&&(n=w,f=0)),r.min=Jt(o,i,r.dataMin),r.max=Jt(a,n,r.dataMax)),p&&(!t&&ht(r.min,Jt(r.dataMin,r.min))<=0&&e(10,1),r.min=O(c(r.min),15),r.max=O(c(r.max),15)),r.range&&u(r.max)&&(r.userMin=r.min=o=ut(r.min,r.minFromRange()),r.userMax=a=r.max,r.range=null),r.beforePadding&&r.beforePadding(),r.adjustForMinRange(),x||r.axisPointRange||r.usePercentage||m||!u(r.min)||!u(r.max)||!(s=r.max-r.min)||(!u(o)&&v&&(r.min-=s*v),!u(a)&&f&&(r.max+=s*f)),l(d.floor)&&(r.min=ut(r.min,d.floor)),l(d.ceiling)&&(r.max=ht(r.max,d.ceiling)),C&&u(r.dataMin)&&(w=w||0,!u(o)&&r.min<w&&r.dataMin>=w?r.min=w:!u(a)&&r.max>w&&r.dataMax<=w&&(r.max=w)),r.tickInterval=r.min===r.max||void 0===r.min||void 0===r.max?1:m&&!b&&y===r.linkedParent.options.tickPixelInterval?b=r.linkedParent.tickInterval:Jt(b,this.tickAmount?(r.max-r.min)/ut(this.tickAmount-1,1):void 0,x?1:(r.max-r.min)*y/ut(r.len,y)),g&&!t&&Ht(r.series,function(t){t.processData(r.min!==r.oldMin||r.max!==r.oldMax)}),r.setAxisTranslation(!0),r.beforeSetTickPositions&&r.beforeSetTickPositions(),r.postProcessTickInterval&&(r.tickInterval=r.postProcessTickInterval(r.tickInterval)),r.pointRange&&!b&&(r.tickInterval=ut(r.pointRange,r.tickInterval)),t=Jt(d.minTickInterval,r.isDatetimeAxis&&r.closestPointRange),!b&&r.tickInterval<t&&(r.tickInterval=t),h||p||b||(r.tickInterval=T(r.tickInterval,null,k(r.tickInterval),Jt(d.allowDecimals,!(r.tickInterval>.5&&r.tickInterval<5&&r.max>1e3&&r.max<9999)),!!this.tickAmount)),!this.tickAmount&&this.len&&(r.tickInterval=r.unsquish()),this.setTickPositions()},setTickPositions:function(){var t,e,i=this.options,n=i.tickPositions,o=i.tickPositioner,a=i.startOnTick,r=i.endOnTick;this.tickmarkOffset=this.categories&&"between"===i.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===i.minorTickInterval&&this.tickInterval?this.tickInterval/5:i.minorTickInterval,this.tickPositions=t=n&&n.slice(),!t&&(t=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,i.units),this.min,this.max,i.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max),t.length>this.len&&(t=[t[0],t.pop()]),this.tickPositions=t,o&&(o=o.apply(this,[this.min,this.max])))&&(this.tickPositions=t=o),this.isLinked||(this.trimTicks(t,a,r),this.min===this.max&&u(this.min)&&!this.tickAmount&&(e=!0,this.min-=.5,this.max+=.5),this.single=e,!n&&!o&&this.adjustTickAmount())},trimTicks:function(t,e,i){var n=t[0],o=t[t.length-1],a=this.minPointOffset||0;e?this.min=n:this.min-a>n&&t.shift(),i?this.max=o:this.max+a<o&&t.pop(),0===t.length&&u(n)&&t.push((o+n)/2)},alignToOthers:function(){var t,e={},i=this.options;return this.chart.options.chart.alignTicks!==!1&&i.alignTicks!==!1&&Ht(this.chart[this.coll],function(i){var n=i.options,n=[i.horiz?n.left:n.top,n.width,n.height,n.pane].join(",");i.series.length&&(e[n]?t=!0:e[n]=1)}),t},getTickAmount:function(){var t=this.options,e=t.tickAmount,i=t.tickPixelInterval;!u(t.tickInterval)&&this.len<i&&!this.isRadial&&!this.isLog&&t.startOnTick&&t.endOnTick&&(e=2),!e&&this.alignToOthers()&&(e=pt(this.len/i)+1),e<4&&(this.finalTickAmt=e,e=5),this.tickAmount=e},adjustTickAmount:function(){var t=this.tickInterval,e=this.tickPositions,i=this.tickAmount,n=this.finalTickAmt,o=e&&e.length;if(o<i){for(;e.length<i;)e.push(O(e[e.length-1]+t));this.transA*=(o-1)/(i-1),this.max=e[e.length-1]}else o>i&&(this.tickInterval*=2,this.setTickPositions());if(u(n)){for(t=i=e.length;t--;)(3===n&&t%2===1||n<=2&&t>0&&t<i-1)&&e.splice(t,1);this.finalTickAmt=_}},setScale:function(){var t,e;this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),e=this.len!==this.oldAxisLength,Ht(this.series,function(e){(e.isDirtyData||e.isDirty||e.xAxis.isDirty)&&(t=!0)}),e||t||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax||this.alignToOthers()?(this.resetStacks&&this.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=e||this.min!==this.oldMin||this.max!==this.oldMax)):this.cleanStacks&&this.cleanStacks()},setExtremes:function(t,e,i,n,o){var a=this,r=a.chart,i=Jt(i,!0);Ht(a.series,function(t){delete t.kdTree}),o=Zt(o,{min:t,max:e}),Vt(a,"setExtremes",o,function(){a.userMin=t,a.userMax=e,a.eventArgs=o,i&&r.redraw(n)})},zoom:function(t,e){var i=this.dataMin,n=this.dataMax,o=this.options,a=ht(i,Jt(o.min,i)),o=ut(n,Jt(o.max,n));return this.allowZoomOutside||(u(i)&&t<=a&&(t=a),u(n)&&e>=o&&(e=o)),this.displayBtn=t!==_||e!==_,this.setExtremes(t,e,!1,_,{trigger:"zoom"}),!0},setAxisSize:function(){var t=this.chart,e=this.options,i=e.offsetLeft||0,n=this.horiz,o=Jt(e.width,t.plotWidth-i+(e.offsetRight||0)),a=Jt(e.height,t.plotHeight),r=Jt(e.top,t.plotTop),e=Jt(e.left,t.plotLeft+i),i=/%$/;i.test(a)&&(a=parseFloat(a)/100*t.plotHeight),i.test(r)&&(r=parseFloat(r)/100*t.plotHeight+t.plotTop),this.left=e,this.top=r,this.width=o,this.height=a,this.bottom=t.chartHeight-a-r,this.right=t.chartWidth-o-e,this.len=ut(n?o:a,0),this.pos=n?e:r},getExtremes:function(){var t=this.isLog;return{min:t?O(d(this.min)):this.min,max:t?O(d(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(t){var e=this.isLog,i=e?d(this.min):this.min,e=e?d(this.max):this.max;return null===t?t=e<0?e:i:i>t?t=i:e<t&&(t=e),this.translate(t,0,1,0,1)},autoLabelAlign:function(t){return t=(Jt(t,0)-90*this.side+720)%360,t>15&&t<165?"right":t>195&&t<345?"left":"center"},unsquish:function(){var t,e,i,n=this.ticks,o=this.options.labels,a=this.horiz,r=this.tickInterval,s=r,l=this.len/(((this.categories?1:0)+this.max-this.min)/r),c=o.rotation,d=this.chart.renderer.fontMetrics(o.style.fontSize,n[0]&&n[0].label),p=Number.MAX_VALUE,h=function(t){return t/=l||1,t=t>1?pt(t):1,t*r};return a?(i=!o.staggerLines&&!o.step&&(u(c)?[c]:l<Jt(o.autoRotationLimit,80)&&o.autoRotation))&&Ht(i,function(i){var n;(i===c||i&&i>=-90&&i<=90)&&(e=h(gt(d.h/ft(bt*i))),n=e+gt(i/360),n<p&&(p=n,t=i,s=e))}):o.step||(s=h(d.h)),this.autoRotation=i,this.labelRotation=Jt(t,c),s},renderUnsquish:function(){var t,e,i,o=this.chart,r=o.renderer,s=this.tickPositions,l=this.ticks,c=this.options.labels,d=this.horiz,p=o.margin,u=this.categories?s.length:s.length-1,p=this.slotWidth=d&&(c.step||0)<2&&!c.rotation&&(this.staggerLines||1)*o.plotWidth/u||!d&&(p[3]&&p[3]-o.spacing[3]||.33*o.chartWidth),h=ut(1,ct(p-2*(c.padding||5))),g={},u=r.fontMetrics(c.style.fontSize,l[0]&&l[0].label),m=c.style.textOverflow,f=0;if(a(c.rotation)||(g.rotation=c.rotation||0),this.autoRotation)Ht(s,function(t){(t=l[t])&&t.labelLength>f&&(f=t.labelLength)}),f>h&&f>u.h?g.rotation=this.labelRotation:this.labelRotation=0;else if(p&&(t={width:h+"px"},!m))for(t.textOverflow="clip",e=s.length;!d&&e--;)i=s[e],(h=l[i].label)&&("ellipsis"===h.styles.textOverflow&&h.css({textOverflow:"clip"}),(h.getBBox().height>this.len/s.length-(u.h-u.f)||l[i].labelLength>p)&&(h.specCss={textOverflow:"ellipsis"}));g.rotation&&(t={width:(f>.5*o.chartHeight?.33*o.chartHeight:o.chartHeight)+"px"},!m)&&(t.textOverflow="ellipsis"),this.labelAlign=g.align=c.align||this.autoLabelAlign(this.labelRotation),Ht(s,function(e){var i=(e=l[e])&&e.label;i&&(i.attr(g),t&&i.css(n(t,i.specCss)),delete i.specCss,e.rotation=g.rotation)}),this.tickRotCorr=r.rotCorr(u.b,this.labelRotation||0,0!==this.side)},hasData:function(){return this.hasVisibleSeries||u(this.min)&&u(this.max)&&!!this.tickPositions},getOffset:function(){var t,e,i,n,o=this,a=o.chart,r=a.renderer,s=o.options,l=o.tickPositions,c=o.ticks,d=o.horiz,p=o.side,h=a.inverted?[1,0,3,2][p]:p,g=0,m=0,f=s.title,v=s.labels,b=0,y=o.opposite,x=a.axisOffset,a=a.clipOffset,w=[-1,1,1,-1][p],k=o.axisParent;if(t=o.hasData(),o.showAxis=e=t||Jt(s.showEmpty,!0),o.staggerLines=o.horiz&&v.staggerLines,o.axisGroup||(o.gridGroup=r.g("grid").attr({zIndex:s.gridZIndex||1}).add(k),o.axisGroup=r.g("axis").attr({zIndex:s.zIndex||2}).add(k),o.labelGroup=r.g("axis-labels").attr({zIndex:v.zIndex||7}).addClass("highcharts-"+o.coll.toLowerCase()+"-labels").add(k)),t||o.isLinked)Ht(l,function(t){c[t]?c[t].addLabel():c[t]=new I(o,t)}),o.renderUnsquish(),v.reserveSpace!==!1&&(0===p||2===p||{1:"left",3:"right"}[p]===o.labelAlign||"center"===o.labelAlign)&&Ht(l,function(t){b=ut(c[t].getLabelSize(),b)}),o.staggerLines&&(b*=o.staggerLines,o.labelOffset=b*(o.opposite?-1:1));else for(n in c)c[n].destroy(),delete c[n];f&&f.text&&f.enabled!==!1&&(o.axisTitle||(o.axisTitle=r.text(f.text,0,0,f.useHTML).attr({zIndex:7,rotation:f.rotation||0,align:f.textAlign||{low:y?"right":"left",middle:"center",high:y?"left":"right"}[f.align]}).addClass("highcharts-"+this.coll.toLowerCase()+"-title").css(f.style).add(o.axisGroup),o.axisTitle.isNew=!0),e&&(g=o.axisTitle.getBBox()[d?"height":"width"],i=f.offset,m=u(i)?0:Jt(f.margin,d?5:10)),o.axisTitle[e?"show":"hide"](!0)),o.offset=w*Jt(s.offset,x[p]),o.tickRotCorr=o.tickRotCorr||{x:0,y:0},r=2===p?o.tickRotCorr.y:0,d=Math.abs(b)+m+(b&&w*(d?Jt(v.y,o.tickRotCorr.y+8):v.x)-r),o.axisTitleMargin=Jt(i,d),x[p]=ut(x[p],o.axisTitleMargin+g+w*o.offset,d),s=s.offset?0:2*dt(s.lineWidth/2),a[h]=ut(a[h],s)},getLinePath:function(t){var e=this.chart,i=this.opposite,n=this.offset,o=this.horiz,a=this.left+(i?this.width:0)+n,n=e.chartHeight-this.bottom-(i?this.height:0)+n;return i&&(t*=-1),e.renderer.crispLine(["M",o?this.left:a,o?n:this.top,"L",o?e.chartWidth-this.right:a,o?n:e.chartHeight-this.bottom],t)},getTitlePosition:function(){var t=this.horiz,e=this.left,i=this.top,n=this.len,a=this.options.title,r=t?e:i,s=this.opposite,l=this.offset,c=a.x||0,d=a.y||0,p=o(a.style.fontSize||12),n={low:r+(t?0:n),middle:r+n/2,high:r+(t?n:0)}[a.align],e=(t?i+this.height:e)+(t?1:-1)*(s?-1:1)*this.axisTitleMargin+(2===this.side?p:0);return{x:t?n+c:e+(s?this.width:0)+l+c,y:t?e+d-(s?this.height:0)+l:n+d}},render:function(){var t,e,i,n=this,o=n.chart,a=o.renderer,r=n.options,s=n.isLog,l=n.isLinked,c=n.tickPositions,p=n.axisTitle,h=n.ticks,g=n.minorTicks,f=n.alternateBands,v=r.stackLabels,b=r.alternateGridColor,y=n.tickmarkOffset,x=r.lineWidth,w=o.hasRendered&&u(n.oldMin)&&!isNaN(n.oldMin),k=n.showAxis,T=a.globalAnimation;n.labelEdge.length=0,n.overlap=!1,Ht([h,g,f],function(t){for(var e in t)t[e].isActive=!1}),(n.hasData()||l)&&(n.minorTickInterval&&!n.categories&&Ht(n.getMinorTickPositions(),function(t){g[t]||(g[t]=new I(n,t,"minor")),w&&g[t].isNew&&g[t].render(null,!0),g[t].render(null,!1,1)}),c.length&&(Ht(c,function(t,e){(!l||t>=n.min&&t<=n.max)&&(h[t]||(h[t]=new I(n,t)),w&&h[t].isNew&&h[t].render(e,!0,.1),h[t].render(e))}),y&&(0===n.min||n.single))&&(h[-1]||(h[-1]=new I(n,(-1),null,(!0))),h[-1].render(-1)),b&&Ht(c,function(t,a){i=c[a+1]!==_?c[a+1]+y:n.max-y,a%2===0&&t<n.max&&i<=n.max+(o.polar?-y:y)&&(f[t]||(f[t]=new rt.PlotLineOrBand(n)),e=t+y,f[t].options={from:s?d(e):e,to:s?d(i):i,color:b},f[t].render(),f[t].isActive=!0)}),n._addedPlotLB||(Ht((r.plotLines||[]).concat(r.plotBands||[]),function(t){n.addPlotBandOrLine(t)}),n._addedPlotLB=!0)),Ht([h,g,f],function(t){var e,i,n=[],a=T?T.duration||500:0;for(e in t)t[e].isActive||(t[e].render(e,!1,0),t[e].isActive=!1,n.push(e));m(function(){for(i=n.length;i--;)t[n[i]]&&!t[n[i]].isActive&&(t[n[i]].destroy(),delete t[n[i]])},t!==f&&o.hasRendered&&a?a:0)}),x&&(t=n.getLinePath(x),n.axisLine?n.axisLine.animate({d:t}):n.axisLine=a.path(t).attr({stroke:r.lineColor,"stroke-width":x,zIndex:7}).add(n.axisGroup),n.axisLine[k?"show":"hide"](!0)),p&&k&&(p[p.isNew?"attr":"animate"](n.getTitlePosition()),p.isNew=!1),v&&v.enabled&&n.renderStackTotals(),n.isDirty=!1},redraw:function(){this.visible&&(this.render(),Ht(this.plotLinesAndBands,function(t){t.render()})),Ht(this.series,function(t){t.isDirty=!0})},destroy:function(t){var e,i=this,n=i.stacks,o=i.plotLinesAndBands;t||Yt(i);for(e in n)$(n[e]),n[e]=null;for(Ht([i.ticks,i.minorTicks,i.alternateBands],function(t){$(t)}),t=o.length;t--;)o[t].destroy();Ht("stackTotalGroup,axisLine,axisTitle,axisGroup,cross,gridGroup,labelGroup".split(","),function(t){i[t]&&(i[t]=i[t].destroy())}),this.cross&&this.cross.destroy()},drawCrosshair:function(t,e){var i,n,o,a=this.crosshair;!this.crosshair||(u(e)||!Jt(a.snap,!0))===!1||e&&e.series&&e.series[this.coll]!==this?this.hideCrosshair():(Jt(a.snap,!0)?u(e)&&(i=this.isXAxis?e.plotX:this.len-e.plotY):i=this.horiz?t.chartX-this.pos:this.len-t.chartY+this.pos,i=this.isRadial?this.getPlotLinePath(this.isXAxis?e.x:Jt(e.stackY,e.y))||null:this.getPlotLinePath(null,null,null,null,i)||null,null===i?this.hideCrosshair():(n=this.categories&&!this.isRadial,o=Jt(a.width,n?this.transA:1),this.cross?this.cross.attr({d:i,visibility:"visible","stroke-width":o}):(n={"stroke-width":o,stroke:a.color||(n?"rgba(155,200,255,0.2)":"#C0C0C0"),zIndex:Jt(a.zIndex,2)},a.dashStyle&&(n.dashstyle=a.dashStyle),this.cross=this.chart.renderer.path(i).attr(n).add())))},hideCrosshair:function(){this.cross&&this.cross.hide()}},Zt(re.prototype,{getPlotBandPath:function(t,e){var i=this.getPlotLinePath(e,null,null,!0),n=this.getPlotLinePath(t,null,null,!0);return n&&i?(n.flat=n.toString()===i.toString(),n.push(i[4],i[5],i[1],i[2])):n=null,n},addPlotBand:function(t){return this.addPlotBandOrLine(t,"plotBands")},addPlotLine:function(t){return this.addPlotBandOrLine(t,"plotLines")},addPlotBandOrLine:function(t,e){var i=new rt.PlotLineOrBand(this,t).render(),n=this.userOptions;return i&&(e&&(n[e]=n[e]||[],n[e].push(t)),this.plotLinesAndBands.push(i)),i},removePlotBandOrLine:function(t){for(var e=this.plotLinesAndBands,i=this.options,n=this.userOptions,o=e.length;o--;)e[o].id===t&&e[o].destroy();Ht([i.plotLines||[],n.plotLines||[],i.plotBands||[],n.plotBands||[]],function(e){for(o=e.length;o--;)e[o].id===t&&p(e,e[o])})}}),re.prototype.getTimeTicks=function(t,e,i,n){var o,a=[],r={},s=R.global.useUTC,l=new W(e-x(e)),c=t.unitRange,d=t.count;if(u(e)){l[Q](c>=j.second?0:d*dt(l.getMilliseconds()/d)),c>=j.second&&l[tt](c>=j.minute?0:d*dt(l.getSeconds()/d)),c>=j.minute&&l[et](c>=j.hour?0:d*dt(l[V]()/d)),c>=j.hour&&l[it](c>=j.day?0:d*dt(l[X]()/d)),c>=j.day&&l[nt](c>=j.month?1:d*dt(l[K]()/d)),c>=j.month&&(l[ot](c>=j.year?0:d*dt(l[Z]()/d)),o=l[J]()),c>=j.year&&(o-=o%d,l[at](o)),c===j.week&&l[nt](l[K]()-l[q]()+Jt(n,1)),e=1,(U||Y)&&(l=l.getTime(),l=new W(l+x(l))),o=l[J]();for(var n=l.getTime(),p=l[Z](),h=l[K](),g=(j.day+(s?x(l):6e4*l.getTimezoneOffset()))%j.day;n<i;)a.push(n),c===j.year?n=G(o+e*d,0):c===j.month?n=G(o,p+e*d):s||c!==j.day&&c!==j.week?n+=c*d:n=G(o,p,h+e*d*(c===j.day?1:7)),e++;a.push(n),Ht(jt(a,function(t){return c<=j.hour&&t%j.day===g}),function(t){r[t]="day"})}return a.info=Zt(t,{higherRanks:r,totalRange:c*d}),a},re.prototype.normalizeTimeTickInterval=function(t,e){var i,n=e||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],o=n[n.length-1],a=j[o[0]],r=o[1];for(i=0;i<n.length&&(o=n[i],a=j[o[0]],r=o[1],!(n[i+1]&&t<=(a*r[r.length-1]+j[n[i+1][0]])/2));i++);return a===j.year&&t<5*a&&(r=[1,2,5]),n=T(t/a,r,"year"===o[0]?ut(k(t/a),1):1),{unitRange:a,count:n,unitName:o[0]}},re.prototype.getLogTickPositions=function(t,e,i,n){var o=this.options,a=this.len,r=[];if(n||(this._minorAutoInterval=null),t>=.5)t=ct(t),r=this.getLinearTickPositions(t,e,i);else if(t>=.08)for(var s,l,p,u,h,a=dt(e),o=t>.3?[1,2,4]:t>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];a<i+1&&!h;a++)for(l=o.length,s=0;s<l&&!h;s++)p=c(d(a)*o[s]),p>e&&(!n||u<=i)&&u!==_&&r.push(u),u>i&&(h=!0),u=p;else e=d(e),i=d(i),t=o[n?"minorTickInterval":"tickInterval"],t=Jt("auto"===t?null:t,this._minorAutoInterval,(i-e)*(o.tickPixelInterval/(n?5:1))/((n?a/this.tickPositions.length:a)||1)),t=T(t,null,k(t)),r=Gt(this.getLinearTickPositions(t,e,i),c),n||(this._minorAutoInterval=t/5);return n||(this.tickInterval=t),r};var se=rt.Tooltip=function(){this.init.apply(this,arguments)};se.prototype={init:function(t,e){var i=e.borderWidth,n=e.style,a=o(n.padding);this.chart=t,this.options=e,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.label=t.renderer.label("",0,0,e.shape||"callout",null,null,e.useHTML,null,"tooltip").attr({padding:a,fill:e.backgroundColor,"stroke-width":i,r:e.borderRadius,zIndex:8}).css(n).css({padding:0}).add().attr({y:-9999}),Ot||this.label.shadow(e.shadow),this.shared=e.shared},destroy:function(){this.label&&(this.label=this.label.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(t,e,i,n){var o=this,a=o.now,r=o.options.animation!==!1&&!o.isHidden&&(gt(t-a.x)>1||gt(e-a.y)>1),s=o.followPointer||o.len>1;Zt(a,{x:r?(2*a.x+t)/3:t,y:r?(a.y+e)/2:e,anchorX:s?_:r?(2*a.anchorX+i)/3:i,anchorY:s?_:r?(a.anchorY+n)/2:n}),o.label.attr(a),r&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){o&&o.move(t,e,i,n)},32))},hide:function(t){var e=this;clearTimeout(this.hideTimer),t=Jt(t,this.options.hideDelay,500),this.isHidden||(this.hideTimer=m(function(){e.label[t?"fadeOut":"hide"](),e.isHidden=!0},t))},getAnchor:function(t,e){var i,n,o,a=this.chart,r=a.inverted,s=a.plotTop,l=a.plotLeft,c=0,d=0,t=g(t);return i=t[0].tooltipPos,this.followPointer&&e&&(e.chartX===_&&(e=a.pointer.normalize(e)),i=[e.chartX-a.plotLeft,e.chartY-s]),i||(Ht(t,function(t){n=t.series.yAxis,o=t.series.xAxis,c+=t.plotX+(!r&&o?o.left-l:0),d+=(t.plotLow?(t.plotLow+t.plotHigh)/2:t.plotY)+(!r&&n?n.top-s:0)}),c/=t.length,d/=t.length,i=[r?a.plotWidth-d:c,this.shared&&!r&&t.length>1&&e?e.chartY-s:r?a.plotHeight-c:d]),Gt(i,ct)},getPosition:function(t,e,i){var n,o=this.chart,a=this.distance,r={},s=i.h||0,l=["y",o.chartHeight,e,i.plotY+o.plotTop,o.plotTop,o.plotTop+o.plotHeight],c=["x",o.chartWidth,t,i.plotX+o.plotLeft,o.plotLeft,o.plotLeft+o.plotWidth],d=Jt(i.ttBelow,o.inverted&&!i.negative||!o.inverted&&i.negative),p=function(t,e,i,n,o,l){var c=i<n-a,p=n+a+i<e,u=n-a-i;if(n+=a,d&&p)r[t]=n;else if(!d&&c)r[t]=u;else if(c)r[t]=ht(l-i,u-s<0?u:u-s);else{if(!p)return!1;r[t]=ut(o,n+s+i>e?n:n+s)}},u=function(t,e,i,n){var o;return n<a||n>e-a?o=!1:r[t]=n<i/2?1:n>e-i/2?e-i-2:n-i/2,o},h=function(t){var e=l;l=c,c=e,n=t},g=function(){p.apply(0,l)!==!1?u.apply(0,c)===!1&&!n&&(h(!0),g()):n?r.x=r.y=0:(h(!0),g())};return(o.inverted||this.len>1)&&h(),g(),r},defaultFormatter:function(t){var e,i=this.points||g(this);return e=[t.tooltipFooterHeaderFormatter(i[0])],e=e.concat(t.bodyFormatter(i)),e.push(t.tooltipFooterHeaderFormatter(i[0],!0)),e.join("")},refresh:function(t,e){var i,n,o,a,r=this.chart,s=this.label,l=this.options,c={},d=[];a=l.formatter||this.defaultFormatter;var p,c=r.hoverPoints,u=this.shared;clearTimeout(this.hideTimer),this.followPointer=g(t)[0].series.tooltipOptions.followPointer,o=this.getAnchor(t,e),i=o[0],n=o[1],!u||t.series&&t.series.noSharedTooltip?c=t.getLabelConfig():(r.hoverPoints=t,c&&Ht(c,function(t){t.setState()}),Ht(t,function(t){t.setState("hover"),d.push(t.getLabelConfig())}),c={x:t[0].category,y:t[0].y},c.points=d,this.len=d.length,t=t[0]),a=a.call(c,this),c=t.series,this.distance=Jt(c.tooltipOptions.distance,16),a===!1?this.hide():(this.isHidden&&(qt(s),s.attr("opacity",1).show()),s.attr({text:a}),p=l.borderColor||t.color||c.color||"#606060",s.attr({stroke:p}),this.updatePosition({plotX:i,plotY:n,negative:t.negative,ttBelow:t.ttBelow,h:o[2]||0}),this.isHidden=!1),Vt(r,"tooltipRefresh",{text:a,x:i+r.plotLeft,y:n+r.plotTop,borderColor:p})},updatePosition:function(t){var e=this.chart,i=this.label,i=(this.options.positioner||this.getPosition).call(this,i.width,i.height,t);this.move(ct(i.x),ct(i.y||0),t.plotX+e.plotLeft,t.plotY+e.plotTop)},getXDateFormat:function(t,e,i){var n,o,a,e=e.dateTimeLabelFormats,r=i&&i.closestPointRange,s={millisecond:15,second:12,minute:9,hour:6,day:3},l="millisecond";if(r){a=H("%m-%d %H:%M:%S.%L",t.x);for(o in j){if(r===j.week&&+H("%w",t.x)===i.options.startOfWeek&&"00:00:00.000"===a.substr(6)){o="week";break}if(j[o]>r){o=l;break}if(s[o]&&a.substr(s[o])!=="01-01 00:00:00.000".substr(s[o]))break;"week"!==o&&(l=o)}o&&(n=e[o])}else n=e.day;return n||e.year},tooltipFooterHeaderFormatter:function(t,e){var i=e?"footer":"header",n=t.series,o=n.tooltipOptions,a=o.xDateFormat,r=n.xAxis,s=r&&"datetime"===r.options.type&&l(t.key),i=o[i+"Format"];return s&&!a&&(a=this.getXDateFormat(t,o,r)),s&&a&&(i=i.replace("{point.key}","{point.key:"+a+"}")),w(i,{point:t,series:n})},bodyFormatter:function(t){return Gt(t,function(t){var e=t.series.tooltipOptions;return(e.pointFormatter||t.point.tooltipFormatter).call(t.point,e.pointFormat)})}};var le;z=st&&st.documentElement.ontouchstart!==_;var ce=rt.Pointer=function(t,e){this.init(t,e)};if(ce.prototype={init:function(t,e){var i,n=e.chart,o=n.events,a=Ot?"":n.zoomType,n=t.inverted;this.options=e,this.chart=t,this.zoomX=i=/x/.test(a),this.zoomY=a=/y/.test(a),this.zoomHor=i&&!n||a&&n,this.zoomVert=a&&!n||i&&n,this.hasZoom=i||a,this.runChartClick=o&&!!o.click,this.pinchDown=[],this.lastValidTouch={},rt.Tooltip&&e.tooltip.enabled&&(t.tooltip=new se(t,e.tooltip),this.followTouchMove=Jt(e.tooltip.followTouchMove,!0)),this.setDOMEvents()},normalize:function(e,i){var n,o,e=e||t.event;return e.target||(e.target=e.srcElement),o=e.touches?e.touches.length?e.touches.item(0):e.changedTouches[0]:e,i||(this.chartPosition=i=Wt(this.chart.container)),o.pageX===_?(n=ut(e.x,e.clientX-i.left),o=e.y):(n=o.pageX-i.left,o=o.pageY-i.top),Zt(e,{chartX:ct(n),chartY:ct(o)})},getCoordinates:function(t){var e={xAxis:[],yAxis:[]};return Ht(this.chart.axes,function(i){e[i.isXAxis?"xAxis":"yAxis"].push({axis:i,value:i.toValue(t[i.horiz?"chartX":"chartY"])})}),e},runPointActions:function(t){var e,i,n,o,a,r,s=this.chart,l=s.series,c=s.tooltip,d=!!c&&c.shared,p=s.hoverPoint,u=s.hoverSeries,h=Number.MAX_VALUE,g=[];if(!d&&!u)for(e=0;e<l.length;e++)!l[e].directTouch&&l[e].options.stickyTracking||(l=[]);if(u&&(d?u.noSharedTooltip:u.directTouch)&&p?a=p:(Ht(l,function(e){i=e.noSharedTooltip&&d,n=!d&&e.directTouch,e.visible&&!i&&!n&&Jt(e.options.enableMouseTracking,!0)&&(r=e.searchPoint(t,!i&&1===e.kdDimensions))&&g.push(r)}),Ht(g,function(t){o=d||1!==t.series.kdDimensions?t.distX:t.dist,t&&"number"==typeof o&&o<h&&(h=o,a=t)})),a&&(a!==this.prevKDPoint||c&&c.isHidden)){if(d&&!a.series.noSharedTooltip){for(e=g.length;e--;)(g[e].clientX!==a.clientX||g[e].series.noSharedTooltip)&&g.splice(e,1);g.length&&c&&c.refresh(g,t),Ht(g,function(e){e.onMouseOver(t,e!==(u&&u.directTouch&&p||a))})}else c&&c.refresh(a,t),u&&u.directTouch||a.onMouseOver(t);this.prevKDPoint=a}else l=u&&u.tooltipOptions.followPointer,c&&l&&!c.isHidden&&(l=c.getAnchor([{}],t),c.updatePosition({plotX:l[0],plotY:l[1]}));this._onDocumentMouseMove||(this._onDocumentMouseMove=function(t){Et[le]&&Et[le].pointer.onDocumentMouseMove(t)},Ut(st,"mousemove",this._onDocumentMouseMove)),Ht(s.axes,function(e){e.drawCrosshair(t,Jt(a,p))})},reset:function(t,e){var i=this.chart,n=i.hoverSeries,o=i.hoverPoint,a=i.hoverPoints,r=i.tooltip,s=r&&r.shared?a:o;(t=t&&r&&s)&&Ht(g(s),function(e){void 0===e.plotX&&(t=!1)}),t?(r.refresh(s),o&&(o.setState(o.state,!0),Ht(i.axes,function(t){Jt(t.options.crosshair&&t.options.crosshair.snap,!0)?t.drawCrosshair(null,o):t.hideCrosshair()}))):(o&&o.onMouseOut(),a&&Ht(a,function(t){t.setState()}),n&&n.onMouseOut(),r&&r.hide(e),this._onDocumentMouseMove&&(Yt(st,"mousemove",this._onDocumentMouseMove),this._onDocumentMouseMove=null),Ht(i.axes,function(t){t.hideCrosshair()}),this.hoverX=i.hoverPoints=i.hoverPoint=null)},scaleGroups:function(t,e){var i,n=this.chart;Ht(n.series,function(o){i=t||o.getPlotBox(),o.xAxis&&o.xAxis.zoomEnabled&&(o.group.attr(i),o.markerGroup&&(o.markerGroup.attr(i),o.markerGroup.clip(e?n.clipRect:null)),o.dataLabelsGroup&&o.dataLabelsGroup.attr(i))}),n.clipRect.attr(e||n.clipBox)},dragStart:function(t){var e=this.chart;e.mouseIsDown=t.type,e.cancelClick=!1,e.mouseDownX=this.mouseDownX=t.chartX,e.mouseDownY=this.mouseDownY=t.chartY},drag:function(t){var e,i=this.chart,n=i.options.chart,o=t.chartX,a=t.chartY,r=this.zoomHor,s=this.zoomVert,l=i.plotLeft,c=i.plotTop,d=i.plotWidth,p=i.plotHeight,u=this.selectionMarker,h=this.mouseDownX,g=this.mouseDownY,m=n.panKey&&t[n.panKey+"Key"];u&&u.touch||(o<l?o=l:o>l+d&&(o=l+d),a<c?a=c:a>c+p&&(a=c+p),this.hasDragged=Math.sqrt(Math.pow(h-o,2)+Math.pow(g-a,2)),this.hasDragged>10&&(e=i.isInsidePlot(h-l,g-c),i.hasCartesianSeries&&(this.zoomX||this.zoomY)&&e&&!m&&!u&&(this.selectionMarker=u=i.renderer.rect(l,c,r?1:d,s?1:p,0).attr({fill:n.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add()),u&&r&&(o-=h,u.attr({width:gt(o),x:(o>0?0:o)+h})),u&&s&&(o=a-g,u.attr({height:gt(o),y:(o>0?0:o)+g})),e&&!u&&n.panning&&i.pan(t,n.panning)))},drop:function(t){var e=this,i=this.chart,n=this.hasPinched;if(this.selectionMarker){var o,a={xAxis:[],yAxis:[]},r=this.selectionMarker,s=r.attr?r.attr("x"):r.x,l=r.attr?r.attr("y"):r.y,c=r.attr?r.attr("width"):r.width,d=r.attr?r.attr("height"):r.height;(this.hasDragged||n)&&(Ht(i.axes,function(i){if(i.zoomEnabled&&u(i.min)&&(n||e[{xAxis:"zoomX",yAxis:"zoomY"}[i.coll]])){var r=i.horiz,p="touchend"===t.type?i.minPixelPadding:0,h=i.toValue((r?s:l)+p),r=i.toValue((r?s+c:l+d)-p);a[i.coll].push({axis:i,min:ht(h,r),max:ut(h,r)}),o=!0}}),o&&Vt(i,"selection",a,function(t){i.zoom(Zt(t,n?{animation:!1}:null))})),this.selectionMarker=this.selectionMarker.destroy(),n&&this.scaleGroups()}i&&(f(i.container,{cursor:i._cursor}),i.cancelClick=this.hasDragged>10,i.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(t){t=this.normalize(t),t.preventDefault&&t.preventDefault(),this.dragStart(t)},onDocumentMouseUp:function(t){Et[le]&&Et[le].pointer.drop(t)},onDocumentMouseMove:function(t){var e=this.chart,i=this.chartPosition,t=this.normalize(t,i);i&&!this.inClass(t.target,"highcharts-tracker")&&!e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)&&this.reset()},onContainerMouseLeave:function(){var t=Et[le];t&&(t.pointer.reset(),t.pointer.chartPosition=null)},onContainerMouseMove:function(t){var e=this.chart;le=e.index,t=this.normalize(t),t.returnValue=!1,"mousedown"===e.mouseIsDown&&this.drag(t),(this.inClass(t.target,"highcharts-tracker")||e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop))&&!e.openMenu&&this.runPointActions(t)},inClass:function(t,e){for(var i;t;){if(i=h(t,"class")){if(i.indexOf(e)!==-1)return!0;if(i.indexOf("highcharts-container")!==-1)return!1}t=t.parentNode}},onTrackerMouseOut:function(t){var e=this.chart.hoverSeries,t=t.relatedTarget||t.toElement;!e||e.options.stickyTracking||this.inClass(t,"highcharts-tooltip")||this.inClass(t,"highcharts-series-"+e.index)||e.onMouseOut()},onContainerClick:function(t){var e=this.chart,i=e.hoverPoint,n=e.plotLeft,o=e.plotTop,t=this.normalize(t);e.cancelClick||(i&&this.inClass(t.target,"highcharts-tracker")?(Vt(i.series,"click",Zt(t,{point:i})),e.hoverPoint&&i.firePointEvent("click",t)):(Zt(t,this.getCoordinates(t)),e.isInsidePlot(t.chartX-n,t.chartY-o)&&Vt(e,"click",t)))},setDOMEvents:function(){var t=this,e=t.chart.container;e.onmousedown=function(e){t.onContainerMouseDown(e)},e.onmousemove=function(e){t.onContainerMouseMove(e)},e.onclick=function(e){t.onContainerClick(e)},Ut(e,"mouseleave",t.onContainerMouseLeave),1===It&&Ut(st,"mouseup",t.onDocumentMouseUp),z&&(e.ontouchstart=function(e){t.onContainerTouchStart(e)},e.ontouchmove=function(e){t.onContainerTouchMove(e)},1===It&&Ut(st,"touchend",t.onDocumentTouchEnd))},destroy:function(){var t;Yt(this.chart.container,"mouseleave",this.onContainerMouseLeave),It||(Yt(st,"mouseup",this.onDocumentMouseUp),Yt(st,"touchend",this.onDocumentTouchEnd)),clearInterval(this.tooltipTimeout);for(t in this)this[t]=null}},Zt(rt.Pointer.prototype,{pinchTranslate:function(t,e,i,n,o,a){(this.zoomHor||this.pinchHor)&&this.pinchTranslateDirection(!0,t,e,i,n,o,a),(this.zoomVert||this.pinchVert)&&this.pinchTranslateDirection(!1,t,e,i,n,o,a)},pinchTranslateDirection:function(t,e,i,n,o,a,r,s){var l,c,d,p=this.chart,u=t?"x":"y",h=t?"X":"Y",g="chart"+h,m=t?"width":"height",f=p["plot"+(t?"Left":"Top")],v=s||1,b=p.inverted,y=p.bounds[t?"h":"v"],x=1===e.length,w=e[0][g],k=i[0][g],T=!x&&e[1][g],C=!x&&i[1][g],i=function(){!x&&gt(w-T)>20&&(v=s||gt(k-C)/gt(w-T)),c=(f-k)/v+w,l=p["plot"+(t?"Width":"Height")]/v};i(),e=c,e<y.min?(e=y.min,d=!0):e+l>y.max&&(e=y.max-l,d=!0),d?(k-=.8*(k-r[u][0]),x||(C-=.8*(C-r[u][1])),i()):r[u]=[k,C],b||(a[u]=c-f,a[m]=l),a=b?1/v:v,o[m]=l,o[u]=e,n[b?t?"scaleY":"scaleX":"scale"+h]=v,n["translate"+h]=a*f+(k-a*w)},pinch:function(t){
var e=this,i=e.chart,n=e.pinchDown,o=t.touches,a=o.length,r=e.lastValidTouch,s=e.hasZoom,l=e.selectionMarker,c={},d=1===a&&(e.inClass(t.target,"highcharts-tracker")&&i.runTrackerClick||e.runChartClick),p={};a>1&&(e.initiated=!0),s&&e.initiated&&!d&&t.preventDefault(),Gt(o,function(t){return e.normalize(t)}),"touchstart"===t.type?(Ht(o,function(t,e){n[e]={chartX:t.chartX,chartY:t.chartY}}),r.x=[n[0].chartX,n[1]&&n[1].chartX],r.y=[n[0].chartY,n[1]&&n[1].chartY],Ht(i.axes,function(t){if(t.zoomEnabled){var e=i.bounds[t.horiz?"h":"v"],n=t.minPixelPadding,o=t.toPixels(Jt(t.options.min,t.dataMin)),a=t.toPixels(Jt(t.options.max,t.dataMax)),r=ht(o,a),o=ut(o,a);e.min=ht(t.pos,r-n),e.max=ut(t.pos+t.len,o+n)}}),e.res=!0):n.length&&(l||(e.selectionMarker=l=Zt({destroy:Lt,touch:!0},i.plotBox)),e.pinchTranslate(n,o,c,l,p,r),e.hasPinched=s,e.scaleGroups(c,p),!s&&e.followTouchMove&&1===a?this.runPointActions(e.normalize(t)):e.res&&(e.res=!1,this.reset(!1,0)))},touch:function(t,e){var i=this.chart;le=i.index,1===t.touches.length?(t=this.normalize(t),i.isInsidePlot(t.chartX-i.plotLeft,t.chartY-i.plotTop)&&!i.openMenu?(e&&this.runPointActions(t),this.pinch(t)):e&&this.reset()):2===t.touches.length&&this.pinch(t)},onContainerTouchStart:function(t){this.touch(t,!0)},onContainerTouchMove:function(t){this.touch(t)},onDocumentTouchEnd:function(t){Et[le]&&Et[le].pointer.drop(t)}}),t.PointerEvent||t.MSPointerEvent){var de={},pe=!!t.PointerEvent,ue=function(){var t,e=[];e.item=function(t){return this[t]};for(t in de)de.hasOwnProperty(t)&&e.push({pageX:de[t].pageX,pageY:de[t].pageY,target:de[t].target});return e},he=function(t,e,i,n){"touch"!==t.pointerType&&t.pointerType!==t.MSPOINTER_TYPE_TOUCH||!Et[le]||(n(t),n=Et[le].pointer,n[e]({type:i,target:t.currentTarget,preventDefault:Lt,touches:ue()}))};Zt(ce.prototype,{onContainerPointerDown:function(t){he(t,"onContainerTouchStart","touchstart",function(t){de[t.pointerId]={pageX:t.pageX,pageY:t.pageY,target:t.currentTarget}})},onContainerPointerMove:function(t){he(t,"onContainerTouchMove","touchmove",function(t){de[t.pointerId]={pageX:t.pageX,pageY:t.pageY},de[t.pointerId].target||(de[t.pointerId].target=t.currentTarget)})},onDocumentPointerUp:function(t){he(t,"onDocumentTouchEnd","touchend",function(t){delete de[t.pointerId]})},batchMSEvents:function(t){t(this.chart.container,pe?"pointerdown":"MSPointerDown",this.onContainerPointerDown),t(this.chart.container,pe?"pointermove":"MSPointerMove",this.onContainerPointerMove),t(st,pe?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),Qt(ce.prototype,"init",function(t,e,i){t.call(this,e,i),this.hasZoom&&f(e.container,{"-ms-touch-action":"none","touch-action":"none"})}),Qt(ce.prototype,"setDOMEvents",function(t){t.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(Ut)}),Qt(ce.prototype,"destroy",function(t){this.batchMSEvents(Yt),t.call(this)})}var ge=rt.Legend=function(t,e){this.init(t,e)};ge.prototype={init:function(t,e){var i=this,o=e.itemStyle,a=e.itemMarginTop||0;this.options=e,e.enabled&&(i.itemStyle=o,i.itemHiddenStyle=n(o,e.itemHiddenStyle),i.itemMarginTop=a,i.padding=o=Jt(e.padding,8),i.initialItemX=o,i.initialItemY=o-5,i.maxItemWidth=0,i.chart=t,i.itemHeight=0,i.symbolWidth=Jt(e.symbolWidth,16),i.pages=[],i.render(),Ut(i.chart,"endResize",function(){i.positionCheckboxes()}))},colorizeItem:function(t,e){var i,n=this.options,o=t.legendItem,a=t.legendLine,r=t.legendSymbol,s=this.itemHiddenStyle.color,n=e?n.itemStyle.color:s,l=e?t.legendColor||t.color||"#CCC":s,s=t.options&&t.options.marker,c={fill:l};if(o&&o.css({fill:n,color:n}),a&&a.attr({stroke:l}),r){if(s&&r.isMarker)for(i in c.stroke=l,s=t.convertAttribs(s))o=s[i],o!==_&&(c[i]=o);r.attr(c)}},positionItem:function(t){var e=this.options,i=e.symbolPadding,e=!e.rtl,n=t._legendItemPos,o=n[0],n=n[1],a=t.checkbox;(t=t.legendGroup)&&t.element&&t.translate(e?o:this.legendWidth-o-2*i-4,n),a&&(a.x=o,a.y=n)},destroyItem:function(t){var e=t.checkbox;Ht(["legendItem","legendLine","legendSymbol","legendGroup"],function(e){t[e]&&(t[e]=t[e].destroy())}),e&&D(t.checkbox)},destroy:function(){var t=this.group,e=this.box;e&&(this.box=e.destroy()),t&&(this.group=t.destroy())},positionCheckboxes:function(t){var e,i=this.group.alignAttr,n=this.clipHeight||this.legendHeight,o=this.titleHeight;i&&(e=i.translateY,Ht(this.allItems,function(a){var r,s=a.checkbox;s&&(r=e+o+s.y+(t||0)+3,f(s,{left:i.translateX+a.checkboxOffset+s.x-20+"px",top:r+"px",display:r>e-6&&r<e+n-6?"":"none"}))}))},renderTitle:function(){var t=this.padding,e=this.options.title,i=0;e.text&&(this.title||(this.title=this.chart.renderer.label(e.text,t-3,t-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(e.style).add(this.group)),t=this.title.getBBox(),i=t.height,this.offsetWidth=t.width,this.contentGroup.attr({translateY:i})),this.titleHeight=i},setText:function(t){var e=this.options;t.legendItem.attr({text:e.labelFormat?w(e.labelFormat,t):e.labelFormatter.call(t)})},renderItem:function(t){var e=this.chart,i=e.renderer,o=this.options,a="horizontal"===o.layout,r=this.symbolWidth,s=o.symbolPadding,l=this.itemStyle,c=this.itemHiddenStyle,d=this.padding,p=a?Jt(o.itemDistance,20):0,u=!o.rtl,h=o.width,g=o.itemMarginBottom||0,m=this.itemMarginTop,f=this.initialItemX,v=t.legendItem,b=t.series&&t.series.drawLegendSymbol?t.series:t,y=b.options,y=this.createCheckboxForItem&&y&&y.showCheckbox,x=o.useHTML;v||(t.legendGroup=i.g("legend-item").attr({zIndex:1}).add(this.scrollGroup),t.legendItem=v=i.text("",u?r+s:-s,this.baseline||0,x).css(n(t.visible?l:c)).attr({align:u?"left":"right",zIndex:2}).add(t.legendGroup),this.baseline||(this.fontMetrics=i.fontMetrics(l.fontSize,v),this.baseline=this.fontMetrics.f+3+m,v.attr("y",this.baseline)),b.drawLegendSymbol(this,t),this.setItemEvents&&this.setItemEvents(t,v,x,l,c),this.colorizeItem(t,t.visible),y&&this.createCheckboxForItem(t)),this.setText(t),i=v.getBBox(),r=t.checkboxOffset=o.itemWidth||t.legendItemWidth||r+s+i.width+p+(y?20:0),this.itemHeight=s=ct(t.legendItemHeight||i.height),a&&this.itemX-f+r>(h||e.chartWidth-2*d-f-o.x)&&(this.itemX=f,this.itemY+=m+this.lastLineHeight+g,this.lastLineHeight=0),this.maxItemWidth=ut(this.maxItemWidth,r),this.lastItemY=m+this.itemY+g,this.lastLineHeight=ut(s,this.lastLineHeight),t._legendItemPos=[this.itemX,this.itemY],a?this.itemX+=r:(this.itemY+=m+s+g,this.lastLineHeight=s),this.offsetWidth=h||ut((a?this.itemX-f-p:r)+d,this.offsetWidth)},getAllItems:function(){var t=[];return Ht(this.chart.series,function(e){var i=e.options;Jt(i.showInLegend,!u(i.linkedTo)&&_,!0)&&(t=t.concat(e.legendItems||("point"===i.legendType?e.data:e)))}),t},adjustMargins:function(t,e){var i=this.chart,n=this.options,o=n.align.charAt(0)+n.verticalAlign.charAt(0)+n.layout.charAt(0);this.display&&!n.floating&&Ht([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],function(a,r){a.test(o)&&!u(t[r])&&(i[Nt[r]]=ut(i[Nt[r]],i.legend[(r+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][r]*n[r%2?"x":"y"]+Jt(n.margin,12)+e[r]))})},render:function(){var t,e,i,n,o=this,a=o.chart,r=a.renderer,s=o.group,l=o.box,c=o.options,d=o.padding,p=c.borderWidth,u=c.backgroundColor;o.itemX=o.initialItemX,o.itemY=o.initialItemY,o.offsetWidth=0,o.lastItemY=0,s||(o.group=s=r.g("legend").attr({zIndex:7}).add(),o.contentGroup=r.g().attr({zIndex:1}).add(s),o.scrollGroup=r.g().add(o.contentGroup)),o.renderTitle(),t=o.getAllItems(),C(t,function(t,e){return(t.options&&t.options.legendIndex||0)-(e.options&&e.options.legendIndex||0)}),c.reversed&&t.reverse(),o.allItems=t,o.display=e=!!t.length,o.lastLineHeight=0,Ht(t,function(t){o.renderItem(t)}),i=(c.width||o.offsetWidth)+d,n=o.lastItemY+o.lastLineHeight+o.titleHeight,n=o.handleOverflow(n),n+=d,(p||u)&&(l?i>0&&n>0&&(l[l.isNew?"attr":"animate"](l.crisp({width:i,height:n})),l.isNew=!1):(o.box=l=r.rect(0,0,i,n,c.borderRadius,p||0).attr({stroke:c.borderColor,"stroke-width":p||0,fill:u||"none"}).add(s).shadow(c.shadow),l.isNew=!0),l[e?"show":"hide"]()),o.legendWidth=i,o.legendHeight=n,Ht(t,function(t){o.positionItem(t)}),e&&s.align(Zt({width:i,height:n},c),!0,"spacingBox"),a.isResizing||this.positionCheckboxes()},handleOverflow:function(t){var e,i,n=this,o=this.chart,a=o.renderer,r=this.options,s=r.y,s=o.spacingBox.height+("top"===r.verticalAlign?-s:s)-this.padding,l=r.maxHeight,c=this.clipRect,d=r.navigation,p=Jt(d.animation,!0),u=d.arrowSize||12,h=this.nav,g=this.pages,m=this.padding,f=this.allItems,v=function(t){c.attr({height:t}),n.contentGroup.div&&(n.contentGroup.div.style.clip="rect("+m+"px,9999px,"+(m+t)+"px,0)")};return"horizontal"===r.layout&&(s/=2),l&&(s=ht(s,l)),g.length=0,t>s?(this.clipHeight=e=ut(s-20-this.titleHeight-m,0),this.currentPage=Jt(this.currentPage,1),this.fullHeight=t,Ht(f,function(t,n){var o=t._legendItemPos[1],a=ct(t.legendItem.getBBox().height),r=g.length;(!r||o-g[r-1]>e&&(i||o)!==g[r-1])&&(g.push(i||o),r++),n===f.length-1&&o+a-g[r-1]>e&&g.push(o),o!==i&&(i=o)}),c||(c=n.clipRect=a.clipRect(0,m,9999,0),n.contentGroup.clip(c)),v(e),h||(this.nav=h=a.g().attr({zIndex:1}).add(this.group),this.up=a.symbol("triangle",0,0,u,u).on("click",function(){n.scroll(-1,p)}).add(h),this.pager=a.text("",15,10).css(d.style).add(h),this.down=a.symbol("triangle-down",0,0,u,u).on("click",function(){n.scroll(1,p)}).add(h)),n.scroll(0),t=s):h&&(v(o.chartHeight),h.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),t},scroll:function(t,e){var i=this.pages,n=i.length,o=this.currentPage+t,a=this.clipHeight,r=this.options.navigation,s=r.activeColor,r=r.inactiveColor,l=this.pager,c=this.padding;o>n&&(o=n),o>0&&(e!==_&&A(e,this.chart),this.nav.attr({translateX:c,translateY:a+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({fill:1===o?r:s}).css({cursor:1===o?"default":"pointer"}),l.attr({text:o+"/"+n}),this.down.attr({x:18+this.pager.getBBox().width,fill:o===n?r:s}).css({cursor:o===n?"default":"pointer"}),i=-i[o-1]+this.initialItemY,this.scrollGroup.animate({translateY:i}),this.currentPage=o,this.positionCheckboxes(i))}},ne=rt.LegendSymbolMixin={drawRectangle:function(t,e){var i=t.options.symbolHeight||t.fontMetrics.f;e.legendSymbol=this.chart.renderer.rect(0,t.baseline-i+1,t.symbolWidth,i,t.options.symbolRadius||0).attr({zIndex:3}).add(e.legendGroup)},drawLineMarker:function(t){var e,i=this.options,n=i.marker,o=t.symbolWidth,a=this.chart.renderer,r=this.legendGroup,t=t.baseline-ct(.3*t.fontMetrics.b);i.lineWidth&&(e={"stroke-width":i.lineWidth},i.dashStyle&&(e.dashstyle=i.dashStyle),this.legendLine=a.path(["M",0,t,"L",o,t]).attr(e).add(r)),n&&n.enabled!==!1&&(i=n.radius,this.legendSymbol=n=a.symbol(this.symbol,o/2-i,t-i,2*i,2*i,n).add(r),n.isMarker=!0)}},(/Trident\/7\.0/.test(yt)||Ct)&&Qt(ge.prototype,"positionItem",function(t,e){var i=this,n=function(){e._legendItemPos&&t.call(i,e)};n(),setTimeout(n)});var me=rt.Chart=function(){this.getArgs.apply(this,arguments)};rt.chart=function(t,e,i){return new me(t,e,i)},me.prototype={callbacks:[],getArgs:function(){var t=[].slice.call(arguments);(a(t[0])||t[0].nodeName)&&(this.renderTo=t.shift()),this.init(t[0],t[1])},init:function(t,e){var i,o=t.series;t.series=null,i=n(R,t),i.series=t.series=o,this.userOptions=t,o=i.chart,this.margin=this.splashArray("margin",o),this.spacing=this.splashArray("spacing",o);var a=o.events;this.bounds={h:{},v:{}},this.callback=e,this.isResizing=0,this.options=i,this.axes=[],this.series=[],this.hasCartesianSeries=o.showAxes;var r,s=this;if(s.index=Et.length,Et.push(s),It++,o.reflow!==!1&&Ut(s,"load",function(){s.initReflow()}),a)for(r in a)Ut(s,r,a[r]);s.xAxis=[],s.yAxis=[],s.animation=!Ot&&Jt(o.animation,!0),s.pointCount=s.colorCounter=s.symbolCounter=0,s.firstRender()},initSeries:function(t){var i=this.options.chart;return(i=zt[t.type||i.type||i.defaultSeriesType])||e(17,!0),i=new i,i.init(this,t),i},isInsidePlot:function(t,e,i){var n=i?e:t,t=i?t:e;return n>=0&&n<=this.plotWidth&&t>=0&&t<=this.plotHeight},redraw:function(t){var e,i,n=this.axes,o=this.series,a=this.pointer,r=this.legend,s=this.isDirtyLegend,l=this.hasCartesianSeries,c=this.isDirtyBox,d=o.length,p=d,u=this.renderer,h=u.isHidden(),g=[];for(A(t,this),h&&this.cloneRenderTo(),this.layOutTitles();p--;)if(t=o[p],t.options.stacking&&(e=!0,t.isDirty)){i=!0;break}if(i)for(p=d;p--;)t=o[p],t.options.stacking&&(t.isDirty=!0);Ht(o,function(t){t.isDirty&&"point"===t.options.legendType&&(t.updateTotals&&t.updateTotals(),s=!0)}),s&&r.options.enabled&&(r.render(),this.isDirtyLegend=!1),e&&this.getStacks(),l&&!this.isResizing&&(this.maxTicks=null,Ht(n,function(t){t.setScale()})),this.getMargins(),l&&(Ht(n,function(t){t.isDirty&&(c=!0)}),Ht(n,function(t){var i=t.min+","+t.max;t.extKey!==i&&(t.extKey=i,g.push(function(){Vt(t,"afterSetExtremes",Zt(t.eventArgs,t.getExtremes())),delete t.eventArgs})),(c||e)&&t.redraw()})),c&&this.drawChartBox(),Ht(o,function(t){t.isDirty&&t.visible&&(!t.isCartesian||t.xAxis)&&t.redraw()}),a&&a.reset(!0),u.draw(),Vt(this,"redraw"),h&&this.cloneRenderTo(!0),Ht(g,function(t){t.call()})},get:function(t){var e,i,n=this.axes,o=this.series;for(e=0;e<n.length;e++)if(n[e].options.id===t)return n[e];for(e=0;e<o.length;e++)if(o[e].options.id===t)return o[e];for(e=0;e<o.length;e++)for(i=o[e].points||[],n=0;n<i.length;n++)if(i[n].id===t)return i[n];return null},getAxes:function(){var t=this,e=this.options,i=e.xAxis=g(e.xAxis||{}),e=e.yAxis=g(e.yAxis||{});Ht(i,function(t,e){t.index=e,t.isX=!0}),Ht(e,function(t,e){t.index=e}),i=i.concat(e),Ht(i,function(e){new re(t,e)})},getSelectedPoints:function(){var t=[];return Ht(this.series,function(e){t=t.concat(jt(e.points||[],function(t){return t.selected}))}),t},getSelectedSeries:function(){return jt(this.series,function(t){return t.selected})},setTitle:function(t,e,i){var o,a,r=this,s=r.options;a=s.title=n(s.title,t),o=s.subtitle=n(s.subtitle,e),s=o,Ht([["title",t,a],["subtitle",e,s]],function(t){var e=t[0],i=r[e],n=t[1],t=t[2];i&&n&&(r[e]=i=i.destroy()),t&&t.text&&!i&&(r[e]=r.renderer.text(t.text,0,0,t.useHTML).attr({align:t.align,"class":"highcharts-"+e,zIndex:t.zIndex||4}).css(t.style).add())}),r.layOutTitles(i)},layOutTitles:function(t){var e=0,i=this.title,n=this.subtitle,o=this.options,a=o.title,o=o.subtitle,r=this.renderer,s=this.spacingBox.width-44;!i||(i.css({width:(a.width||s)+"px"}).align(Zt({y:r.fontMetrics(a.style.fontSize,i).b-3},a),!1,"spacingBox"),a.floating||a.verticalAlign)||(e=i.getBBox().height),n&&(n.css({width:(o.width||s)+"px"}).align(Zt({y:e+(a.margin-13)+r.fontMetrics(o.style.fontSize,i).b},o),!1,"spacingBox"),!o.floating&&!o.verticalAlign&&(e=pt(e+n.getBBox().height))),i=this.titleOffset!==e,this.titleOffset=e,!this.isDirtyBox&&i&&(this.isDirtyBox=i,this.hasRendered&&Jt(t,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var t=this.options.chart,e=t.width,t=t.height,i=this.renderToClone||this.renderTo;u(e)||(this.containerWidth=Bt(i,"width")),u(t)||(this.containerHeight=Bt(i,"height")),this.chartWidth=ut(0,e||this.containerWidth||600),this.chartHeight=ut(0,Jt(t,this.containerHeight>19?this.containerHeight:400))},cloneRenderTo:function(t){var e=this.renderToClone,i=this.container;t?e&&(this.renderTo.appendChild(i),D(e),delete this.renderToClone):(i&&i.parentNode===this.renderTo&&this.renderTo.removeChild(i),this.renderToClone=e=this.renderTo.cloneNode(0),f(e,{position:"absolute",top:"-9999px",display:"block"}),e.style.setProperty&&e.style.setProperty("display","block","important"),st.body.appendChild(e),i&&e.appendChild(i))},getContainer:function(){var t,i,n,r=this.options,s=r.chart;t=this.renderTo;var l="highcharts-"+Pt++;t||(this.renderTo=t=s.renderTo),a(t)&&(this.renderTo=t=st.getElementById(t)),t||e(13,!0),i=o(h(t,"data-highcharts-chart")),!isNaN(i)&&Et[i]&&Et[i].hasRendered&&Et[i].destroy(),h(t,"data-highcharts-chart",this.index),t.innerHTML="",!s.skipClone&&!t.offsetWidth&&this.cloneRenderTo(),this.getChartSize(),i=this.chartWidth,n=this.chartHeight,this.container=t=v(Ft,{className:"highcharts-container"+(s.className?" "+s.className:""),id:l},Zt({position:"relative",overflow:"hidden",width:i+"px",height:n+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},s.style),this.renderToClone||t),this._cursor=t.style.cursor,this.renderer=new(rt[s.renderer]||N)(t,i,n,s.style,s.forExport,r.exporting&&r.exporting.allowHTML),Ot&&this.renderer.create(this,t,i,n),this.renderer.chartIndex=this.index},getMargins:function(t){var e=this.spacing,i=this.margin,n=this.titleOffset;this.resetMargins(),n&&!u(i[0])&&(this.plotTop=ut(this.plotTop,n+this.options.title.margin+e[0])),this.legend.adjustMargins(i,e),this.extraBottomMargin&&(this.marginBottom+=this.extraBottomMargin),this.extraTopMargin&&(this.plotTop+=this.extraTopMargin),t||this.getAxisMargins()},getAxisMargins:function(){var t=this,e=t.axisOffset=[0,0,0,0],i=t.margin;t.hasCartesianSeries&&Ht(t.axes,function(t){t.visible&&t.getOffset()}),Ht(Nt,function(n,o){u(i[o])||(t[n]+=e[o])}),t.setChartSize()},reflow:function(e){var i=this,n=i.options.chart,o=i.renderTo,a=n.width||Bt(o,"width"),r=n.height||Bt(o,"height"),n=e?e.target:t;i.hasUserSize||i.isPrinting||!a||!r||n!==t&&n!==st||(a===i.containerWidth&&r===i.containerHeight||(clearTimeout(i.reflowTimeout),i.reflowTimeout=m(function(){i.container&&(i.setSize(a,r,!1),i.hasUserSize=null)},e?100:0)),i.containerWidth=a,i.containerHeight=r)},initReflow:function(){var e=this,i=function(t){e.reflow(t)};Ut(t,"resize",i),Ut(e,"destroy",function(){Yt(t,"resize",i)})},setSize:function(t,e,i){var n,o,a=this,r=a.renderer;a.isResizing+=1,A(i,a),a.oldChartHeight=a.chartHeight,a.oldChartWidth=a.chartWidth,u(t)&&(a.chartWidth=n=ut(0,ct(t)),a.hasUserSize=!!n),u(e)&&(a.chartHeight=o=ut(0,ct(e))),t=r.globalAnimation,(t?Xt:f)(a.container,{width:n+"px",height:o+"px"},t),a.setChartSize(!0),r.setSize(n,o,i),a.maxTicks=null,Ht(a.axes,function(t){t.isDirty=!0,t.setScale()}),Ht(a.series,function(t){t.isDirty=!0}),a.isDirtyLegend=!0,a.isDirtyBox=!0,a.layOutTitles(),a.getMargins(),a.redraw(i),a.oldChartHeight=null,Vt(a,"resize"),t=r.globalAnimation,m(function(){a&&Vt(a,"endResize",null,function(){a.isResizing-=1})},t===!1?0:t&&t.duration||500)},setChartSize:function(t){var e,i,n,o,a=this.inverted,r=this.renderer,s=this.chartWidth,l=this.chartHeight,c=this.options.chart,d=this.spacing,p=this.clipOffset;this.plotLeft=e=ct(this.plotLeft),this.plotTop=i=ct(this.plotTop),this.plotWidth=n=ut(0,ct(s-e-this.marginRight)),this.plotHeight=o=ut(0,ct(l-i-this.marginBottom)),this.plotSizeX=a?o:n,this.plotSizeY=a?n:o,this.plotBorderWidth=c.plotBorderWidth||0,this.spacingBox=r.spacingBox={x:d[3],y:d[0],width:s-d[3]-d[1],height:l-d[0]-d[2]},this.plotBox=r.plotBox={x:e,y:i,width:n,height:o},s=2*dt(this.plotBorderWidth/2),a=pt(ut(s,p[3])/2),r=pt(ut(s,p[0])/2),this.clipBox={x:a,y:r,width:dt(this.plotSizeX-ut(s,p[1])/2-a),height:ut(0,dt(this.plotSizeY-ut(s,p[2])/2-r))},t||Ht(this.axes,function(t){t.setAxisSize(),t.setAxisTranslation()})},resetMargins:function(){var t=this;Ht(Nt,function(e,i){t[e]=Jt(t.margin[i],t.spacing[i])}),t.axisOffset=[0,0,0,0],t.clipOffset=[0,0,0,0]},drawChartBox:function(){var t,e=this.options.chart,i=this.renderer,n=this.chartWidth,o=this.chartHeight,a=this.chartBackground,r=this.plotBackground,s=this.plotBorder,l=this.plotBGImage,c=e.borderWidth||0,d=e.backgroundColor,p=e.plotBackgroundColor,u=e.plotBackgroundImage,h=e.plotBorderWidth||0,g=this.plotLeft,m=this.plotTop,f=this.plotWidth,v=this.plotHeight,b=this.plotBox,y=this.clipRect,x=this.clipBox;t=c+(e.shadow?8:0),(c||d)&&(a?a.animate(a.crisp({width:n-t,height:o-t})):(a={fill:d||"none"},c&&(a.stroke=e.borderColor,a["stroke-width"]=c),this.chartBackground=i.rect(t/2,t/2,n-t,o-t,e.borderRadius,c).attr(a).addClass("highcharts-background").add().shadow(e.shadow))),p&&(r?r.animate(b):this.plotBackground=i.rect(g,m,f,v,0).attr({fill:p}).add().shadow(e.plotShadow)),u&&(l?l.animate(b):this.plotBGImage=i.image(u,g,m,f,v).add()),y?y.animate({width:x.width,height:x.height}):this.clipRect=i.clipRect(x),h&&(s?s.animate(s.crisp({x:g,y:m,width:f,height:v,strokeWidth:-h})):this.plotBorder=i.rect(g,m,f,v,0,-h).attr({stroke:e.plotBorderColor,"stroke-width":h,fill:"none",zIndex:1}).add()),this.isDirtyBox=!1},propFromSeries:function(){var t,e,i,n=this,o=n.options.chart,a=n.options.series;Ht(["inverted","angular","polar"],function(r){for(t=zt[o.type||o.defaultSeriesType],i=n[r]||o[r]||t&&t.prototype[r],e=a&&a.length;!i&&e--;)(t=zt[a[e].type])&&t.prototype[r]&&(i=!0);n[r]=i})},linkSeries:function(){var t=this,e=t.series;Ht(e,function(t){t.linkedSeries.length=0}),Ht(e,function(e){var i=e.options.linkedTo;a(i)&&(i=":previous"===i?t.series[e.index-1]:t.get(i))&&(i.linkedSeries.push(e),e.linkedParent=i,e.visible=Jt(e.options.visible,i.options.visible,e.visible))})},renderSeries:function(){Ht(this.series,function(t){t.translate(),t.render()})},renderLabels:function(){var t=this,e=t.options.labels;e.items&&Ht(e.items,function(i){var n=Zt(e.style,i.style),a=o(n.left)+t.plotLeft,r=o(n.top)+t.plotTop+12;delete n.left,delete n.top,t.renderer.text(i.html,a,r).attr({zIndex:2}).css(n).add()})},render:function(){var t,e,i,n,o=this.axes,a=this.renderer,r=this.options;this.setTitle(),this.legend=new ge(this,r.legend),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize(),t=this.plotWidth,e=this.plotHeight-=21,Ht(o,function(t){t.setScale()}),this.getAxisMargins(),i=t/this.plotWidth>1.1,n=e/this.plotHeight>1.05,(i||n)&&(this.maxTicks=null,Ht(o,function(t){(t.horiz&&i||!t.horiz&&n)&&t.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries&&Ht(o,function(t){t.visible&&t.render()}),this.seriesGroup||(this.seriesGroup=a.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.showCredits(r.credits),this.hasRendered=!0},showCredits:function(e){e.enabled&&!this.credits&&(this.credits=this.renderer.text(e.text,0,0).on("click",function(){e.href&&(t.location.href=e.href)}).attr({align:e.position.align,zIndex:8}).css(e.style).add().align(e.position))},destroy:function(){var t,e=this,i=e.axes,n=e.series,o=e.container,a=o&&o.parentNode;for(Vt(e,"destroy"),Et[e.index]=_,It--,e.renderTo.removeAttribute("data-highcharts-chart"),Yt(e),t=i.length;t--;)i[t]=i[t].destroy();for(t=n.length;t--;)n[t]=n[t].destroy();Ht("title,subtitle,chartBackground,plotBackground,plotBGImage,plotBorder,seriesGroup,clipRect,credits,pointer,scroller,rangeSelector,legend,resetZoomButton,tooltip,renderer".split(","),function(t){var i=e[t];i&&i.destroy&&(e[t]=i.destroy())}),o&&(o.innerHTML="",Yt(o),a&&D(o));for(t in e)delete e[t]},isReadyToRender:function(){var e=this;return!(!$t&&t==t.top&&"complete"!==st.readyState||Ot&&!t.canvg)||(Ot?ae.push(function(){e.firstRender()},e.options.global.canvasToolsURL):st.attachEvent("onreadystatechange",function(){st.detachEvent("onreadystatechange",e.firstRender),"complete"===st.readyState&&e.firstRender()}),!1)},firstRender:function(){var t=this,e=t.options,i=t.callback;t.isReadyToRender()&&(t.getContainer(),Vt(t,"init"),t.resetMargins(),t.setChartSize(),t.propFromSeries(),t.getAxes(),Ht(e.series||[],function(e){t.initSeries(e)}),t.linkSeries(),Vt(t,"beforeRender"),rt.Pointer&&(t.pointer=new ce(t,e)),t.render(),t.renderer.draw(),i&&i.apply(t,[t]),Ht(t.callbacks,function(e){t.index!==_&&e.apply(t,[t])}),Vt(t,"load"),t.cloneRenderTo(!0))},splashArray:function(t,e){var i=e[t],i=r(i)?i:[i,i,i,i];return[Jt(e[t+"Top"],i[0]),Jt(e[t+"Right"],i[1]),Jt(e[t+"Bottom"],i[2]),Jt(e[t+"Left"],i[3])]}};var oe=rt.CenteredSeriesMixin={getCenter:function(){var t,e,i=this.options,n=this.chart,o=2*(i.slicedOffset||0),a=n.plotWidth-2*o,n=n.plotHeight-2*o,r=i.center,r=[Jt(r[0],"50%"),Jt(r[1],"50%"),i.size||"100%",i.innerSize||0],s=ht(a,n);for(t=0;t<4;++t)e=r[t],i=t<2||2===t&&/%$/.test(e),r[t]=(/%$/.test(e)?[a,n,s,r[2]][t]*parseFloat(e)/100:parseFloat(e))+(i?o:0);return r[3]>r[2]&&(r[3]=r[2]),r}},fe=function(){};fe.prototype={init:function(t,e,i){return this.series=t,this.color=t.color,this.applyOptions(e,i),this.pointAttr={},t.options.colorByPoint&&(e=t.options.colors||t.chart.options.colors,this.color=this.color||e[t.colorCounter++],t.colorCounter===e.length)&&(t.colorCounter=0),t.chart.pointCount++,this},applyOptions:function(t,e){var i=this.series,n=i.options.pointValKey||i.pointValKey,t=fe.prototype.optionsToObject.call(this,t);return Zt(this,t),this.options=this.options?Zt(this.options,t):t,n&&(this.y=this[n]),this.x===_&&i&&(this.x=e===_?i.autoIncrement():e),this},optionsToObject:function(t){var e={},i=this.series,n=i.options.keys,o=n||i.pointArrayMap||["y"],a=o.length,r=0,l=0;if("number"==typeof t||null===t)e[o[0]]=t;else if(s(t))for(!n&&t.length>a&&(i=typeof t[0],"string"===i?e.name=t[0]:"number"===i&&(e.x=t[0]),r++);l<a;)n&&void 0===t[r]||(e[o[l]]=t[r]),r++,l++;else"object"==typeof t&&(e=t,t.dataLabels&&(i._hasPointLabels=!0),t.marker&&(i._hasPointMarkers=!0));return e},destroy:function(){var t,e=this.series.chart,i=e.hoverPoints;e.pointCount--,i&&(this.setState(),p(i,this),!i.length)&&(e.hoverPoints=null),this===e.hoverPoint&&this.onMouseOut(),(this.graphic||this.dataLabel)&&(Yt(this),this.destroyElements()),this.legendItem&&e.legend.destroyItem(this);for(t in this)this[t]=null},destroyElements:function(){for(var t,e=["graphic","dataLabel","dataLabelUpper","connector","shadowGroup"],i=6;i--;)t=e[i],this[t]&&(this[t]=this[t].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,color:this.color,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(t){var e=this.series,i=e.tooltipOptions,n=Jt(i.valueDecimals,""),o=i.valuePrefix||"",a=i.valueSuffix||"";return Ht(e.pointArrayMap||["y"],function(e){e="{point."+e,(o||a)&&(t=t.replace(e+"}",o+e+"}"+a)),t=t.replace(e+"}",e+":,."+n+"f}")}),w(t,{point:this,series:this.series})},firePointEvent:function(t,e,i){var n=this,o=this.series.options;(o.point.events[t]||n.options&&n.options.events&&n.options.events[t])&&this.importEvents(),"click"===t&&o.allowPointSelect&&(i=function(t){n.select&&n.select(null,t.ctrlKey||t.metaKey||t.shiftKey)}),Vt(this,t,e,i)},visible:!0};var ve=rt.Series=function(){};ve.prototype={isCartesian:!0,type:"line",pointClass:fe,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},directTouch:!1,axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],init:function(t,e){var i,n,o=this,a=t.series,r=function(t,e){return Jt(t.options.index,t._i)-Jt(e.options.index,e._i)};o.chart=t,o.options=e=o.setOptions(e),o.linkedSeries=[],o.bindAxes(),Zt(o,{name:e.name,state:"",pointAttr:{},visible:e.visible!==!1,selected:e.selected===!0}),Ot&&(e.animation=!1),n=e.events;for(i in n)Ut(o,i,n[i]);(n&&n.click||e.point&&e.point.events&&e.point.events.click||e.allowPointSelect)&&(t.runTrackerClick=!0),o.getColor(),o.getSymbol(),Ht(o.parallelArrays,function(t){o[t+"Data"]=[]}),o.setData(e.data,!1),o.isCartesian&&(t.hasCartesianSeries=!0),a.push(o),o._i=a.length-1,C(a,r),this.yAxis&&C(this.yAxis.series,r),Ht(a,function(t,e){t.index=e,t.name=t.name||"Series "+(e+1)})},bindAxes:function(){var t,i=this,n=i.options,o=i.chart;Ht(i.axisTypes||[],function(a){Ht(o[a],function(e){t=e.options,(n[a]===t.index||n[a]!==_&&n[a]===t.id||n[a]===_&&0===t.index)&&(e.series.push(i),i[a]=e,e.isDirty=!0)}),!i[a]&&i.optionalAxis!==a&&e(18,!0)})},updateParallelArrays:function(t,e){var i=t.series,n=arguments;Ht(i.parallelArrays,"number"==typeof e?function(n){var o="y"===n&&i.toYData?i.toYData(t):t[n];i[n+"Data"][e]=o}:function(t){Array.prototype[e].apply(i[t+"Data"],Array.prototype.slice.call(n,2))})},autoIncrement:function(){var t,e=this.options,i=this.xIncrement,n=e.pointIntervalUnit,i=Jt(i,e.pointStart,0);return this.pointInterval=t=Jt(this.pointInterval,e.pointInterval,1),"month"!==n&&"year"!==n||(e=new W(i),e="month"===n?+e[ot](e[Z]()+t):+e[at](e[J]()+t),t=e-i),this.xIncrement=i+t,i},getSegments:function(){var t,e=-1,i=[],n=this.points,o=n.length;if(o)if(this.options.connectNulls){for(t=o;t--;)null===n[t].y&&n.splice(t,1);n.length&&(i=[n])}else Ht(n,function(t,a){null===t.y?(a>e+1&&i.push(n.slice(e+1,a)),e=a):a===o-1&&i.push(n.slice(e+1,a+1))});this.segments=i},setOptions:function(t){var e=this.chart,i=e.options.plotOptions,e=e.userOptions||{},o=e.plotOptions||{},a=i[this.type];return this.userOptions=t,i=n(a,i.series,t),this.tooltipOptions=n(R.tooltip,R.plotOptions[this.type].tooltip,e.tooltip,o.series&&o.series.tooltip,o[this.type]&&o[this.type].tooltip,t.tooltip),null===a.marker&&delete i.marker,this.zoneAxis=i.zoneAxis,t=this.zones=(i.zones||[]).slice(),!i.negativeColor&&!i.negativeFillColor||i.zones||t.push({value:i[this.zoneAxis+"Threshold"]||i.threshold||0,color:i.negativeColor,fillColor:i.negativeFillColor}),t.length&&u(t[t.length-1].value)&&t.push({color:this.color,fillColor:this.fillColor}),i},getCyclic:function(t,e,i){var n=this.userOptions,o="_"+t+"Index",a=t+"Counter";e||(u(n[o])?e=n[o]:(n[o]=e=this.chart[a]%i.length,this.chart[a]+=1),e=i[e]),this[t]=e},getColor:function(){this.options.colorByPoint?this.options.color=null:this.getCyclic("color",this.options.color||te[this.type].color,this.chart.options.colors)},getSymbol:function(){var t=this.options.marker;this.getCyclic("symbol",t.symbol,this.chart.options.symbols),/^url/.test(this.symbol)&&(t.radius=0)},drawLegendSymbol:ne.drawLineMarker,setData:function(t,i,n,o){var r,c=this,d=c.points,p=d&&d.length||0,h=c.options,g=c.chart,m=null,f=c.xAxis,v=f&&!!f.categories,b=h.turboThreshold,y=this.xData,x=this.yData,w=(r=c.pointArrayMap)&&r.length,t=t||[];if(r=t.length,i=Jt(i,!0),o!==!1&&r&&p===r&&!c.cropped&&!c.hasGroupedData&&c.visible)Ht(t,function(t,e){d[e].update&&t!==h.data[e]&&d[e].update(t,!1,null,!1)});else{if(c.xIncrement=null,c.colorCounter=0,Ht(this.parallelArrays,function(t){c[t+"Data"].length=0}),b&&r>b){for(n=0;null===m&&n<r;)m=t[n],n++;if(l(m)){for(v=Jt(h.pointStart,0),m=Jt(h.pointInterval,1),n=0;n<r;n++)y[n]=v,x[n]=t[n],v+=m;c.xIncrement=v}else if(s(m))if(w)for(n=0;n<r;n++)m=t[n],y[n]=m[0],x[n]=m.slice(1,w+1);else for(n=0;n<r;n++)m=t[n],y[n]=m[0],x[n]=m[1];else e(12)}else for(n=0;n<r;n++)t[n]!==_&&(m={series:c},c.pointClass.prototype.applyOptions.apply(m,[t[n]]),c.updateParallelArrays(m,n),v&&u(m.name))&&(f.names[m.x]=m.name);for(a(x[0])&&e(14,!0),c.data=[],c.options.data=t,n=p;n--;)d[n]&&d[n].destroy&&d[n].destroy();f&&(f.minRange=f.userMinRange),c.isDirty=c.isDirtyData=g.isDirtyBox=!0,n=!1}"point"===h.legendType&&(this.processData(),this.generatePoints()),i&&g.redraw(n)},processData:function(t){var i,n=this.xData,o=this.yData,a=n.length;i=0;var r,s,l,c=this.xAxis,d=this.options;l=d.cropThreshold;var p,u,d=this.getExtremesFromAll||d.getExtremesFromAll,h=this.isCartesian;if(h&&!this.isDirty&&!c.isDirty&&!this.yAxis.isDirty&&!t)return!1;for(c&&(t=c.getExtremes(),p=t.min,u=t.max),h&&this.sorted&&!d&&(!l||a>l||this.forceCrop)&&(n[a-1]<p||n[0]>u?(n=[],o=[]):(n[0]<p||n[a-1]>u)&&(i=this.cropData(this.xData,this.yData,p,u),n=i.xData,o=i.yData,i=i.start,r=!0)),l=n.length-1;l>=0;l--)a=n[l]-n[l-1],a>0&&(s===_||a<s)?s=a:a<0&&this.requireSorting&&e(15);this.cropped=r,this.cropStart=i,this.processedXData=n,this.processedYData=o,this.closestPointRange=s},cropData:function(t,e,i,n){var o,a=t.length,r=0,s=a,l=Jt(this.cropShoulder,1);for(o=0;o<a;o++)if(t[o]>=i){r=ut(0,o-l);break}for(i=o;i<a;i++)if(t[i]>n){s=i+l;break}return{xData:t.slice(r,s),yData:e.slice(r,s),start:r,end:s}},generatePoints:function(){var t,e,i,n,o=this.options.data,a=this.data,r=this.processedXData,s=this.processedYData,l=this.pointClass,c=r.length,d=this.cropStart||0,p=this.hasGroupedData,u=[];for(a||p||(a=[],a.length=o.length,a=this.data=a),n=0;n<c;n++)e=d+n,p?u[n]=(new l).init(this,[r[n]].concat(g(s[n]))):(a[e]?i=a[e]:o[e]!==_&&(a[e]=i=(new l).init(this,o[e],r[n])),u[n]=i),u[n].index=e;if(a&&(c!==(t=a.length)||p))for(n=0;n<t;n++)n===d&&!p&&(n+=c),a[n]&&(a[n].destroyElements(),a[n].plotX=_);this.data=a,this.points=u},getExtremes:function(t){var e,i=this.yAxis,n=this.processedXData,o=[],a=0;
e=this.xAxis.getExtremes();var r,s,l,c,d=e.min,p=e.max,t=t||this.stackedYData||this.processedYData;for(e=t.length,c=0;c<e;c++)if(s=n[c],l=t[c],r=null!==l&&l!==_&&(!i.isLog||l.length||l>0),s=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||(n[c+1]||s)>=d&&(n[c-1]||s)<=p,r&&s)if(r=l.length)for(;r--;)null!==l[r]&&(o[a++]=l[r]);else o[a++]=l;this.dataMin=S(o),this.dataMax=M(o)},translate:function(){this.processedXData||this.processData(),this.generatePoints();for(var t,i,n,o,a=this.options,r=a.stacking,s=this.xAxis,c=s.categories,d=this.yAxis,p=this.points,h=p.length,g=!!this.modifyValue,m=a.pointPlacement,f="between"===m||l(m),v=a.threshold,b=a.startFromThreshold?v:0,y=Number.MAX_VALUE,a=0;a<h;a++){var x=p[a],w=x.x,k=x.y;i=x.low;var T=r&&d.stacks[(this.negStacks&&k<(b?0:v)?"-":"")+this.stackKey];d.isLog&&null!==k&&k<=0&&(x.y=k=null,e(10)),x.plotX=t=ht(ut(-1e5,s.translate(w,0,0,0,1,m,"flags"===this.type)),1e5),r&&this.visible&&T&&T[w]&&(o=this.getStackIndicator(o,w,this.index),T=T[w],k=T.points[o.key],i=k[0],k=k[1],i===b&&(i=Jt(v,d.min)),d.isLog&&i<=0&&(i=null),x.total=x.stackTotal=T.total,x.percentage=T.total&&x.y/T.total*100,x.stackY=k,T.setOffset(this.pointXOffset||0,this.barW||0)),x.yBottom=u(i)?d.translate(i,0,1,0,1):null,g&&(k=this.modifyValue(k,x)),x.plotY=i="number"==typeof k&&k!==1/0?ht(ut(-1e5,d.translate(k,0,1,0,1)),1e5):_,x.isInside=i!==_&&i>=0&&i<=d.len&&t>=0&&t<=s.len,x.clientX=f?s.translate(w,0,0,0,1):t,x.negative=x.y<(v||0),x.category=c&&c[x.x]!==_?c[x.x]:x.x,a&&(y=ht(y,gt(t-n))),n=t}this.closestPointRangePx=y,this.getSegments()},setClip:function(t){var e=this.chart,i=this.options,n=e.renderer,o=e.inverted,a=this.clipBox,r=a||e.clipBox,s=this.sharedClipKey||["_sharedClip",t&&t.duration,t&&t.easing,r.height,i.xAxis,i.yAxis].join(","),l=e[s],c=e[s+"m"];l||(t&&(r.width=0,e[s+"m"]=c=n.clipRect(-99,o?-e.plotLeft:-e.plotTop,99,o?e.chartWidth:e.chartHeight)),e[s]=l=n.clipRect(r)),t&&(l.count+=1),i.clip!==!1&&(this.group.clip(t||a?l:e.clipRect),this.markerGroup.clip(c),this.sharedClipKey=s),t||(l.count-=1,l.count<=0&&s&&e[s]&&(a||(e[s]=e[s].destroy()),e[s+"m"]&&(e[s+"m"]=e[s+"m"].destroy())))},animate:function(t){var e,i=this.chart,n=this.options.animation;n&&!r(n)&&(n=te[this.type].animation),t?this.setClip(n):(e=this.sharedClipKey,(t=i[e])&&t.animate({width:i.plotSizeX},n),i[e+"m"]&&i[e+"m"].animate({width:i.plotSizeX+99},n),this.animate=null)},afterAnimate:function(){this.setClip(),Vt(this,"afterAnimate")},drawPoints:function(){var t,e,i,n,o,a,r,s,l,c,d,p,u=this.points,h=this.chart,g=this.options.marker,m=this.pointAttr[""],f=this.markerGroup,v=Jt(g.enabled,this.xAxis.isRadial,this.closestPointRangePx>2*g.radius);if(g.enabled!==!1||this._hasPointMarkers)for(n=u.length;n--;)o=u[n],e=dt(o.plotX),i=o.plotY,l=o.graphic,c=o.marker||{},d=!!o.marker,t=v&&c.enabled===_||c.enabled,p=o.isInside,t&&i!==_&&!isNaN(i)&&null!==o.y?(t=o.pointAttr[o.selected?"select":""]||m,a=t.r,r=Jt(c.symbol,this.symbol),s=0===r.indexOf("url"),l?l[p?"show":"hide"](!0).animate(Zt({x:e-a,y:i-a},l.symbolName?{width:2*a,height:2*a}:{})):p&&(a>0||s)&&(o.graphic=h.renderer.symbol(r,e-a,i-a,2*a,2*a,d?c:g).attr(t).add(f))):l&&(o.graphic=l.destroy())},convertAttribs:function(t,e,i,n){var o,a,r=this.pointAttrToOptions,s={},t=t||{},e=e||{},i=i||{},n=n||{};for(o in r)a=r[o],s[o]=Jt(t[a],e[o],i[o],n[o]);return s},getAttribs:function(){var t,e=this,i=e.options,n=te[e.type].marker?i.marker:i,o=n.states,a=o.hover,r=e.color,s=e.options.negativeColor;t={stroke:r,fill:r};var l,c,d=e.points||[],p=[],h=e.pointAttrToOptions;l=e.hasPointSpecificOptions;var g=n.lineColor,m=n.fillColor;c=i.turboThreshold;var f,v=e.zones,b=e.zoneAxis||"y";if(i.marker?(a.radius=a.radius||n.radius+a.radiusPlus,a.lineWidth=a.lineWidth||n.lineWidth+a.lineWidthPlus):(a.color=a.color||L(a.color||r).brighten(a.brightness).get(),a.negativeColor=a.negativeColor||L(a.negativeColor||s).brighten(a.brightness).get()),p[""]=e.convertAttribs(n,t),Ht(["hover","select"],function(t){p[t]=e.convertAttribs(o[t],p[""])}),e.pointAttr=p,r=d.length,!c||r<c||l)for(;r--;){if(c=d[r],(n=c.options&&c.options.marker||c.options)&&n.enabled===!1&&(n.radius=0),v.length){for(l=0,t=v[l];c[b]>=t.value;)t=v[++l];c.color=c.fillColor=Jt(t.color,e.color)}if(l=i.colorByPoint||c.color,c.options)for(f in h)u(n[h[f]])&&(l=!0);l?(n=n||{},l=[],o=n.states||{},t=o.hover=o.hover||{},i.marker&&(!c.negative||t.fillColor||a.fillColor)||(t[e.pointAttrToOptions.fill]=t.color||!c.options.color&&a[c.negative&&s?"negativeColor":"color"]||L(c.color).brighten(t.brightness||a.brightness).get()),t={color:c.color},m||(t.fillColor=c.color),g||(t.lineColor=c.color),n.hasOwnProperty("color")&&!n.color&&delete n.color,l[""]=e.convertAttribs(Zt(t,n),p[""]),l.hover=e.convertAttribs(o.hover,p.hover,l[""]),l.select=e.convertAttribs(o.select,p.select,l[""])):l=p,c.pointAttr=l}},destroy:function(){var t,e,i,n,o=this,a=o.chart,r=/AppleWebKit\/533/.test(yt),s=o.data||[];for(Vt(o,"destroy"),Yt(o),Ht(o.axisTypes||[],function(t){(n=o[t])&&(p(n.series,o),n.isDirty=n.forceRedraw=!0)}),o.legendItem&&o.chart.legend.destroyItem(o),t=s.length;t--;)(e=s[t])&&e.destroy&&e.destroy();o.points=null,clearTimeout(o.animationTimeout);for(i in o)o[i]instanceof E&&!o[i].survive&&(t=r&&"group"===i?"hide":"destroy",o[i][t]());a.hoverSeries===o&&(a.hoverSeries=null),p(a.series,o);for(i in o)delete o[i]},getSegmentPath:function(t){var e=this,i=[],n=e.options.step;return Ht(t,function(o,a){var r,s=o.plotX,l=o.plotY;e.getPointSpline?i.push.apply(i,e.getPointSpline(t,o,a)):(i.push(a?"L":"M"),n&&a&&(r=t[a-1],"right"===n?i.push(r.plotX,l,"L"):"center"===n?i.push((r.plotX+s)/2,r.plotY,"L",(r.plotX+s)/2,l,"L"):i.push(s,r.plotY,"L")),i.push(o.plotX,o.plotY))}),i},getGraphPath:function(){var t,e=this,i=[],n=[];return Ht(e.segments,function(o){t=e.getSegmentPath(o),o.length>1?i=i.concat(t):n.push(o[0])}),e.singlePoints=n,e.graphPath=i},drawGraph:function(){var t=this,e=this.options,i=[["graph",e.lineColor||this.color,e.dashStyle]],n=e.lineWidth,o="square"!==e.linecap,a=this.getGraphPath(),r=this.fillGraph&&this.color||"none";Ht(this.zones,function(n,o){i.push(["zoneGraph"+o,n.color||t.color,n.dashStyle||e.dashStyle])}),Ht(i,function(i,s){var l=i[0],c=t[l];c?c.animate({d:a}):(n||r)&&a.length&&(c={stroke:i[1],"stroke-width":n,fill:r,zIndex:1},i[2]?c.dashstyle=i[2]:o&&(c["stroke-linecap"]=c["stroke-linejoin"]="round"),t[l]=t.chart.renderer.path(a).attr(c).add(t.group).shadow(s<2&&e.shadow))})},applyZones:function(){var t,e,i,n,o,a,r,s=this,l=this.chart,c=l.renderer,d=this.zones,p=this.clips||[],u=this.graph,h=this.area,g=ut(l.chartWidth,l.chartHeight),m=this[(this.zoneAxis||"y")+"Axis"],f=m.reversed,v=l.inverted,b=m.horiz,y=!1;d.length&&(u||h)&&m.min!==_&&(u&&u.hide(),h&&h.hide(),n=m.getExtremes(),Ht(d,function(d,x){t=f?b?l.plotWidth:0:b?0:m.toPixels(n.min),t=ht(ut(Jt(e,t),0),g),e=ht(ut(ct(m.toPixels(Jt(d.value,n.max),!0)),0),g),y&&(t=e=m.toPixels(n.max)),o=Math.abs(t-e),a=ht(t,e),r=ut(t,e),m.isXAxis?(i={x:v?r:a,y:0,width:o,height:g},b||(i.x=l.plotHeight-i.x)):(i={x:0,y:v?r:a,width:g,height:o},b&&(i.y=l.plotWidth-i.y)),l.inverted&&c.isVML&&(i=m.isXAxis?{x:0,y:f?a:r,height:i.width,width:l.chartWidth}:{x:i.y-l.plotLeft-l.spacingBox.x,y:0,width:i.height,height:l.chartHeight}),p[x]?p[x].animate(i):(p[x]=c.clipRect(i),u&&s["zoneGraph"+x].clip(p[x]),h&&s["zoneArea"+x].clip(p[x])),y=d.value>n.max}),this.clips=p)},invertGroups:function(){function t(){var t={width:e.yAxis.len,height:e.xAxis.len};Ht(["group","markerGroup"],function(i){e[i]&&e[i].attr(t).invert()})}var e=this,i=e.chart;e.xAxis&&(Ut(i,"resize",t),Ut(e,"destroy",function(){Yt(i,"resize",t)}),t(),e.invertGroups=t)},plotGroup:function(t,e,i,n,o){var a=this[t],r=!a;return r&&(this[t]=a=this.chart.renderer.g(e).attr({zIndex:n||.1}).add(o),a.addClass("highcharts-series-"+this.index)),a.attr({visibility:i})[r?"attr":"animate"](this.getPlotBox()),a},getPlotBox:function(){var t=this.chart,e=this.xAxis,i=this.yAxis;return t.inverted&&(e=i,i=this.xAxis),{translateX:e?e.left:t.plotLeft,translateY:i?i.top:t.plotTop,scaleX:1,scaleY:1}},render:function(){var t,e=this,i=e.chart,n=e.options,o=(t=n.animation)&&!!e.animate&&i.renderer.isSVG&&Jt(t.duration,500)||0,a=e.visible?"inherit":"hidden",r=n.zIndex,s=e.hasRendered,l=i.seriesGroup;t=e.plotGroup("group","series",a,r,l),e.markerGroup=e.plotGroup("markerGroup","markers",a,r,l),o&&e.animate(!0),e.getAttribs(),t.inverted=!!e.isCartesian&&i.inverted,e.drawGraph&&(e.drawGraph(),e.applyZones()),Ht(e.points,function(t){t.redraw&&t.redraw()}),e.drawDataLabels&&e.drawDataLabels(),e.visible&&e.drawPoints(),e.drawTracker&&e.options.enableMouseTracking!==!1&&e.drawTracker(),i.inverted&&e.invertGroups(),n.clip!==!1&&!e.sharedClipKey&&!s&&t.clip(i.clipRect),o&&e.animate(),s||(e.animationTimeout=m(function(){e.afterAnimate()},o)),e.isDirty=e.isDirtyData=!1,e.hasRendered=!0},redraw:function(){var t=this.chart,e=this.isDirtyData,i=this.isDirty,n=this.group,o=this.xAxis,a=this.yAxis;n&&(t.inverted&&n.attr({width:t.plotWidth,height:t.plotHeight}),n.animate({translateX:Jt(o&&o.left,t.plotLeft),translateY:Jt(a&&a.top,t.plotTop)})),this.translate(),this.render(),e&&Vt(this,"updatedData"),(i||e)&&delete this.kdTree},kdDimensions:1,kdAxisArray:["clientX","plotY"],searchPoint:function(t,e){var i=this.xAxis,n=this.yAxis,o=this.chart.inverted;return this.searchKDTree({clientX:o?i.len-t.chartY+i.pos:t.chartX-i.pos,plotY:o?n.len-t.chartX+n.pos:t.chartY-n.pos},e)},buildKDTree:function(){function t(i,n,o){var a,r;if(r=i&&i.length)return a=e.kdAxisArray[n%o],i.sort(function(t,e){return t[a]-e[a]}),r=Math.floor(r/2),{point:i[r],left:t(i.slice(0,r),n+1,o),right:t(i.slice(r+1),n+1,o)}}var e=this,i=e.kdDimensions;delete e.kdTree,m(function(){var n=jt(e.points||[],function(t){return null!==t.y});e.kdTree=t(n,i,i)},e.options.kdNow?0:1)},searchKDTree:function(t,e){function i(t,e,s,l){var c,d,p=e.point,h=n.kdAxisArray[s%l],g=p;return d=u(t[o])&&u(p[o])?Math.pow(t[o]-p[o],2):null,c=u(t[a])&&u(p[a])?Math.pow(t[a]-p[a],2):null,c=(d||0)+(c||0),p.dist=u(c)?Math.sqrt(c):Number.MAX_VALUE,p.distX=u(d)?Math.sqrt(d):Number.MAX_VALUE,h=t[h]-p[h],c=h<0?"left":"right",d=h<0?"right":"left",e[c]&&(c=i(t,e[c],s+1,l),g=c[r]<g[r]?c:p),e[d]&&Math.sqrt(h*h)<g[r]&&(t=i(t,e[d],s+1,l),g=t[r]<g[r]?t:g),g}var n=this,o=this.kdAxisArray[0],a=this.kdAxisArray[1],r=e?"distX":"dist";if(this.kdTree||this.buildKDTree(),this.kdTree)return i(t,this.kdTree,this.kdDimensions,this.kdDimensions)}},F.prototype={destroy:function(){$(this,this.axis)},render:function(t){var e=this.options,i=e.format,i=i?w(i,this):e.formatter.call(this);this.label?this.label.attr({text:i,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(i,null,null,e.useHTML).css(e.style).attr({align:this.textAlign,rotation:e.rotation,visibility:"hidden"}).add(t)},setOffset:function(t,e){var i=this.axis,n=i.chart,o=n.inverted,a=i.reversed,a=this.isNegative&&!a||!this.isNegative&&a,r=i.translate(i.usePercentage?100:this.total,0,0,0,1),i=i.translate(0),i=gt(r-i),s=n.xAxis[0].translate(this.x)+t,l=n.plotHeight,a={x:o?a?r:r-i:s,y:o?l-s-e:a?l-r-i:l-r,width:o?i:e,height:o?e:i};(o=this.label)&&(o.align(this.alignOptions,null,a),a=o.alignAttr,o[this.options.crop===!1||n.isInsidePlot(a.x,a.y)?"show":"hide"](!0))}},me.prototype.getStacks=function(){var t=this;Ht(t.yAxis,function(t){t.stacks&&t.hasVisibleSeries&&(t.oldStacks=t.stacks)}),Ht(t.series,function(e){!e.options.stacking||e.visible!==!0&&t.options.chart.ignoreHiddenSeries!==!1||(e.stackKey=e.type+Jt(e.options.stack,""))})},re.prototype.buildStacks=function(){var t=this.series,e=Jt(this.options.reversedStacks,!0),i=t.length;if(!this.isXAxis){for(this.usePercentage=!1;i--;)t[e?i:t.length-i-1].setStackedPoints();if(this.usePercentage)for(i=0;i<t.length;i++)t[i].setPercentStacks()}},re.prototype.renderStackTotals=function(){var t,e,i=this.chart,n=i.renderer,o=this.stacks,a=this.stackTotalGroup;a||(this.stackTotalGroup=a=n.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()),a.translate(i.plotLeft,i.plotTop);for(t in o)for(e in i=o[t])i[e].render(a)},re.prototype.resetStacks=function(){var t,e,i=this.stacks;if(!this.isXAxis)for(t in i)for(e in i[t])i[t][e].touched<this.stacksTouched?(i[t][e].destroy(),delete i[t][e]):(i[t][e].total=null,i[t][e].cum=0)},re.prototype.cleanStacks=function(){var t,e,i;if(!this.isXAxis){this.oldStacks&&(t=this.stacks=this.oldStacks);for(e in t)for(i in t[e])t[e][i].cum=t[e][i].total}},ve.prototype.setStackedPoints=function(){if(this.options.stacking&&(this.visible===!0||this.chart.options.chart.ignoreHiddenSeries===!1)){var t,e,i,n,o,a,r,s=this.processedXData,l=this.processedYData,c=[],d=l.length,p=this.options,u=p.threshold,h=p.startFromThreshold?u:0,g=p.stack,p=p.stacking,m=this.stackKey,f="-"+m,v=this.negStacks,b=this.yAxis,y=b.stacks,x=b.oldStacks;for(b.stacksTouched+=1,o=0;o<d;o++)a=s[o],r=l[o],t=this.getStackIndicator(t,a,this.index),n=t.key,i=(e=v&&r<(h?0:u))?f:m,y[i]||(y[i]={}),y[i][a]||(x[i]&&x[i][a]?(y[i][a]=x[i][a],y[i][a].total=null):y[i][a]=new F(b,b.options.stackLabels,e,a,g)),i=y[i][a],i.points[n]=[Jt(i.cum,h)],i.touched=b.stacksTouched,t.index>0&&this.singleStacks===!1&&(i.points[n][0]=i.points[this.index+","+a+",0"][0]),"percent"===p?(e=e?m:f,v&&y[e]&&y[e][a]?(e=y[e][a],i.total=e.total=ut(e.total,i.total)+gt(r)||0):i.total=O(i.total+(gt(r)||0))):i.total=O(i.total+(r||0)),i.cum=Jt(i.cum,h)+(r||0),i.points[n].push(i.cum),c[o]=i.cum;"percent"===p&&(b.usePercentage=!0),this.stackedYData=c,b.oldStacks={}}},ve.prototype.setPercentStacks=function(){var t,e=this,i=e.stackKey,n=e.yAxis.stacks,o=e.processedXData;Ht([i,"-"+i],function(i){for(var a,r,s,l=o.length;l--;)r=o[l],t=e.getStackIndicator(t,r,e.index),a=(s=n[i]&&n[i][r])&&s.points[t.key],(r=a)&&(s=s.total?100/s.total:0,r[0]=O(r[0]*s),r[1]=O(r[1]*s),e.stackedYData[l]=r[1])})},ve.prototype.getStackIndicator=function(t,e,i){return u(t)&&t.x===e?t.index++:t={x:e,index:0},t.key=[i,e,t.index].join(","),t},Zt(me.prototype,{addSeries:function(t,e,i){var n,o=this;return t&&(e=Jt(e,!0),Vt(o,"addSeries",{options:t},function(){n=o.initSeries(t),o.isDirtyLegend=!0,o.linkSeries(),e&&o.redraw(i)})),n},addAxis:function(t,e,i,o){var a=e?"xAxis":"yAxis",r=this.options;new re(this,n(t,{index:this[a].length,isX:e})),r[a]=g(r[a]||{}),r[a].push(t),Jt(i,!0)&&this.redraw(o)},showLoading:function(t){var e=this,i=e.options,n=e.loadingDiv,o=i.loading,a=function(){n&&f(n,{left:e.plotLeft+"px",top:e.plotTop+"px",width:e.plotWidth+"px",height:e.plotHeight+"px"})};n||(e.loadingDiv=n=v(Ft,{className:"highcharts-loading"},Zt(o.style,{zIndex:10,display:"none"}),e.container),e.loadingSpan=v("span",null,o.labelStyle,n),Ut(e,"redraw",a)),e.loadingSpan.innerHTML=t||i.lang.loading,e.loadingShown||(f(n,{opacity:0,display:""}),Xt(n,{opacity:o.style.opacity},{duration:o.showDuration||0}),e.loadingShown=!0),a()},hideLoading:function(){var t=this.options,e=this.loadingDiv;e&&Xt(e,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){f(e,{display:"none"})}}),this.loadingShown=!1}}),Zt(fe.prototype,{update:function(t,e,i,n){function o(){l.applyOptions(t),null===l.y&&d&&(l.graphic=d.destroy()),r(t)&&!s(t)&&(l.redraw=function(){d&&d.element&&t&&t.marker&&t.marker.symbol&&(l.graphic=d.destroy()),t&&t.dataLabels&&l.dataLabel&&(l.dataLabel=l.dataLabel.destroy()),l.redraw=null}),a=l.index,c.updateParallelArrays(l,a),h&&l.name&&(h[l.x]=l.name),u.data[a]=r(u.data[a])?l.options:t,c.isDirty=c.isDirtyData=!0,!c.fixedBox&&c.hasCartesianSeries&&(p.isDirtyBox=!0),"point"===u.legendType&&(p.isDirtyLegend=!0),e&&p.redraw(i)}var a,l=this,c=l.series,d=l.graphic,p=c.chart,u=c.options,h=c.xAxis&&c.xAxis.names,e=Jt(e,!0);n===!1?o():l.firePointEvent("update",{options:t},o)},remove:function(t,e){this.series.removePoint(Rt(this,this.series.data),t,e)}}),Zt(ve.prototype,{addPoint:function(t,e,i,n){var o,a=this,r=a.options,s=a.data,l=a.graph,c=a.area,d=a.chart,p=a.xAxis&&a.xAxis.names,u=l&&l.shift||0,h=["graph","area"],l=r.data,g=a.xData;if(A(n,d),i){for(n=a.zones.length;n--;)h.push("zoneGraph"+n,"zoneArea"+n);Ht(h,function(t){a[t]&&(a[t].shift=u+(r.step?2:1))})}if(c&&(c.isArea=!0),e=Jt(e,!0),c={series:a},a.pointClass.prototype.applyOptions.apply(c,[t]),h=c.x,n=g.length,a.requireSorting&&h<g[n-1])for(o=!0;n&&g[n-1]>h;)n--;a.updateParallelArrays(c,"splice",n,0,0),a.updateParallelArrays(c,n),p&&c.name&&(p[h]=c.name),l.splice(n,0,t),o&&(a.data.splice(n,0,null),a.processData()),"point"===r.legendType&&a.generatePoints(),i&&(s[0]&&s[0].remove?s[0].remove(!1):(s.shift(),a.updateParallelArrays(c,"shift"),l.shift())),a.isDirty=!0,a.isDirtyData=!0,e&&(a.getAttribs(),d.redraw())},removePoint:function(t,e,i){var n=this,o=n.data,a=o[t],r=n.points,s=n.chart,l=function(){o.length===r.length&&r.splice(t,1),o.splice(t,1),n.options.data.splice(t,1),n.updateParallelArrays(a||{series:n},"splice",t,1),a&&a.destroy(),n.isDirty=!0,n.isDirtyData=!0,e&&s.redraw()};A(i,s),e=Jt(e,!0),a?a.firePointEvent("remove",null,l):l()},remove:function(t,e){var i=this,n=i.chart;Vt(i,"remove",null,function(){i.destroy(),n.isDirtyLegend=n.isDirtyBox=!0,n.linkSeries(),Jt(t,!0)&&n.redraw(e)})},update:function(t,e){var i,o=this,a=this.chart,r=this.userOptions,s=this.type,l=zt[s].prototype,c=["group","markerGroup","dataLabelsGroup"];(t.type&&t.type!==s||void 0!==t.zIndex)&&(c.length=0),Ht(c,function(t){c[t]=o[t],delete o[t]}),t=n(r,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},t),this.remove(!1);for(i in l)this[i]=_;Zt(this,zt[t.type||s].prototype),Ht(c,function(t){o[t]=c[t]}),this.init(a,t),a.linkSeries(),Jt(e,!0)&&a.redraw(!1)}}),Zt(re.prototype,{update:function(t,e){var i=this.chart,t=i.options[this.coll][this.options.index]=n(this.userOptions,t);this.destroy(!0),this._addedPlotLB=this.chart._labelPanes=_,this.init(i,Zt(t,{events:_})),i.isDirtyBox=!0,Jt(e,!0)&&i.redraw()},remove:function(t){for(var e=this.chart,i=this.coll,n=this.series,o=n.length;o--;)n[o]&&n[o].remove(!1);p(e.axes,this),p(e[i],this),e.options[i].splice(this.options.index,1),Ht(e[i],function(t,e){t.options.index=e}),this.destroy(),e.isDirtyBox=!0,Jt(t,!0)&&e.redraw()},setTitle:function(t,e){this.update({title:t},e)},setCategories:function(t,e){this.update({categories:t},e)}});var be=b(ve);zt.line=be,te.area=n(ee,{softThreshold:!1,threshold:0});var ye=b(ve,{type:"area",singleStacks:!1,getSegments:function(){var t,e,i,n,o,a=this,r=[],s=[],l=[],c=this.xAxis,d=this.yAxis,p=d.stacks[this.stackKey],u={},h=this.points,g=this.options.connectNulls;if(this.options.stacking&&!this.cropped){for(n=0;n<h.length;n++)u[h[n].x]=h[n];for(o in p)null!==p[o].total&&l.push(+o);l.sort(function(t,e){return t-e}),Ht(l,function(o){var r,l=null;if(!g||u[o]&&null!==u[o].y)if(u[o])s.push(u[o]);else{for(n=a.index;n<=d.series.length;n++)if(i=a.getStackIndicator(null,o,n),r=p[o].points[i.key]){l=r[1];break}t=c.translate(o),e=d.getThreshold(l),s.push({y:null,plotX:t,clientX:t,plotY:e,yBottom:e,onMouseOver:Lt})}}),s.length&&r.push(s)}else ve.prototype.getSegments.call(this),r=this.segments;this.segments=r},getSegmentPath:function(t){var e,i=ve.prototype.getSegmentPath.call(this,t),n=[].concat(i),o=this.options;e=i.length;var a,r=this.yAxis.getThreshold(o.threshold);if(3===e&&n.push("L",i[1],i[2]),o.stacking&&!this.closedStacks)for(e=t.length-1;e>=0;e--)a=Jt(t[e].yBottom,r),e<t.length-1&&o.step&&n.push(t[e+1].plotX,a),n.push(t[e].plotX,a);else this.closeSegment(n,t,r);return this.areaPath=this.areaPath.concat(n),i},closeSegment:function(t,e,i){t.push("L",e[e.length-1].plotX,i,"L",e[0].plotX,i)},drawGraph:function(){this.areaPath=[],ve.prototype.drawGraph.apply(this);var t=this,e=this.areaPath,i=this.options,n=[["area",this.color,i.fillColor]];Ht(this.zones,function(e,o){n.push(["zoneArea"+o,e.color||t.color,e.fillColor||i.fillColor])}),Ht(n,function(n){var o=n[0],a=t[o];a?a.animate({d:e}):(a={fill:n[2]||n[1],zIndex:0},n[2]||(a["fill-opacity"]=i.fillOpacity||.75),t[o]=t.chart.renderer.path(e).attr(a).add(t.group))})},drawLegendSymbol:ne.drawRectangle});return zt.area=ye,te.spline=n(ee),be=b(ve,{type:"spline",getPointSpline:function(t,e,i){var n,o,a,r,s=e.plotX,l=e.plotY,c=t[i-1],d=t[i+1];if(c&&d){t=c.plotY,a=d.plotX;var p,d=d.plotY;n=(1.5*s+c.plotX)/2.5,o=(1.5*l+t)/2.5,a=(1.5*s+a)/2.5,r=(1.5*l+d)/2.5,p=(r-o)*(a-s)/(a-n)+l-r,o+=p,r+=p,o>t&&o>l?(o=ut(t,l),r=2*l-o):o<t&&o<l&&(o=ht(t,l),r=2*l-o),r>d&&r>l?(r=ut(d,l),o=2*l-r):r<d&&r<l&&(r=ht(d,l),o=2*l-r),e.rightContX=a,e.rightContY=r}return i?(e=["C",c.rightContX||c.plotX,c.rightContY||c.plotY,n||s,o||l,s,l],c.rightContX=c.rightContY=null):e=["M",s,l],e}}),zt.spline=be,te.areaspline=n(te.area),ye=ye.prototype,be=b(be,{type:"areaspline",closedStacks:!0,getSegmentPath:ye.getSegmentPath,closeSegment:ye.closeSegment,drawGraph:ye.drawGraph,drawLegendSymbol:ne.drawRectangle}),zt.areaspline=be,te.column=n(ee,{borderColor:"#FFFFFF",borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1,halo:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},softThreshold:!1,startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0}),be=b(ve,{type:"column",pointAttrToOptions:{stroke:"borderColor",fill:"color",r:"borderRadius"},cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){ve.prototype.init.apply(this,arguments);var t=this,e=t.chart;e.hasRendered&&Ht(e.series,function(e){e.type===t.type&&(e.isDirty=!0)})},getColumnMetrics:function(){var t,e=this,i=e.options,n=e.xAxis,o=e.yAxis,a=n.reversed,r={},s=0;i.grouping===!1?s=1:Ht(e.chart.series,function(i){var n,a=i.options,l=i.yAxis;i.type===e.type&&i.visible&&o.len===l.len&&o.pos===l.pos&&(a.stacking?(t=i.stackKey,r[t]===_&&(r[t]=s++),n=r[t]):a.grouping!==!1&&(n=s++),i.columnIndex=n)});var l=ht(gt(n.transA)*(n.ordinalSlope||i.pointRange||n.closestPointRange||n.tickInterval||1),n.len),c=l*i.groupPadding,d=(l-2*c)/s,i=ht(i.maxPointWidth||n.len,Jt(i.pointWidth,d*(1-2*i.pointPadding)));return e.columnMetrics={width:i,offset:(d-i)/2+(c+((e.columnIndex||0)+(a?1:0))*d-l/2)*(a?-1:1)},e.columnMetrics},crispCol:function(t,e,i,n){var o=this.chart,a=this.borderWidth,r=-(a%2?.5:0),a=a%2?.5:1;return o.inverted&&o.renderer.isVML&&(a+=1),i=Math.round(t+i)+r,t=Math.round(t)+r,i-=t,n=Math.round(e+n)+a,r=gt(e)<=.5&&n>.5,e=Math.round(e)+a,n-=e,r&&(e-=1,n+=1),{x:t,y:e,width:i,height:n}},translate:function(){var t=this,e=t.chart,i=t.options,n=t.borderWidth=Jt(i.borderWidth,t.closestPointRange*t.xAxis.transA<2?0:1),o=t.yAxis,a=t.translatedThreshold=o.getThreshold(i.threshold),r=Jt(i.minPointLength,5),s=t.getColumnMetrics(),l=s.width,c=t.barW=ut(l,1+2*n),d=t.pointXOffset=s.offset;e.inverted&&(a-=.5),i.pointPadding&&(c=pt(c)),ve.prototype.translate.apply(t),Ht(t.points,function(i){var n,s=ht(Jt(i.yBottom,a),9e4),p=999+gt(s),p=ht(ut(-p,i.plotY),o.len+p),u=i.plotX+d,h=c,g=ht(p,s),m=ut(p,s)-g;gt(m)<r&&r&&(m=r,n=!o.reversed&&!i.negative||o.reversed&&i.negative,g=gt(g-a)>r?s-r:a-(n?r:0)),i.barX=u,i.pointWidth=l,i.tooltipPos=e.inverted?[o.len+o.pos-e.plotLeft-p,t.xAxis.len-u-h/2,m]:[u+h/2,p+o.pos-e.plotTop,m],i.shapeType="rect",i.shapeArgs=t.crispCol(u,g,h,m)})},getSymbol:Lt,drawLegendSymbol:ne.drawRectangle,drawGraph:Lt,drawPoints:function(){var t,e,i=this,o=this.chart,a=i.options,r=o.renderer,s=a.animationLimit||250;Ht(i.points,function(l){var c=l.plotY,d=l.graphic;c===_||isNaN(c)||null===l.y?d&&(l.graphic=d.destroy()):(t=l.shapeArgs,c=u(i.borderWidth)?{"stroke-width":i.borderWidth}:{},e=l.pointAttr[l.selected?"select":""]||i.pointAttr[""],d?(qt(d),d.attr(c).attr(e)[o.pointCount<s?"animate":"attr"](n(t))):l.graphic=r[l.shapeType](t).attr(c).attr(e).add(l.group||i.group).shadow(a.shadow,null,a.stacking&&!a.borderRadius))})},animate:function(t){var e=this.yAxis,i=this.options,n=this.chart.inverted,o={};$t&&(t?(o.scaleY=.001,t=ht(e.pos+e.len,ut(e.pos,e.toPixels(i.threshold))),n?o.translateX=t-e.len:o.translateY=t,this.group.attr(o)):(o.scaleY=1,o[n?"translateX":"translateY"]=e.pos,this.group.animate(o,this.options.animation),this.animate=null))},remove:function(){var t=this,e=t.chart;e.hasRendered&&Ht(e.series,function(e){e.type===t.type&&(e.isDirty=!0)}),ve.prototype.remove.apply(t,arguments)}}),zt.column=be,te.bar=n(te.column),ye=b(be,{type:"bar",inverted:!0}),zt.bar=ye,te.scatter=n(ee,{lineWidth:0,marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">●</span> <span style="font-size: 10px;"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}),ye=b(ve,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,kdDimensions:2,drawGraph:function(){this.options.lineWidth&&ve.prototype.drawGraph.call(this)}}),zt.scatter=ye,te.pie=n(ee,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return null===this.y?void 0:this.point.name},x:0},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}}),ee={type:"pie",isCartesian:!1,pointClass:b(fe,{init:function(){fe.prototype.init.apply(this,arguments);var t,e=this;return e.name=Jt(e.name,"Slice"),t=function(t){e.slice("select"===t.type)},Ut(e,"select",t),Ut(e,"unselect",t),e},setVisible:function(t,e){var i=this,n=i.series,o=n.chart,a=n.options.ignoreHiddenPoint,e=Jt(e,a);t!==i.visible&&(i.visible=i.options.visible=t=t===_?!i.visible:t,n.options.data[Rt(i,n.data)]=i.options,Ht(["graphic","dataLabel","connector","shadowGroup"],function(e){i[e]&&i[e][t?"show":"hide"](!0)}),i.legendItem&&o.legend.colorizeItem(i,t),!t&&"hover"===i.state&&i.setState(""),a&&(n.isDirty=!0),e&&o.redraw())},slice:function(t,e,i){var n=this.series;A(i,n.chart),Jt(e,!0),this.sliced=this.options.sliced=t=u(t)?t:!this.sliced,n.options.data[Rt(this,n.data)]=this.options,t=t?this.slicedTranslation:{translateX:0,translateY:0},this.graphic.animate(t),this.shadowGroup&&this.shadowGroup.animate(t)},haloPath:function(t){var e=this.shapeArgs,i=this.series.chart;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(i.plotLeft+e.x,i.plotTop+e.y,e.r+t,e.r+t,{innerR:this.shapeArgs.r,start:e.start,end:e.end})}}),requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},animate:function(t){var e=this,i=e.points,n=e.startAngleRad;t||(Ht(i,function(t){var i=t.graphic,o=t.shapeArgs;i&&(i.attr({r:t.startR||e.center[3]/2,start:n,end:n}),i.animate({r:o.r,start:o.start,end:o.end},e.options.animation))}),e.animate=null)},updateTotals:function(){var t,e,i=0,n=this.points,o=n.length,a=this.options.ignoreHiddenPoint;for(t=0;t<o;t++)e=n[t],i+=a&&!e.visible?0:e.y;for(this.total=i,t=0;t<o;t++)e=n[t],e.percentage=i>0&&(e.visible||!a)?e.y/i*100:0,e.total=i},generatePoints:function(){ve.prototype.generatePoints.call(this),this.updateTotals()},translate:function(t){this.generatePoints();var e,i,n,o,a,r=0,s=this.options,l=s.slicedOffset,c=l+s.borderWidth,d=s.startAngle||0,p=this.startAngleRad=vt/180*(d-90),d=(this.endAngleRad=vt/180*(Jt(s.endAngle,d+360)-90))-p,u=this.points,h=s.dataLabels.distance,s=s.ignoreHiddenPoint,g=u.length;for(t||(this.center=t=this.getCenter()),this.getX=function(e,i){return n=lt.asin(ht((e-t[1])/(t[2]/2+h),1)),t[0]+(i?-1:1)*mt(n)*(t[2]/2+h)},o=0;o<g;o++)a=u[o],e=p+r*d,s&&!a.visible||(r+=a.percentage/100),i=p+r*d,a.shapeType="arc",a.shapeArgs={x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2,start:ct(1e3*e)/1e3,end:ct(1e3*i)/1e3},n=(i+e)/2,n>1.5*vt?n-=2*vt:n<-vt/2&&(n+=2*vt),a.slicedTranslation={translateX:ct(mt(n)*l),translateY:ct(ft(n)*l)},e=mt(n)*t[2]/2,i=ft(n)*t[2]/2,a.tooltipPos=[t[0]+.7*e,t[1]+.7*i],a.half=n<-vt/2||n>vt/2?1:0,a.angle=n,c=ht(c,h/2),a.labelPos=[t[0]+e+mt(n)*h,t[1]+i+ft(n)*h,t[0]+e+mt(n)*c,t[1]+i+ft(n)*c,t[0]+e,t[1]+i,h<0?"center":a.half?"right":"left",n]},drawGraph:null,drawPoints:function(){var t,e,i,n,o,a,r=this,s=r.chart.renderer,l=r.options.shadow;l&&!r.shadowGroup&&(r.shadowGroup=s.g("shadow").add(r.group)),Ht(r.points,function(c){null!==c.y&&(e=c.graphic,o=c.shapeArgs,i=c.shadowGroup,n=c.pointAttr[c.selected?"select":""],n.stroke||(n.stroke=n.fill),l&&!i&&(i=c.shadowGroup=s.g("shadow").add(r.shadowGroup)),t=c.sliced?c.slicedTranslation:{translateX:0,translateY:0},i&&i.attr(t),e?e.setRadialReference(r.center).attr(n).animate(Zt(o,t)):(a={"stroke-linejoin":"round"},c.visible||(a.visibility="hidden"),c.graphic=e=s[c.shapeType](o).setRadialReference(r.center).attr(n).attr(a).attr(t).add(r.group).shadow(l,i)))})},searchPoint:Lt,sortByAngle:function(t,e){t.sort(function(t,i){return void 0!==t.angle&&(i.angle-t.angle)*e})},drawLegendSymbol:ne.drawRectangle,getCenter:oe.getCenter,getSymbol:Lt},ee=b(ve,ee),zt.pie=ee,ve.prototype.drawDataLabels=function(){var t,e,i,o,a=this,r=a.options,s=r.cursor,l=r.dataLabels,c=a.points,d=a.hasRendered||0,p=a.chart.renderer;(l.enabled||a._hasPointLabels)&&(a.dlProcessOptions&&a.dlProcessOptions(l),o=a.plotGroup("dataLabelsGroup","data-labels",l.defer?"hidden":"visible",l.zIndex||6),Jt(l.defer,!0)&&(o.attr({opacity:+d}),d||Ut(a,"afterAnimate",function(){a.visible&&o.show(),o[r.animation?"animate":"attr"]({opacity:1},{duration:200})})),e=l,Ht(c,function(c){var d,h,g,m,f=c.dataLabel,v=c.connector,b=!0,y={};if(t=c.dlOptions||c.options&&c.options.dataLabels,d=Jt(t&&t.enabled,e.enabled)&&null!==c.y,f&&!d)c.dataLabel=f.destroy();else if(d){if(l=n(e,t),m=l.style,d=l.rotation,h=c.getLabelConfig(),i=l.format?w(l.format,h):l.formatter.call(h,l),m.color=Jt(l.color,m.color,a.color,"black"),f)u(i)?(f.attr({text:i}),b=!1):(c.dataLabel=f=f.destroy(),v&&(c.connector=v.destroy()));else if(u(i)){f={fill:l.backgroundColor,stroke:l.borderColor,"stroke-width":l.borderWidth,r:l.borderRadius||0,rotation:d,padding:l.padding,zIndex:1},"contrast"===m.color&&(y.color=l.inside||l.distance<0||r.stacking?p.getContrast(c.color||a.color):"#000000"),s&&(y.cursor=s);for(g in f)f[g]===_&&delete f[g];f=c.dataLabel=p[d?"text":"label"](i,0,-9999,l.shape,null,null,l.useHTML).attr(f).css(Zt(m,y)).add(o).shadow(l.shadow)}f&&a.alignDataLabel(c,f,l,null,b)}}))},ve.prototype.alignDataLabel=function(t,e,i,n,o){var a=this.chart,r=a.inverted,s=Jt(t.plotX,-9999),l=Jt(t.plotY,-9999),c=e.getBBox(),d=a.renderer.fontMetrics(i.style.fontSize).b,p=this.visible&&(t.series.forceDL||a.isInsidePlot(s,ct(l),r)||n&&a.isInsidePlot(s,r?n.x+1:n.y+n.height-1,r));p&&(n=Zt({x:r?a.plotWidth-l:s,y:ct(r?a.plotHeight-s:l),width:0,height:0},n),Zt(i,{width:c.width,height:c.height}),i.rotation?(t=a.renderer.rotCorr(d,i.rotation),e[o?"attr":"animate"]({x:n.x+i.x+n.width/2+t.x,y:n.y+i.y+n.height/2}).attr({align:i.align})):(e.align(i,null,n),r=e.alignAttr,"justify"===Jt(i.overflow,"justify")?this.justifyDataLabel(e,i,r,c,n,o):Jt(i.crop,!0)&&(p=a.isInsidePlot(r.x,r.y)&&a.isInsidePlot(r.x+c.width,r.y+c.height)),i.shape&&e.attr({anchorX:t.plotX,anchorY:t.plotY}))),p||(qt(e),e.attr({y:-9999}),e.placed=!1)},ve.prototype.justifyDataLabel=function(t,e,i,n,o,a){var r,s,l=this.chart,c=e.align,d=e.verticalAlign,p=t.box?0:t.padding||0;r=i.x+p,r<0&&("right"===c?e.align="left":e.x=-r,s=!0),r=i.x+n.width-p,r>l.plotWidth&&("left"===c?e.align="right":e.x=l.plotWidth-r,s=!0),r=i.y+p,r<0&&("bottom"===d?e.verticalAlign="top":e.y=-r,s=!0),r=i.y+n.height-p,r>l.plotHeight&&("top"===d?e.verticalAlign="bottom":e.y=l.plotHeight-r,s=!0),s&&(t.placed=!a,t.align(e,null,o))},zt.pie&&(zt.pie.prototype.drawDataLabels=function(){var t,e,i,n,o,a,r,s,l,c,d,p=this,u=p.data,h=p.chart,g=p.options.dataLabels,m=Jt(g.connectorPadding,10),f=Jt(g.connectorWidth,1),v=h.plotWidth,b=h.plotHeight,y=Jt(g.softConnector,!0),x=g.distance,w=p.center,k=w[2]/2,T=w[1],C=x>0,S=[[],[]],$=[0,0,0,0],D=function(t,e){return e.y-t.y};if(p.visible&&(g.enabled||p._hasPointLabels)){
for(ve.prototype.drawDataLabels.apply(p),Ht(u,function(t){t.dataLabel&&t.visible&&S[t.half].push(t)}),c=2;c--;){var O,A=[],P=[],L=S[c],E=L.length;if(E){for(p.sortByAngle(L,c-.5),d=u=0;!u&&L[d];)u=L[d]&&L[d].dataLabel&&(L[d].dataLabel.getBBox().height||21),d++;if(x>0){for(o=ht(T+k+x,h.plotHeight),d=ut(0,T-k-x);d<=o;d+=u)A.push(d);if(o=A.length,E>o){for(t=[].concat(L),t.sort(D),d=E;d--;)t[d].rank=d;for(d=E;d--;)L[d].rank>=o&&L.splice(d,1);E=L.length}for(d=0;d<E;d++){t=L[d],a=t.labelPos,t=9999;var I,F;for(F=0;F<o;F++)I=gt(A[F]-a[1]),I<t&&(t=I,O=F);if(O<d&&null!==A[d])O=d;else for(o<E-d+O&&null!==A[d]&&(O=o-E+d);null===A[O];)O++;P.push({i:O,y:A[O]}),A[O]=null}P.sort(D)}for(d=0;d<E;d++)t=L[d],a=t.labelPos,n=t.dataLabel,l=t.visible===!1?"hidden":"inherit",t=a[1],x>0?(o=P.pop(),O=o.i,s=o.y,(t>s&&null!==A[O+1]||t<s&&null!==A[O-1])&&(s=ht(ut(0,t),h.plotHeight))):s=t,r=g.justify?w[0]+(c?-1:1)*(k+x):p.getX(s===T-k-x||s===T+k+x?t:s,c),n._attr={visibility:l,align:a[6]},n._pos={x:r+g.x+({left:m,right:-m}[a[6]]||0),y:s+g.y-10},n.connX=r,n.connY=s,null===this.options.size&&(o=n.width,r-o<m?$[3]=ut(ct(o-r+m),$[3]):r+o>v-m&&($[1]=ut(ct(r+o-v+m),$[1])),s-u/2<0?$[0]=ut(ct(-s+u/2),$[0]):s+u/2>b&&($[2]=ut(ct(s+u/2-b),$[2])))}}(0===M($)||this.verifyDataLabelOverflow($))&&(this.placeDataLabels(),C&&f&&Ht(this.points,function(t){e=t.connector,a=t.labelPos,(n=t.dataLabel)&&n._pos&&t.visible?(l=n._attr.visibility,r=n.connX,s=n.connY,i=y?["M",r+("left"===a[6]?5:-5),s,"C",r,s,2*a[2]-a[4],2*a[3]-a[5],a[2],a[3],"L",a[4],a[5]]:["M",r+("left"===a[6]?5:-5),s,"L",a[2],a[3],"L",a[4],a[5]],e?(e.animate({d:i}),e.attr("visibility",l)):t.connector=e=p.chart.renderer.path(i).attr({"stroke-width":f,stroke:g.connectorColor||t.color||"#606060",visibility:l}).add(p.dataLabelsGroup)):e&&(t.connector=e.destroy())}))}},zt.pie.prototype.placeDataLabels=function(){Ht(this.points,function(t){var e=t.dataLabel;e&&t.visible&&((t=e._pos)?(e.attr(e._attr),e[e.moved?"animate":"attr"](t),e.moved=!0):e&&e.attr({y:-9999}))})},zt.pie.prototype.alignDataLabel=Lt,zt.pie.prototype.verifyDataLabelOverflow=function(t){var e,i=this.center,n=this.options,o=n.center,a=n.minSize||80,r=a;return null!==o[0]?r=ut(i[2]-ut(t[1],t[3]),a):(r=ut(i[2]-t[1]-t[3],a),i[0]+=(t[3]-t[1])/2),null!==o[1]?r=ut(ht(r,i[2]-ut(t[0],t[2])),a):(r=ut(ht(r,i[2]-t[0]-t[2]),a),i[1]+=(t[0]-t[2])/2),r<i[2]?(i[2]=r,i[3]=Math.min(/%$/.test(n.innerSize||0)?r*parseFloat(n.innerSize||0)/100:parseFloat(n.innerSize||0),r),this.translate(i),Ht(this.points,function(t){t.dataLabel&&(t.dataLabel._pos=null)}),this.drawDataLabels&&this.drawDataLabels()):e=!0,e}),zt.column&&(zt.column.prototype.alignDataLabel=function(t,e,i,o,a){var r=this.chart.inverted,s=t.series,l=t.dlBox||t.shapeArgs,c=Jt(t.below,t.plotY>Jt(this.translatedThreshold,s.yAxis.len)),d=Jt(i.inside,!!this.options.stacking);l&&(o=n(l),o.y<0&&(o.height+=o.y,o.y=0),l=o.y+o.height-s.yAxis.len,l>0&&(o.height-=l),r&&(o={x:s.yAxis.len-o.y-o.height,y:s.xAxis.len-o.x-o.width,width:o.height,height:o.width}),d||(r?(o.x+=c?0:o.width,o.width=0):(o.y+=c?o.height:0,o.height=0))),i.align=Jt(i.align,!r||d?"center":c?"right":"left"),i.verticalAlign=Jt(i.verticalAlign,r||d?"middle":c?"top":"bottom"),ve.prototype.alignDataLabel.call(this,t,e,i,o,a)}),function(t){var e=t.Chart,i=t.each,n=t.pick,o=t.addEvent;e.prototype.callbacks.push(function(t){function e(){var e=[];i(t.series,function(t){var o=t.options.dataLabels,a=t.dataLabelCollections||["dataLabel"];(o.enabled||t._hasPointLabels)&&!o.allowOverlap&&t.visible&&i(a,function(o){i(t.points,function(t){t[o]&&(t[o].labelrank=n(t.labelrank,t.shapeArgs&&t.shapeArgs.height),e.push(t[o]))})})}),t.hideOverlappingLabels(e)}e(),o(t,"redraw",e)}),e.prototype.hideOverlappingLabels=function(t){var e,n,o,a,r,s,l,c=t.length;for(n=0;n<c;n++)(e=t[n])&&(e.oldOpacity=e.opacity,e.newOpacity=1);for(t.sort(function(t,e){return(e.labelrank||0)-(t.labelrank||0)}),n=0;n<c;n++)for(o=t[n],e=n+1;e<c;++e)a=t[e],o&&a&&o.placed&&a.placed&&0!==o.newOpacity&&0!==a.newOpacity&&(r=o.alignAttr,s=a.alignAttr,l=2*(o.box?0:o.padding),r=!(s.x>r.x+(o.width-l)||s.x+(a.width-l)<r.x||s.y>r.y+(o.height-l)||s.y+(a.height-l)<r.y))&&((o.labelrank<a.labelrank?o:a).newOpacity=0);i(t,function(t){var e,i;t&&(i=t.newOpacity,t.oldOpacity!==i&&t.placed&&(i?t.show(!0):e=function(){t.hide()},t.alignAttr.opacity=i,t[t.isOld?"animate":"attr"](t.alignAttr,null,e)),t.isOld=!0)})}}(rt),ee=rt.TrackerMixin={drawTrackerPoint:function(){var t=this,e=t.chart,i=e.pointer,n=t.options.cursor,o=n&&{cursor:n},a=function(t){for(var i,n=t.target;n&&!i;)i=n.point,n=n.parentNode;i!==_&&i!==e.hoverPoint&&i.onMouseOver(t)};Ht(t.points,function(t){t.graphic&&(t.graphic.element.point=t),t.dataLabel&&(t.dataLabel.element.point=t)}),t._hasTracking||(Ht(t.trackerGroups,function(e){t[e]&&(t[e].addClass("highcharts-tracker").on("mouseover",a).on("mouseout",function(t){i.onTrackerMouseOut(t)}).css(o),z)&&t[e].on("touchstart",a)}),t._hasTracking=!0)},drawTrackerGraph:function(){var t,e=this,i=e.options,n=i.trackByArea,o=[].concat(n?e.areaPath:e.graphPath),a=o.length,r=e.chart,s=r.pointer,l=r.renderer,c=r.options.tooltip.snap,d=e.tracker,p=i.cursor,u=p&&{cursor:p},p=e.singlePoints,h=function(){r.hoverSeries!==e&&e.onMouseOver()},g="rgba(192,192,192,"+($t?1e-4:.002)+")";if(a&&!n)for(t=a+1;t--;)"M"===o[t]&&o.splice(t+1,0,o[t+1]-c,o[t+2],"L"),(t&&"M"===o[t]||t===a)&&o.splice(t,0,"L",o[t-2]+c,o[t-1]);for(t=0;t<p.length;t++)a=p[t],o.push("M",a.plotX-c,a.plotY,"L",a.plotX+c,a.plotY);d?d.attr({d:o}):(e.tracker=l.path(o).attr({"stroke-linejoin":"round",visibility:e.visible?"visible":"hidden",stroke:g,fill:n?g:"none","stroke-width":i.lineWidth+(n?0:2*c),zIndex:2}).add(e.group),Ht([e.tracker,e.markerGroup],function(t){t.addClass("highcharts-tracker").on("mouseover",h).on("mouseout",function(t){s.onTrackerMouseOut(t)}).css(u),z&&t.on("touchstart",h)}))}},zt.column&&(be.prototype.drawTracker=ee.drawTrackerPoint),zt.pie&&(zt.pie.prototype.drawTracker=ee.drawTrackerPoint),zt.scatter&&(ye.prototype.drawTracker=ee.drawTrackerPoint),Zt(ge.prototype,{setItemEvents:function(t,e,i,n,o){var a=this;(i?e:t.legendGroup).on("mouseover",function(){t.setState("hover"),e.css(a.options.itemHoverStyle)}).on("mouseout",function(){e.css(t.visible?n:o),t.setState()}).on("click",function(e){var i=function(){t.setVisible&&t.setVisible()},e={browserEvent:e};t.firePointEvent?t.firePointEvent("legendItemClick",e,i):Vt(t,"legendItemClick",e,i)})},createCheckboxForItem:function(t){t.checkbox=v("input",{type:"checkbox",checked:t.selected,defaultChecked:t.selected},this.options.itemCheckboxStyle,this.chart.container),Ut(t.checkbox,"click",function(e){Vt(t.series||t,"checkboxClick",{checked:e.target.checked,item:t},function(){t.select()})})}}),R.legend.itemStyle.cursor="pointer",Zt(me.prototype,{showResetZoom:function(){var t=this,e=R.lang,i=t.options.chart.resetZoomButton,n=i.theme,o=n.states,a="chart"===i.relativeTo?null:"plotBox";this.resetZoomButton=t.renderer.button(e.resetZoom,null,null,function(){t.zoomOut()},n,o&&o.hover).attr({align:i.position.align,title:e.resetZoomTitle}).add().align(i.position,!1,a)},zoomOut:function(){var t=this;Vt(t,"selection",{resetSelection:!0},function(){t.zoom()})},zoom:function(t){var e,i,n=this.pointer,o=!1;!t||t.resetSelection?Ht(this.axes,function(t){e=t.zoom()}):Ht(t.xAxis.concat(t.yAxis),function(t){var i=t.axis,a=i.isXAxis;(n[a?"zoomX":"zoomY"]||n[a?"pinchX":"pinchY"])&&(e=i.zoom(t.min,t.max),i.displayBtn&&(o=!0))}),i=this.resetZoomButton,o&&!i?this.showResetZoom():!o&&r(i)&&(this.resetZoomButton=i.destroy()),e&&this.redraw(Jt(this.options.chart.animation,t&&t.animation,this.pointCount<100))},pan:function(t,e){var i,n=this,o=n.hoverPoints;o&&Ht(o,function(t){t.setState()}),Ht("xy"===e?[1,0]:[1],function(e){var o=t[e?"chartX":"chartY"],a=n[e?"xAxis":"yAxis"][0],r=n[e?"mouseDownX":"mouseDownY"],s=(a.pointRange||0)/2,l=a.getExtremes(),c=a.toValue(r-o,!0)+s,s=a.toValue(r+n[e?"plotWidth":"plotHeight"]-o,!0)-s,r=r>o;a.series.length&&(r||c>ht(l.dataMin,l.min))&&(!r||s<ut(l.dataMax,l.max))&&(a.setExtremes(c,s,!1,!1,{trigger:"pan"}),i=!0),n[e?"mouseDownX":"mouseDownY"]=o}),i&&n.redraw(!1),f(n.container,{cursor:"move"})}}),Zt(fe.prototype,{select:function(t,e){var i=this,n=i.series,o=n.chart,t=Jt(t,!i.selected);i.firePointEvent(t?"select":"unselect",{accumulate:e},function(){i.selected=i.options.selected=t,n.options.data[Rt(i,n.data)]=i.options,i.setState(t&&"select"),e||Ht(o.getSelectedPoints(),function(t){t.selected&&t!==i&&(t.selected=t.options.selected=!1,n.options.data[Rt(t,n.data)]=t.options,t.setState(""),t.firePointEvent("unselect"))})})},onMouseOver:function(t,e){var i=this.series,n=i.chart,o=n.tooltip,a=n.hoverPoint;n.hoverSeries!==i&&i.onMouseOver(),a&&a!==this&&a.onMouseOut(),this.series&&(this.firePointEvent("mouseOver"),o&&(!o.shared||i.noSharedTooltip)&&o.refresh(this,t),this.setState("hover"),!e)&&(n.hoverPoint=this)},onMouseOut:function(){var t=this.series.chart,e=t.hoverPoints;this.firePointEvent("mouseOut"),e&&Rt(this,e)!==-1||(this.setState(),t.hoverPoint=null)},importEvents:function(){if(!this.hasImportedEvents){var t,e=n(this.series.options.point,this.options).events;this.events=e;for(t in e)Ut(this,t,e[t]);this.hasImportedEvents=!0}},setState:function(t,e){var i,o=dt(this.plotX),a=this.plotY,r=this.series,s=r.options.states,l=te[r.type].marker&&r.options.marker,c=l&&!l.enabled,d=l&&l.states[t],p=d&&d.enabled===!1,u=r.stateMarkerGraphic,h=this.marker||{},g=r.chart,m=r.halo,t=t||"";i=this.pointAttr[t]||r.pointAttr[t],t===this.state&&!e||this.selected&&"select"!==t||s[t]&&s[t].enabled===!1||t&&(p||c&&d.enabled===!1)||t&&h.states&&h.states[t]&&h.states[t].enabled===!1||(this.graphic?(l=l&&this.graphic.symbolName&&i.r,this.graphic.attr(n(i,l?{x:o-l,y:a-l,width:2*l,height:2*l}:{})),u&&u.hide()):(t&&d&&(l=d.radius,h=h.symbol||r.symbol,u&&u.currentSymbol!==h&&(u=u.destroy()),u?u[e?"animate":"attr"]({x:o-l,y:a-l}):h&&(r.stateMarkerGraphic=u=g.renderer.symbol(h,o-l,a-l,2*l,2*l).attr(i).add(r.markerGroup),u.currentSymbol=h)),u&&(u[t&&g.isInsidePlot(o,a,g.inverted)?"show":"hide"](),u.element.point=this)),(o=s[t]&&s[t].halo)&&o.size?(m||(r.halo=m=g.renderer.path().add(g.seriesGroup)),m.attr(Zt({fill:this.color||r.color,"fill-opacity":o.opacity},o.attributes))[e?"animate":"attr"]({d:this.haloPath(o.size)})):m&&m.attr({d:[]}),this.state=t)},haloPath:function(t){var e=this.series,i=e.chart,n=e.getPlotBox(),o=i.inverted,a=Math.floor(this.plotX);return i.renderer.symbols.circle(n.translateX+(o?e.yAxis.len-this.plotY:a)-t,n.translateY+(o?e.xAxis.len-a:this.plotY)-t,2*t,2*t)}}),Zt(ve.prototype,{onMouseOver:function(){var t=this.chart,e=t.hoverSeries;e&&e!==this&&e.onMouseOut(),this.options.events.mouseOver&&Vt(this,"mouseOver"),this.setState("hover"),t.hoverSeries=this},onMouseOut:function(){var t=this.options,e=this.chart,i=e.tooltip,n=e.hoverPoint;e.hoverSeries=null,n&&n.onMouseOut(),this&&t.events.mouseOut&&Vt(this,"mouseOut"),i&&!t.stickyTracking&&(!i.shared||this.noSharedTooltip)&&i.hide(),this.setState()},setState:function(t){var e=this.options,i=this.graph,n=e.states,o=e.lineWidth,e=0,t=t||"";if(this.state!==t&&(this.state=t,!(n[t]&&n[t].enabled===!1)&&(t&&(o=n[t].lineWidth||o+(n[t].lineWidthPlus||0)),i&&!i.dashstyle)))for(t={"stroke-width":o},i.attr(t);this["zoneGraph"+e];)this["zoneGraph"+e].attr(t),e+=1},setVisible:function(t,e){var i,n=this,o=n.chart,a=n.legendItem,r=o.options.chart.ignoreHiddenSeries,s=n.visible;i=(n.visible=t=n.userOptions.visible=t===_?!s:t)?"show":"hide",Ht(["group","dataLabelsGroup","markerGroup","tracker"],function(t){n[t]&&n[t][i]()}),o.hoverSeries!==n&&(o.hoverPoint&&o.hoverPoint.series)!==n||n.onMouseOut(),a&&o.legend.colorizeItem(n,t),n.isDirty=!0,n.options.stacking&&Ht(o.series,function(t){t.options.stacking&&t.visible&&(t.isDirty=!0)}),Ht(n.linkedSeries,function(e){e.setVisible(t,!1)}),r&&(o.isDirtyBox=!0),e!==!1&&o.redraw(),Vt(n,i)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(t){this.selected=t=t===_?!this.selected:t,this.checkbox&&(this.checkbox.checked=t),Vt(this,t?"select":"unselect")},drawTracker:ee.drawTrackerGraph}),Zt(rt,{Color:L,Point:fe,Tick:I,Renderer:N,SVGElement:E,SVGRenderer:ie,arrayMin:S,arrayMax:M,charts:Et,dateFormat:H,error:e,format:w,pathAnim:void 0,getOptions:function(){return R},hasBidiBug:Dt,isTouchDevice:St,setOptions:function(t){return R=n(!0,R,t),P(),R},addEvent:Ut,removeEvent:Yt,createElement:v,discardElement:D,css:f,each:Ht,map:Gt,merge:n,splat:g,stableSort:C,extendClass:b,pInt:o,svg:$t,canvas:Ot,vml:!$t&&!Ot,product:"Highcharts",version:"4.2.1"}),rt});var duScrollDefaultEasing=function(t){"use strict";return t<.5?Math.pow(2*t,2)/2:1-Math.pow(2*(1-t),2)/2},duScroll=angular.module("duScroll",["duScroll.scrollspy","duScroll.smoothScroll","duScroll.scrollContainer","duScroll.spyContext","duScroll.scrollHelpers"]).value("duScrollDuration",350).value("duScrollSpyWait",100).value("duScrollSpyRefreshInterval",0).value("duScrollGreedy",!1).value("duScrollOffset",0).value("duScrollEasing",duScrollDefaultEasing).value("duScrollCancelOnEvents","scroll mousedown mousewheel touchmove keydown").value("duScrollBottomSpy",!1).value("duScrollActiveClass","active");"undefined"!=typeof module&&module&&module.exports&&(module.exports=duScroll),angular.module("duScroll.scrollHelpers",["duScroll.requestAnimation"]).run(["$window","$q","cancelAnimation","requestAnimation","duScrollEasing","duScrollDuration","duScrollOffset","duScrollCancelOnEvents",function(t,e,i,n,o,a,r,s){"use strict";var l={},c=function(t){return"undefined"!=typeof HTMLDocument&&t instanceof HTMLDocument||t.nodeType&&t.nodeType===t.DOCUMENT_NODE},d=function(t){return"undefined"!=typeof HTMLElement&&t instanceof HTMLElement||t.nodeType&&t.nodeType===t.ELEMENT_NODE},p=function(t){return d(t)||c(t)?t:t[0]};l.duScrollTo=function(e,i,n,o){var a;if(angular.isElement(e)?a=this.duScrollToElement:angular.isDefined(n)&&(a=this.duScrollToAnimated),a)return a.apply(this,arguments);var r=p(this);return c(r)?t.scrollTo(e,i):(r.scrollLeft=e,void(r.scrollTop=i))};var u,h;l.duScrollToAnimated=function(t,a,r,l){r&&!l&&(l=o);var c=this.duScrollLeft(),d=this.duScrollTop(),p=Math.round(t-c),g=Math.round(a-d),m=null,f=0,v=this,b=function(t){(!t||f&&t.which>0)&&(s&&v.unbind(s,b),i(u),h.reject(),u=null)};if(u&&b(),h=e.defer(),0===r||!p&&!g)return 0===r&&v.duScrollTo(t,a),h.resolve(),h.promise;var y=function(t){null===m&&(m=t),f=t-m;var e=f>=r?1:l(f/r);v.scrollTo(c+Math.ceil(p*e),d+Math.ceil(g*e)),e<1?u=n(y):(s&&v.unbind(s,b),u=null,h.resolve())};return v.duScrollTo(c,d),s&&v.bind(s,b),u=n(y),h.promise},l.duScrollToElement=function(t,e,i,n){var o=p(this);angular.isNumber(e)&&!isNaN(e)||(e=r);var a=this.duScrollTop()+p(t).getBoundingClientRect().top-e;return d(o)&&(a-=o.getBoundingClientRect().top),this.duScrollTo(0,a,i,n)},l.duScrollLeft=function(e,i,n){if(angular.isNumber(e))return this.duScrollTo(e,this.duScrollTop(),i,n);var o=p(this);return c(o)?t.scrollX||document.documentElement.scrollLeft||document.body.scrollLeft:o.scrollLeft},l.duScrollTop=function(e,i,n){if(angular.isNumber(e))return this.duScrollTo(this.duScrollLeft(),e,i,n);var o=p(this);return c(o)?t.scrollY||document.documentElement.scrollTop||document.body.scrollTop:o.scrollTop},l.duScrollToElementAnimated=function(t,e,i,n){return this.duScrollToElement(t,e,i||a,n)},l.duScrollTopAnimated=function(t,e,i){return this.duScrollTop(t,e||a,i)},l.duScrollLeftAnimated=function(t,e,i){return this.duScrollLeft(t,e||a,i)},angular.forEach(l,function(t,e){angular.element.prototype[e]=t;var i=e.replace(/^duScroll/,"scroll");angular.isUndefined(angular.element.prototype[i])&&(angular.element.prototype[i]=t)})}]),angular.module("duScroll.polyfill",[]).factory("polyfill",["$window",function(t){"use strict";var e=["webkit","moz","o","ms"];return function(i,n){if(t[i])return t[i];for(var o,a=i.substr(0,1).toUpperCase()+i.substr(1),r=0;r<e.length;r++)if(o=e[r]+a,t[o])return t[o];return n}}]),angular.module("duScroll.requestAnimation",["duScroll.polyfill"]).factory("requestAnimation",["polyfill","$timeout",function(t,e){"use strict";var i=0,n=function(t,n){var o=(new Date).getTime(),a=Math.max(0,16-(o-i)),r=e(function(){t(o+a)},a);return i=o+a,r};return t("requestAnimationFrame",n)}]).factory("cancelAnimation",["polyfill","$timeout",function(t,e){"use strict";var i=function(t){e.cancel(t)};return t("cancelAnimationFrame",i)}]),angular.module("duScroll.spyAPI",["duScroll.scrollContainerAPI"]).factory("spyAPI",["$rootScope","$timeout","$interval","$window","$document","scrollContainerAPI","duScrollGreedy","duScrollSpyWait","duScrollSpyRefreshInterval","duScrollBottomSpy","duScrollActiveClass",function(t,e,i,n,o,a,r,s,l,c,d){"use strict";var p=function(i){var a=!1,l=!1,p=function(){l=!1;var e,a=i.container,s=a[0],p=0;if("undefined"!=typeof HTMLElement&&s instanceof HTMLElement||s.nodeType&&s.nodeType===s.ELEMENT_NODE)p=s.getBoundingClientRect().top,e=Math.round(s.scrollTop+s.clientHeight)>=s.scrollHeight;else{var u=o[0].body.scrollHeight||o[0].documentElement.scrollHeight;e=Math.round(n.pageYOffset+n.innerHeight)>=u}var h,g,m,f,v,b,y=c&&e?"bottom":"top";for(f=i.spies,g=i.currentlyActive,m=void 0,h=0;h<f.length;h++)v=f[h],b=v.getTargetPosition(),b&&v.$element&&(c&&e||b.top+v.offset-p<20&&(r||b.top*-1+p)<b.height)&&(!m||m[y]<b[y])&&(m={spy:v},m[y]=b[y]);m&&(m=m.spy),g===m||r&&!m||(g&&g.$element&&(g.$element.removeClass(d),t.$broadcast("duScrollspy:becameInactive",g.$element,angular.element(g.getTargetElement()))),m&&(m.$element.addClass(d),t.$broadcast("duScrollspy:becameActive",m.$element,angular.element(m.getTargetElement()))),i.currentlyActive=m)};return s?function(){a?l=!0:(p(),a=e(function(){a=!1,l&&p()},s,!1))}:p},u={},h=function(t){var e=t.$id,i={spies:[]};return i.handler=p(i),u[e]=i,t.$on("$destroy",function(){g(t)}),e},g=function(t){var e=t.$id,n=u[e],o=n.container;n.intervalPromise&&i.cancel(n.intervalPromise),o&&o.off("scroll",n.handler),delete u[e]},m=h(t),f=function(t){return u[t.$id]?u[t.$id]:t.$parent?f(t.$parent):u[m]},v=function(t){var e,i,n=t.$scope;if(n)return f(n);for(i in u)if(e=u[i],e.spies.indexOf(t)!==-1)return e},b=function(t){for(;t.parentNode;)if(t=t.parentNode,t===document)return!0;return!1},y=function(t){var e=v(t);e&&(e.spies.push(t),e.container&&b(e.container)||(e.container&&e.container.off("scroll",e.handler),e.container=a.getContainer(t.$scope),l&&!e.intervalPromise&&(e.intervalPromise=i(e.handler,l,0,!1)),e.container.on("scroll",e.handler).triggerHandler("scroll")))},x=function(e){var i=v(e);e===i.currentlyActive&&(t.$broadcast("duScrollspy:becameInactive",i.currentlyActive.$element),i.currentlyActive=null);var n=i.spies.indexOf(e);n!==-1&&i.spies.splice(n,1),e.$element=null};return{addSpy:y,removeSpy:x,createContext:h,destroyContext:g,getContextForScope:f}}]),angular.module("duScroll.scrollContainerAPI",[]).factory("scrollContainerAPI",["$document",function(t){"use strict";var e={},i=function(t,i){var n=t.$id;return e[n]=i,n},n=function(t){return e[t.$id]?t.$id:t.$parent?n(t.$parent):void 0},o=function(i){var o=n(i);return o?e[o]:t},a=function(t){var i=n(t);i&&delete e[i]};return{getContainerId:n,getContainer:o,setContainer:i,removeContainer:a}}]),angular.module("duScroll.smoothScroll",["duScroll.scrollHelpers","duScroll.scrollContainerAPI"]).directive("duSmoothScroll",["duScrollDuration","duScrollOffset","scrollContainerAPI",function(t,e,i){"use strict";return{link:function(n,o,a){o.on("click",function(o){if(a.href&&a.href.indexOf("#")!==-1||""!==a.duSmoothScroll){var r=a.href?a.href.replace(/.*(?=#[^\s]+$)/,"").substring(1):a.duSmoothScroll,s=document.getElementById(r)||document.getElementsByName(r)[0];if(s&&s.getBoundingClientRect){o.stopPropagation&&o.stopPropagation(),o.preventDefault&&o.preventDefault();var l=a.offset?parseInt(a.offset,10):e,c=a.duration?parseInt(a.duration,10):t,d=i.getContainer(n);d.duScrollToElement(angular.element(s),isNaN(l)?0:l,isNaN(c)?0:c)}}})}}}]),angular.module("duScroll.spyContext",["duScroll.spyAPI"]).directive("duSpyContext",["spyAPI",function(t){"use strict";return{restrict:"A",scope:!0,compile:function(e,i,n){return{pre:function(e,i,n,o){t.createContext(e)}}}}}]),angular.module("duScroll.scrollContainer",["duScroll.scrollContainerAPI"]).directive("duScrollContainer",["scrollContainerAPI",function(t){"use strict";return{restrict:"A",scope:!0,compile:function(e,i,n){return{pre:function(e,i,n,o){n.$observe("duScrollContainer",function(n){angular.isString(n)&&(n=document.getElementById(n)),n=angular.isElement(n)?angular.element(n):i,t.setContainer(e,n),e.$on("$destroy",function(){t.removeContainer(e)})})}}}}}]),angular.module("duScroll.scrollspy",["duScroll.spyAPI"]).directive("duScrollspy",["spyAPI","duScrollOffset","$timeout","$rootScope",function(t,e,i,n){"use strict";var o=function(t,e,i,n){angular.isElement(t)?this.target=t:angular.isString(t)&&(this.targetId=t),this.$scope=e,this.$element=i,this.offset=n};return o.prototype.getTargetElement=function(){return!this.target&&this.targetId&&(this.target=document.getElementById(this.targetId)||document.getElementsByName(this.targetId)[0]),this.target},o.prototype.getTargetPosition=function(){var t=this.getTargetElement();if(t)return t.getBoundingClientRect()},o.prototype.flushTargetCache=function(){this.targetId&&(this.target=void 0)},{link:function(a,r,s){var l,c=s.ngHref||s.href;if(c&&c.indexOf("#")!==-1?l=c.replace(/.*(?=#[^\s]+$)/,"").substring(1):s.duScrollspy?l=s.duScrollspy:s.duSmoothScroll&&(l=s.duSmoothScroll),l){var d=i(function(){var i=new o(l,a,r,(-(s.offset?parseInt(s.offset,10):e)));t.addSpy(i),a.$on("$locationChangeSuccess",i.flushTargetCache.bind(i));var c=n.$on("$stateChangeSuccess",i.flushTargetCache.bind(i));a.$on("$destroy",function(){t.removeSpy(i),c()})},0,!1);a.$on("$destroy",function(){i.cancel(d)})}}}}]),function(t,e){"use strict";function i(t){var e=[];return p(e,l).chars(t),e.join("")}var n,o,a,r,s,l,c,d,p,u=e.$$minErr("$sanitize");e.module("ngSanitize",[]).provider("$sanitize",function(){function i(t,e){var i,n={},o=t.split(",");for(i=0;i<o.length;i++)n[e?s(o[i]):o[i]]=!0;return n}function h(t){for(var e={},i=0,n=t.length;i<n;i++){var o=t[i];e[o.name]=o.value}return e}function g(t){return t.replace(/&/g,"&amp;").replace(b,function(t){var e=t.charCodeAt(0);return t=t.charCodeAt(1),"&#"+(1024*(e-55296)+(t-56320)+65536)+";"}).replace(y,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function m(e){for(;e;){if(e.nodeType===t.Node.ELEMENT_NODE)for(var i=e.attributes,n=0,o=i.length;n<o;n++){var a=i[n],r=a.name.toLowerCase();"xmlns:ns1"!==r&&0!==r.lastIndexOf("ns1:",0)||(e.removeAttributeNode(a),n--,o--)}(i=e.firstChild)&&m(i),e=f("nextSibling",e)}}function f(t,e){var i=e[t];if(i&&c.call(e,i))throw u("elclob",e.outerHTML||e.outerText);return i}var v=!1;this.$get=["$$sanitizeUri",function(t){return v&&o(M,C),function(e){var i=[];return d(e,p(i,function(e,i){return!/^unsafe:/.test(t(e,i))})),i.join("")}}],this.enableSvg=function(t){return r(t)?(v=t,this):v},n=e.bind,o=e.extend,a=e.forEach,r=e.isDefined,s=e.lowercase,l=e.noop,d=function(t,e){null===t||void 0===t?t="":"string"!=typeof t&&(t=""+t);var i=O(t);if(!i)return"";var n=5;do{if(0===n)throw u("uinput");n--,t=i.innerHTML,i=O(t)}while(t!==i.innerHTML);for(n=i.firstChild;n;){switch(n.nodeType){case 1:e.start(n.nodeName.toLowerCase(),h(n.attributes));break;case 3:e.chars(n.textContent)}var o;if(!(o=n.firstChild)&&(1===n.nodeType&&e.end(n.nodeName.toLowerCase()),o=f("nextSibling",n),!o))for(;null==o&&(n=f("parentNode",n),n!==i);)o=f("nextSibling",n),1===n.nodeType&&e.end(n.nodeName.toLowerCase());n=o}for(;n=i.firstChild;)i.removeChild(n)},p=function(t,e){var i=!1,o=n(t,t.push);return{start:function(t,n){t=s(t),!i&&S[t]&&(i=t),i||!0!==M[t]||(o("<"),o(t),a(n,function(i,n){var a=s(n),r="img"===t&&"src"===a||"background"===a;!0!==D[a]||!0===$[a]&&!e(i,r)||(o(" "),o(n),o('="'),o(g(i)),o('"'))}),o(">"))},end:function(t){t=s(t),i||!0!==M[t]||!0===x[t]||(o("</"),o(t),o(">")),t==i&&(i=!1)},chars:function(t){i||o(g(t))}}},c=t.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))};var b=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,y=/([^#-~ |!])/g,x=i("area,br,col,hr,img,wbr"),w=i("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),k=i("rp,rt"),T=o({},k,w),w=o({},w,i("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),k=o({},k,i("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),C=i("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),S=i("script,style"),M=o({},x,w,k,T),$=i("background,cite,href,longdesc,src,xlink:href"),T=i("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),k=i("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),D=o({},$,k,T),O=function(t,e){function i(e){e="<remove></remove>"+e;try{var i=(new t.DOMParser).parseFromString(e,"text/html").body;return i.firstChild.remove(),i}catch(n){}}function n(t){return a.innerHTML=t,e.documentMode&&m(a),a}var o;if(!e||!e.implementation)throw u("noinert");o=e.implementation.createHTMLDocument("inert");var a=(o.documentElement||o.getDocumentElement()).querySelector("body");return a.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',a.querySelector("svg")?(a.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',a.querySelector("svg img")?i:n):function(e){e="<remove></remove>"+e;try{e=encodeURI(e)}catch(i){return}var n=new t.XMLHttpRequest;return n.responseType="document",n.open("GET","data:text/html;charset=utf-8,"+e,!1),n.send(null),e=n.response.body,e.firstChild.remove(),e}}(t,t.document)}).info({angularVersion:"1.6.8"}),e.module("ngSanitize").filter("linky",["$sanitize",function(t){var n=/((s?ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,o=/^mailto:/i,a=e.$$minErr("linky"),r=e.isDefined,s=e.isFunction,l=e.isObject,c=e.isString;return function(e,d,p){function u(t){t&&b.push(i(t))}function h(t,e){var i,n=f(t);b.push("<a ");for(i in n)b.push(i+'="'+n[i]+'" ');!r(d)||"target"in n||b.push('target="',d,'" '),b.push('href="',t.replace(/"/g,"&quot;"),'">'),u(e),b.push("</a>")}if(null==e||""===e)return e;if(!c(e))throw a("notstring",e);for(var g,m,f=s(p)?p:l(p)?function(){return p}:function(){return{}},v=e,b=[];e=v.match(n);)g=e[0],e[2]||e[4]||(g=(e[3]?"http://":"mailto:")+g),m=e.index,u(v.substr(0,m)),h(g,e[0].replace(o,"")),v=v.substring(m+e[0].length);return u(v),t(b.join(""))}}])}(window,window.angular),!function(t,e,i){"use strict";e.module("ngToast.provider",[]).provider("ngToast",[function(){function t(t){for(var n=Math.floor(1e3*Math.random());i.indexOf(n)>-1;)n=Math.floor(1e3*Math.random());this.id=n,this.count=0,this.animation=o.animation,this.className=o.className,this.additionalClasses=o.additionalClasses,this.dismissOnTimeout=o.dismissOnTimeout,this.timeout=o.timeout,this.dismissButton=o.dismissButton,this.dismissButtonHtml=o.dismissButtonHtml,this.dismissOnClick=o.dismissOnClick,this.onDismiss=o.onDismiss,this.compileContent=o.compileContent,e.extend(this,t)}var i=[],n=[],o={animation:!1,className:"success",additionalClasses:null,dismissOnTimeout:!0,timeout:4e3,dismissButton:!1,dismissButtonHtml:"&times;",dismissOnClick:!0,onDismiss:null,compileContent:!1,combineDuplications:!1,horizontalPosition:"right",verticalPosition:"top",maxNumber:0,newestOnTop:!0};this.configure=function(t){e.extend(o,t)},this.$get=[function(){var e=function(t,e){return e="object"==typeof e?e:{content:e},e.className=t,this.create(e)};return{settings:o,messages:i,dismiss:function(t){if(t){for(var e=i.length-1;e>=0;e--)if(i[e].id===t)return i.splice(e,1),void n.splice(n.indexOf(t),1)}else{for(;i.length>0;)i.pop();n=[]}},create:function(e){if(e="object"==typeof e?e:{content:e},o.combineDuplications)for(var a=n.length-1;a>=0;a--){var r=i[a],s=e.className||"success";if(r.content===e.content&&r.className===s)return void i[a].count++}o.maxNumber>0&&n.length>=o.maxNumber&&this.dismiss(n[0]);var l=new t(e);return i[o.newestOnTop?"unshift":"push"](l),n.push(l.id),l.id},success:function(t){return e.call(this,"success",t)},info:function(t){return e.call(this,"info",t)},warning:function(t){return e.call(this,"warning",t)},danger:function(t){return e.call(this,"danger",t)}}}]}])}(window,window.angular),function(t,e){"use strict";e.module("ngToast.directives",["ngToast.provider"]).run(["$templateCache",function(t){t.put("ngToast/toast.html",'<div class="ng-toast ng-toast--{{hPos}} ng-toast--{{vPos}} {{animation ? \'ng-toast--animate-\' + animation : \'\'}}"><ul class="ng-toast__list"><toast-message ng-repeat="message in messages" message="message" count="message.count"><span ng-bind-html="message.content"></span></toast-message></ul></div>'),t.put("ngToast/toastMessage.html",'<li class="ng-toast__message {{message.additionalClasses}}"ng-mouseenter="onMouseEnter()"ng-mouseleave="onMouseLeave()"><div class="alert alert-{{message.className}}" ng-class="{\'alert-dismissible\': message.dismissButton}"><button type="button" class="close" ng-if="message.dismissButton" ng-bind-html="message.dismissButtonHtml" ng-click="!message.dismissOnClick && dismiss()"></button><span ng-if="count" class="ng-toast__message__count">{{count + 1}}</span><span ng-if="!message.compileContent" ng-transclude></span></div></li>')}]).directive("toast",["ngToast","$templateCache","$log",function(t,e,i){return{replace:!0,restrict:"EA",templateUrl:"ngToast/toast.html",compile:function(n,o){if(o.template){var a=e.get(o.template);a?n.replaceWith(a):i.warn("ngToast: Provided template could not be loaded. Please be sure that it is populated before the <toast> element is represented.")}return function(e){e.hPos=t.settings.horizontalPosition,e.vPos=t.settings.verticalPosition,e.animation=t.settings.animation,e.messages=t.messages}}}}]).directive("toastMessage",["$timeout","$compile","ngToast",function(t,e,i){return{replace:!0,transclude:!0,restrict:"EA",scope:{message:"=",count:"="},controller:["$scope","ngToast",function(t,e){t.dismiss=function(){e.dismiss(t.message.id)}}],templateUrl:"ngToast/toastMessage.html",link:function(n,o,a,r,s){o.attr("data-message-id",n.message.id);var l,c=n.message.compileContent;if(n.cancelTimeout=function(){
t.cancel(l)},n.startTimeout=function(){n.message.dismissOnTimeout&&(l=t(function(){i.dismiss(n.message.id)},n.message.timeout))},n.onMouseEnter=function(){n.cancelTimeout()},n.onMouseLeave=function(){n.startTimeout()},c){var d;s(n,function(t){d=t,o.children().append(d)}),t(function(){e(d.contents())("boolean"==typeof c?n.$parent:c,function(t){d.replaceWith(t)})},0)}n.startTimeout(),n.message.dismissOnClick&&o.bind("click",function(){i.dismiss(n.message.id),n.$apply()}),n.message.onDismiss&&n.$on("$destroy",n.message.onDismiss.bind(n.message))}}}])}(window,window.angular),function(t,e){"use strict";e.module("ngToast",["ngSanitize","ngToast.directives","ngToast.provider"])}(window,window.angular),function t(e,i,n){function o(r,s){if(!i[r]){if(!e[r]){var l="function"==typeof require&&require;if(!s&&l)return l(r,!0);if(a)return a(r,!0);var c=new Error("Cannot find module '"+r+"'");throw c.code="MODULE_NOT_FOUND",c}var d=i[r]={exports:{}};e[r][0].call(d.exports,function(t){var i=e[r][1][t];return o(i?i:t)},d,d.exports,t,e,i,n)}return i[r].exports}for(var a="function"==typeof require&&require,r=0;r<n.length;r++)o(n[r]);return o}({1:[function(t,e,i){t("./node_modules/angular-ui-bootstrap/index.js")},{"./node_modules/angular-ui-bootstrap/index.js":3}],2:[function(t,e,i){angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.tabindex","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.isClass","ui.bootstrap.datepicker","ui.bootstrap.position","ui.bootstrap.datepickerPopup","ui.bootstrap.debounce","ui.bootstrap.dropdown","ui.bootstrap.stackedMap","ui.bootstrap.modal","ui.bootstrap.paging","ui.bootstrap.pager","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["uib/template/accordion/accordion-group.html","uib/template/accordion/accordion.html","uib/template/alert/alert.html","uib/template/carousel/carousel.html","uib/template/carousel/slide.html","uib/template/datepicker/datepicker.html","uib/template/datepicker/day.html","uib/template/datepicker/month.html","uib/template/datepicker/year.html","uib/template/datepickerPopup/popup.html","uib/template/modal/window.html","uib/template/pager/pager.html","uib/template/pagination/pagination.html","uib/template/tooltip/tooltip-html-popup.html","uib/template/tooltip/tooltip-popup.html","uib/template/tooltip/tooltip-template-popup.html","uib/template/popover/popover-html.html","uib/template/popover/popover-template.html","uib/template/popover/popover.html","uib/template/progressbar/bar.html","uib/template/progressbar/progress.html","uib/template/progressbar/progressbar.html","uib/template/rating/rating.html","uib/template/tabs/tab.html","uib/template/tabs/tabset.html","uib/template/timepicker/timepicker.html","uib/template/typeahead/typeahead-match.html","uib/template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("uibCollapse",["$animate","$q","$parse","$injector",function(t,e,i,n){var o=n.has("$animateCss")?n.get("$animateCss"):null;return{link:function(n,a,r){function s(){v=!!("horizontal"in r),v?(b={width:"auto",height:"inherit"},y={width:"0"}):(b={width:"inherit",height:"auto"},y={height:"0"}),n.$eval(r.uibCollapse)||a.addClass("in").addClass("collapse").attr("aria-expanded",!0).attr("aria-hidden",!1).css(b)}function l(t){return v?{width:t.scrollWidth+"px"}:{height:t.scrollHeight+"px"}}function c(){a.hasClass("collapse")&&a.hasClass("in")||e.resolve(h(n)).then(function(){a.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),o?o(a,{addClass:"in",easing:"ease",to:l(a[0])}).start()["finally"](d):t.addClass(a,"in",{to:l(a[0])}).then(d)})}function d(){a.removeClass("collapsing").addClass("collapse").css(b),g(n)}function p(){return a.hasClass("collapse")||a.hasClass("in")?void e.resolve(m(n)).then(function(){a.css(l(a[0])).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),o?o(a,{removeClass:"in",to:y}).start()["finally"](u):t.removeClass(a,"in",{to:y}).then(u)}):u()}function u(){a.css(y),a.removeClass("collapsing").addClass("collapse"),f(n)}var h=i(r.expanding),g=i(r.expanded),m=i(r.collapsing),f=i(r.collapsed),v=!1,b={},y={};s(),n.$watch(r.uibCollapse,function(t){t?p():c()})}}}]),angular.module("ui.bootstrap.tabindex",[]).directive("uibTabindexToggle",function(){return{restrict:"A",link:function(t,e,i){i.$observe("disabled",function(t){i.$set("tabindex",t?-1:null)})}}}),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse","ui.bootstrap.tabindex"]).constant("uibAccordionConfig",{closeOthers:!0}).controller("UibAccordionController",["$scope","$attrs","uibAccordionConfig",function(t,e,i){this.groups=[],this.closeOthers=function(n){var o=angular.isDefined(e.closeOthers)?t.$eval(e.closeOthers):i.closeOthers;o&&angular.forEach(this.groups,function(t){t!==n&&(t.isOpen=!1)})},this.addGroup=function(t){var e=this;this.groups.push(t),t.$on("$destroy",function(i){e.removeGroup(t)})},this.removeGroup=function(t){var e=this.groups.indexOf(t);e!==-1&&this.groups.splice(e,1)}}]).directive("uibAccordion",function(){return{controller:"UibAccordionController",controllerAs:"accordion",transclude:!0,templateUrl:function(t,e){return e.templateUrl||"uib/template/accordion/accordion.html"}}}).directive("uibAccordionGroup",function(){return{require:"^uibAccordion",transclude:!0,restrict:"A",templateUrl:function(t,e){return e.templateUrl||"uib/template/accordion/accordion-group.html"},scope:{heading:"@",panelClass:"@?",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(t){this.heading=t}},link:function(t,e,i,n){e.addClass("panel"),n.addGroup(t),t.openClass=i.openClass||"panel-open",t.panelClass=i.panelClass||"panel-default",t.$watch("isOpen",function(i){e.toggleClass(t.openClass,!!i),i&&n.closeOthers(t)}),t.toggleOpen=function(e){t.isDisabled||e&&32!==e.which||(t.isOpen=!t.isOpen)};var o="accordiongroup-"+t.$id+"-"+Math.floor(1e4*Math.random());t.headingId=o+"-tab",t.panelId=o+"-panel"}}}).directive("uibAccordionHeading",function(){return{transclude:!0,template:"",replace:!0,require:"^uibAccordionGroup",link:function(t,e,i,n,o){n.setHeading(o(t,angular.noop))}}}).directive("uibAccordionTransclude",function(){function t(){return"uib-accordion-header,data-uib-accordion-header,x-uib-accordion-header,uib\\:accordion-header,[uib-accordion-header],[data-uib-accordion-header],[x-uib-accordion-header]"}return{require:"^uibAccordionGroup",link:function(e,i,n,o){e.$watch(function(){return o[n.uibAccordionTransclude]},function(e){if(e){var n=angular.element(i[0].querySelector(t()));n.html(""),n.append(e)}})}}}),angular.module("ui.bootstrap.alert",[]).controller("UibAlertController",["$scope","$element","$attrs","$interpolate","$timeout",function(t,e,i,n,o){t.closeable=!!i.close,e.addClass("alert"),i.$set("role","alert"),t.closeable&&e.addClass("alert-dismissible");var a=angular.isDefined(i.dismissOnTimeout)?n(i.dismissOnTimeout)(t.$parent):null;a&&o(function(){t.close()},parseInt(a,10))}]).directive("uibAlert",function(){return{controller:"UibAlertController",controllerAs:"alert",restrict:"A",templateUrl:function(t,e){return e.templateUrl||"uib/template/alert/alert.html"},transclude:!0,scope:{close:"&"}}}),angular.module("ui.bootstrap.buttons",[]).constant("uibButtonConfig",{activeClass:"active",toggleEvent:"click"}).controller("UibButtonsController",["uibButtonConfig",function(t){this.activeClass=t.activeClass||"active",this.toggleEvent=t.toggleEvent||"click"}]).directive("uibBtnRadio",["$parse",function(t){return{require:["uibBtnRadio","ngModel"],controller:"UibButtonsController",controllerAs:"buttons",link:function(e,i,n,o){var a=o[0],r=o[1],s=t(n.uibUncheckable);i.find("input").css({display:"none"}),r.$render=function(){i.toggleClass(a.activeClass,angular.equals(r.$modelValue,e.$eval(n.uibBtnRadio)))},i.on(a.toggleEvent,function(){if(!n.disabled){var t=i.hasClass(a.activeClass);t&&!angular.isDefined(n.uncheckable)||e.$apply(function(){r.$setViewValue(t?null:e.$eval(n.uibBtnRadio)),r.$render()})}}),n.uibUncheckable&&e.$watch(s,function(t){n.$set("uncheckable",t?"":void 0)})}}}]).directive("uibBtnCheckbox",function(){return{require:["uibBtnCheckbox","ngModel"],controller:"UibButtonsController",controllerAs:"button",link:function(t,e,i,n){function o(){return r(i.btnCheckboxTrue,!0)}function a(){return r(i.btnCheckboxFalse,!1)}function r(e,i){return angular.isDefined(e)?t.$eval(e):i}var s=n[0],l=n[1];e.find("input").css({display:"none"}),l.$render=function(){e.toggleClass(s.activeClass,angular.equals(l.$modelValue,o()))},e.on(s.toggleEvent,function(){i.disabled||t.$apply(function(){l.$setViewValue(e.hasClass(s.activeClass)?a():o()),l.$render()})})}}}),angular.module("ui.bootstrap.carousel",[]).controller("UibCarouselController",["$scope","$element","$interval","$timeout","$animate",function(t,e,i,n,o){function a(){for(;y.length;)y.shift()}function r(t){for(var e=0;e<f.length;e++)f[e].slide.active=e===t}function s(i,n,l){if(!x){if(angular.extend(i,{direction:l}),angular.extend(f[b].slide||{},{direction:l}),o.enabled(e)&&!t.$currentTransition&&f[n].element&&m.slides.length>1){f[n].element.data(v,i.direction);var c=m.getCurrentIndex();angular.isNumber(c)&&f[c].element&&f[c].element.data(v,i.direction),t.$currentTransition=!0,o.on("addClass",f[n].element,function(e,i){if("close"===i&&(t.$currentTransition=null,o.off("addClass",e),y.length)){var n=y.pop().slide,r=n.index,l=r>m.getCurrentIndex()?"next":"prev";a(),s(n,r,l)}})}t.active=i.index,b=i.index,r(n),p()}}function l(t){for(var e=0;e<f.length;e++)if(f[e].slide===t)return e}function c(){h&&(i.cancel(h),h=null)}function d(e){e.length||(t.$currentTransition=null,a())}function p(){c();var e=+t.interval;!isNaN(e)&&e>0&&(h=i(u,e))}function u(){var e=+t.interval;g&&!isNaN(e)&&e>0&&f.length?t.next():t.pause()}var h,g,m=this,f=m.slides=t.slides=[],v="uib-slideDirection",b=t.active,y=[],x=!1;e.addClass("carousel"),m.addSlide=function(e,i){f.push({slide:e,element:i}),f.sort(function(t,e){return+t.slide.index-+e.slide.index}),(e.index===t.active||1===f.length&&!angular.isNumber(t.active))&&(t.$currentTransition&&(t.$currentTransition=null),b=e.index,t.active=e.index,r(b),m.select(f[l(e)]),1===f.length&&t.play())},m.getCurrentIndex=function(){for(var t=0;t<f.length;t++)if(f[t].slide.index===b)return t},m.next=t.next=function(){var e=(m.getCurrentIndex()+1)%f.length;return 0===e&&t.noWrap()?void t.pause():m.select(f[e],"next")},m.prev=t.prev=function(){var e=m.getCurrentIndex()-1<0?f.length-1:m.getCurrentIndex()-1;return t.noWrap()&&e===f.length-1?void t.pause():m.select(f[e],"prev")},m.removeSlide=function(e){var i=l(e),n=y.indexOf(f[i]);n!==-1&&y.splice(n,1),f.splice(i,1),f.length>0&&b===i?i>=f.length?(b=f.length-1,t.active=b,r(b),m.select(f[f.length-1])):(b=i,t.active=b,r(b),m.select(f[i])):b>i&&(b--,t.active=b),0===f.length&&(b=null,t.active=null,a())},m.select=t.select=function(e,i){var n=l(e.slide);void 0===i&&(i=n>m.getCurrentIndex()?"next":"prev"),e.slide.index===b||t.$currentTransition?e&&e.slide.index!==b&&t.$currentTransition&&y.push(f[n]):s(e.slide,n,i)},t.indexOfSlide=function(t){return+t.slide.index},t.isActive=function(e){return t.active===e.slide.index},t.isPrevDisabled=function(){return 0===t.active&&t.noWrap()},t.isNextDisabled=function(){return t.active===f.length-1&&t.noWrap()},t.pause=function(){t.noPause||(g=!1,c())},t.play=function(){g||(g=!0,p())},e.on("mouseenter",t.pause),e.on("mouseleave",t.play),t.$on("$destroy",function(){x=!0,c()}),t.$watch("noTransition",function(t){o.enabled(e,!t)}),t.$watch("interval",p),t.$watchCollection("slides",d),t.$watch("active",function(t){if(angular.isNumber(t)&&b!==t){for(var e=0;e<f.length;e++)if(f[e].slide.index===t){t=e;break}var i=f[t];i&&(r(t),m.select(f[t]),b=t)}})}]).directive("uibCarousel",function(){return{transclude:!0,controller:"UibCarouselController",controllerAs:"carousel",restrict:"A",templateUrl:function(t,e){return e.templateUrl||"uib/template/carousel/carousel.html"},scope:{active:"=",interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}).directive("uibSlide",["$animate",function(t){return{require:"^uibCarousel",restrict:"A",transclude:!0,templateUrl:function(t,e){return e.templateUrl||"uib/template/carousel/slide.html"},scope:{actual:"=?",index:"=?"},link:function(e,i,n,o){i.addClass("item"),o.addSlide(e,i),e.$on("$destroy",function(){o.removeSlide(e)}),e.$watch("active",function(e){t[e?"addClass":"removeClass"](i,"active")})}}}]).animation(".item",["$animateCss",function(t){function e(t,e,i){t.removeClass(e),i&&i()}var i="uib-slideDirection";return{beforeAddClass:function(n,o,a){if("active"===o){var r=!1,s=n.data(i),l="next"===s?"left":"right",c=e.bind(this,n,l+" "+s,a);return n.addClass(s),t(n,{addClass:l}).start().done(c),function(){r=!0}}a()},beforeRemoveClass:function(n,o,a){if("active"===o){var r=!1,s=n.data(i),l="next"===s?"left":"right",c=e.bind(this,n,l,a);return t(n,{addClass:l}).start().done(c),function(){r=!0}}a()}}}]),angular.module("ui.bootstrap.dateparser",[]).service("uibDateParser",["$log","$locale","dateFilter","orderByFilter",function(t,e,i,n){function o(t){var e=[],i=t.split(""),o=t.indexOf("'");if(o>-1){var a=!1;t=t.split("");for(var r=o;r<t.length;r++)a?("'"===t[r]&&(r+1<t.length&&"'"===t[r+1]?(t[r+1]="$",i[r+1]=""):(i[r]="",a=!1)),t[r]="$"):"'"===t[r]&&(t[r]="$",i[r]="",a=!0);t=t.join("")}return angular.forEach(f,function(n){var o=t.indexOf(n.key);if(o>-1){t=t.split(""),i[o]="("+n.regex+")",t[o]="$";for(var a=o+1,r=o+n.key.length;a<r;a++)i[a]="",t[a]="$";t=t.join(""),e.push({index:o,key:n.key,apply:n.apply,matcher:n.regex})}}),{regex:new RegExp("^"+i.join("")+"$"),map:n(e,"index")}}function a(t){for(var e,i,n=[],o=0;o<t.length;)if(angular.isNumber(i)){if("'"===t.charAt(o))(o+1>=t.length||"'"!==t.charAt(o+1))&&(n.push(r(t,i,o)),i=null);else if(o===t.length)for(;i<t.length;)e=s(t,i),n.push(e),i=e.endIdx;o++}else"'"!==t.charAt(o)?(e=s(t,o),n.push(e.parser),o=e.endIdx):(i=o,o++);return n}function r(t,e,i){return function(){return t.substr(e+1,i-e-1)}}function s(t,e){for(var i=t.substr(e),n=0;n<f.length;n++)if(new RegExp("^"+f[n].key).test(i)){var o=f[n];return{endIdx:e+o.key.length,parser:o.formatter}}return{endIdx:e+1,parser:function(){return i.charAt(0)}}}function l(t,e,i){return!(i<1)&&(1===e&&i>28?29===i&&(t%4===0&&t%100!==0||t%400===0):3!==e&&5!==e&&8!==e&&10!==e||i<31)}function c(t){return parseInt(t,10)}function d(t,e){return t&&e?g(t,e):t}function p(t,e){return t&&e?g(t,e,!0):t}function u(t,e){t=t.replace(/:/g,"");var i=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(i)?e:i}function h(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function g(t,e,i){i=i?-1:1;var n=t.getTimezoneOffset(),o=u(e,n);return h(t,i*(o-n))}var m,f,v=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.init=function(){m=e.id,this.parsers={},this.formatters={},f=[{key:"yyyy",regex:"\\d{4}",apply:function(t){this.year=+t},formatter:function(t){var e=new Date;return e.setFullYear(Math.abs(t.getFullYear())),i(e,"yyyy")}},{key:"yy",regex:"\\d{2}",apply:function(t){t=+t,this.year=t<69?t+2e3:t+1900},formatter:function(t){var e=new Date;return e.setFullYear(Math.abs(t.getFullYear())),i(e,"yy")}},{key:"y",regex:"\\d{1,4}",apply:function(t){this.year=+t},formatter:function(t){var e=new Date;return e.setFullYear(Math.abs(t.getFullYear())),i(e,"y")}},{key:"M!",regex:"0?[1-9]|1[0-2]",apply:function(t){this.month=t-1},formatter:function(t){var e=t.getMonth();return/^[0-9]$/.test(e)?i(t,"MM"):i(t,"M")}},{key:"MMMM",regex:e.DATETIME_FORMATS.MONTH.join("|"),apply:function(t){this.month=e.DATETIME_FORMATS.MONTH.indexOf(t)},formatter:function(t){return i(t,"MMMM")}},{key:"MMM",regex:e.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(t){this.month=e.DATETIME_FORMATS.SHORTMONTH.indexOf(t)},formatter:function(t){return i(t,"MMM")}},{key:"MM",regex:"0[1-9]|1[0-2]",apply:function(t){this.month=t-1},formatter:function(t){return i(t,"MM")}},{key:"M",regex:"[1-9]|1[0-2]",apply:function(t){this.month=t-1},formatter:function(t){return i(t,"M")}},{key:"d!",regex:"[0-2]?[0-9]{1}|3[0-1]{1}",apply:function(t){this.date=+t},formatter:function(t){var e=t.getDate();return/^[1-9]$/.test(e)?i(t,"dd"):i(t,"d")}},{key:"dd",regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(t){this.date=+t},formatter:function(t){return i(t,"dd")}},{key:"d",regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(t){this.date=+t},formatter:function(t){return i(t,"d")}},{key:"EEEE",regex:e.DATETIME_FORMATS.DAY.join("|"),formatter:function(t){return i(t,"EEEE")}},{key:"EEE",regex:e.DATETIME_FORMATS.SHORTDAY.join("|"),formatter:function(t){return i(t,"EEE")}},{key:"HH",regex:"(?:0|1)[0-9]|2[0-3]",apply:function(t){this.hours=+t},formatter:function(t){return i(t,"HH")}},{key:"hh",regex:"0[0-9]|1[0-2]",apply:function(t){this.hours=+t},formatter:function(t){return i(t,"hh")}},{key:"H",regex:"1?[0-9]|2[0-3]",apply:function(t){this.hours=+t},formatter:function(t){return i(t,"H")}},{key:"h",regex:"[0-9]|1[0-2]",apply:function(t){this.hours=+t},formatter:function(t){return i(t,"h")}},{key:"mm",regex:"[0-5][0-9]",apply:function(t){this.minutes=+t},formatter:function(t){return i(t,"mm")}},{key:"m",regex:"[0-9]|[1-5][0-9]",apply:function(t){this.minutes=+t},formatter:function(t){return i(t,"m")}},{key:"sss",regex:"[0-9][0-9][0-9]",apply:function(t){this.milliseconds=+t},formatter:function(t){return i(t,"sss")}},{key:"ss",regex:"[0-5][0-9]",apply:function(t){this.seconds=+t},formatter:function(t){return i(t,"ss")}},{key:"s",regex:"[0-9]|[1-5][0-9]",apply:function(t){this.seconds=+t},formatter:function(t){return i(t,"s")}},{key:"a",regex:e.DATETIME_FORMATS.AMPMS.join("|"),apply:function(t){12===this.hours&&(this.hours=0),"PM"===t&&(this.hours+=12)},formatter:function(t){return i(t,"a")}},{key:"Z",regex:"[+-]\\d{4}",apply:function(t){var e=t.match(/([+-])(\d{2})(\d{2})/),i=e[1],n=e[2],o=e[3];this.hours+=c(i+n),this.minutes+=c(i+o)},formatter:function(t){return i(t,"Z")}},{key:"ww",regex:"[0-4][0-9]|5[0-3]",formatter:function(t){return i(t,"ww")}},{key:"w",regex:"[0-9]|[1-4][0-9]|5[0-3]",formatter:function(t){return i(t,"w")}},{key:"GGGG",regex:e.DATETIME_FORMATS.ERANAMES.join("|").replace(/\s/g,"\\s"),formatter:function(t){return i(t,"GGGG")}},{key:"GGG",regex:e.DATETIME_FORMATS.ERAS.join("|"),formatter:function(t){return i(t,"GGG")}},{key:"GG",regex:e.DATETIME_FORMATS.ERAS.join("|"),formatter:function(t){return i(t,"GG")}},{key:"G",regex:e.DATETIME_FORMATS.ERAS.join("|"),formatter:function(t){return i(t,"G")}}]},this.init(),this.filter=function(t,i){if(!angular.isDate(t)||isNaN(t)||!i)return"";i=e.DATETIME_FORMATS[i]||i,e.id!==m&&this.init(),this.formatters[i]||(this.formatters[i]=a(i));var n=this.formatters[i];return n.reduce(function(e,i){return e+i(t)},"")},this.parse=function(i,n,a){if(!angular.isString(i)||!n)return i;n=e.DATETIME_FORMATS[n]||n,n=n.replace(v,"\\$&"),e.id!==m&&this.init(),this.parsers[n]||(this.parsers[n]=o(n,"apply"));var r=this.parsers[n],s=r.regex,c=r.map,d=i.match(s),p=!1;if(d&&d.length){var u,h;angular.isDate(a)&&!isNaN(a.getTime())?u={year:a.getFullYear(),month:a.getMonth(),date:a.getDate(),hours:a.getHours(),minutes:a.getMinutes(),seconds:a.getSeconds(),milliseconds:a.getMilliseconds()}:(a&&t.warn("dateparser:","baseDate is not a valid date"),u={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0});for(var g=1,f=d.length;g<f;g++){var b=c[g-1];"Z"===b.matcher&&(p=!0),b.apply&&b.apply.call(u,d[g])}var y=p?Date.prototype.setUTCFullYear:Date.prototype.setFullYear,x=p?Date.prototype.setUTCHours:Date.prototype.setHours;return l(u.year,u.month,u.date)&&(!angular.isDate(a)||isNaN(a.getTime())||p?(h=new Date(0),y.call(h,u.year,u.month,u.date),x.call(h,u.hours||0,u.minutes||0,u.seconds||0,u.milliseconds||0)):(h=new Date(a),y.call(h,u.year,u.month,u.date),x.call(h,u.hours,u.minutes,u.seconds,u.milliseconds))),h}},this.toTimezone=d,this.fromTimezone=p,this.timezoneToOffset=u,this.addDateMinutes=h,this.convertTimezoneToLocal=g}]),angular.module("ui.bootstrap.isClass",[]).directive("uibIsClass",["$animate",function(t){var e=/^\s*([\s\S]+?)\s+on\s+([\s\S]+?)\s*$/,i=/^\s*([\s\S]+?)\s+for\s+([\s\S]+?)\s*$/;return{restrict:"A",compile:function(n,o){function a(t,e,i){l.push(t),c.push({scope:t,element:e}),g.forEach(function(e,i){r(e,t)}),t.$on("$destroy",s)}function r(e,n){var o=e.match(i),a=n.$eval(o[1]),r=o[2],s=d[e];if(!s){var l=function(e){var i=null;c.some(function(t){var n=t.scope.$eval(u);if(n===e)return i=t,!0}),s.lastActivated!==i&&(s.lastActivated&&t.removeClass(s.lastActivated.element,a),i&&t.addClass(i.element,a),s.lastActivated=i)};d[e]=s={lastActivated:null,scope:n,watchFn:l,compareWithExp:r,watcher:n.$watch(r,l)}}s.watchFn(n.$eval(r))}function s(t){var e=t.targetScope,i=l.indexOf(e);if(l.splice(i,1),c.splice(i,1),l.length){var n=l[0];angular.forEach(d,function(t){t.scope===e&&(t.watcher=n.$watch(t.compareWithExp,t.watchFn),t.scope=n)})}else d={}}var l=[],c=[],d={},p=o.uibIsClass.match(e),u=p[2],h=p[1],g=h.split(",");return a}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.isClass"]).value("$datepickerSuppressError",!1).value("$datepickerLiteralWarning",!0).constant("uibDatepickerConfig",{datepickerMode:"day",formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",maxDate:null,maxMode:"year",minDate:null,minMode:"day",monthColumns:3,ngModelOptions:{},shortcutPropagation:!1,showWeeks:!0,yearColumns:5,yearRows:4}).controller("UibDatepickerController",["$scope","$element","$attrs","$parse","$interpolate","$locale","$log","dateFilter","uibDatepickerConfig","$datepickerLiteralWarning","$datepickerSuppressError","uibDateParser",function(t,e,i,n,o,a,r,s,l,c,d,p){function u(e){t.datepickerMode=e,t.datepickerOptions.datepickerMode=e}var h=this,g={$setViewValue:angular.noop},m={},f=[];e.addClass("uib-datepicker"),i.$set("role","application"),t.datepickerOptions||(t.datepickerOptions={}),this.modes=["day","month","year"],["customClass","dateDisabled","datepickerMode","formatDay","formatDayHeader","formatDayTitle","formatMonth","formatMonthTitle","formatYear","maxDate","maxMode","minDate","minMode","monthColumns","showWeeks","shortcutPropagation","startingDay","yearColumns","yearRows"].forEach(function(e){switch(e){case"customClass":case"dateDisabled":t[e]=t.datepickerOptions[e]||angular.noop;break;case"datepickerMode":t.datepickerMode=angular.isDefined(t.datepickerOptions.datepickerMode)?t.datepickerOptions.datepickerMode:l.datepickerMode;break;case"formatDay":case"formatDayHeader":case"formatDayTitle":case"formatMonth":case"formatMonthTitle":case"formatYear":h[e]=angular.isDefined(t.datepickerOptions[e])?o(t.datepickerOptions[e])(t.$parent):l[e];break;case"monthColumns":case"showWeeks":case"shortcutPropagation":case"yearColumns":case"yearRows":h[e]=angular.isDefined(t.datepickerOptions[e])?t.datepickerOptions[e]:l[e];break;case"startingDay":angular.isDefined(t.datepickerOptions.startingDay)?h.startingDay=t.datepickerOptions.startingDay:angular.isNumber(l.startingDay)?h.startingDay=l.startingDay:h.startingDay=(a.DATETIME_FORMATS.FIRSTDAYOFWEEK+8)%7;break;case"maxDate":case"minDate":t.$watch("datepickerOptions."+e,function(t){t?angular.isDate(t)?h[e]=p.fromTimezone(new Date(t),m.timezone):(c&&r.warn("Literal date support has been deprecated, please switch to date object usage"),h[e]=new Date(s(t,"medium"))):h[e]=l[e]?p.fromTimezone(new Date(l[e]),m.timezone):null,h.refreshView()});break;case"maxMode":case"minMode":t.datepickerOptions[e]?t.$watch(function(){return t.datepickerOptions[e]},function(i){h[e]=t[e]=angular.isDefined(i)?i:datepickerOptions[e],("minMode"===e&&h.modes.indexOf(t.datepickerOptions.datepickerMode)<h.modes.indexOf(h[e])||"maxMode"===e&&h.modes.indexOf(t.datepickerOptions.datepickerMode)>h.modes.indexOf(h[e]))&&(t.datepickerMode=h[e],t.datepickerOptions.datepickerMode=h[e])}):h[e]=t[e]=l[e]||null}}),t.uniqueId="datepicker-"+t.$id+"-"+Math.floor(1e4*Math.random()),t.disabled=angular.isDefined(i.disabled)||!1,angular.isDefined(i.ngDisabled)&&f.push(t.$parent.$watch(i.ngDisabled,function(e){t.disabled=e,h.refreshView()})),t.isActive=function(e){return 0===h.compare(e.date,h.activeDate)&&(t.activeDateId=e.uid,!0)},this.init=function(e){g=e,m=e.$options||t.datepickerOptions.ngModelOptions||l.ngModelOptions,t.datepickerOptions.initDate?(h.activeDate=p.fromTimezone(t.datepickerOptions.initDate,m.timezone)||new Date,t.$watch("datepickerOptions.initDate",function(t){t&&(g.$isEmpty(g.$modelValue)||g.$invalid)&&(h.activeDate=p.fromTimezone(t,m.timezone),h.refreshView())})):h.activeDate=new Date;var i=g.$modelValue?new Date(g.$modelValue):new Date;this.activeDate=isNaN(i)?p.fromTimezone(new Date,m.timezone):p.fromTimezone(i,m.timezone),g.$render=function(){h.render()}},this.render=function(){if(g.$viewValue){var t=new Date(g.$viewValue),e=!isNaN(t);e?this.activeDate=p.fromTimezone(t,m.timezone):d||r.error('Datepicker directive: "ng-model" value must be a Date object')}this.refreshView()},this.refreshView=function(){if(this.element){t.selectedDt=null,this._refreshView(),t.activeDt&&(t.activeDateId=t.activeDt.uid);var e=g.$viewValue?new Date(g.$viewValue):null;e=p.fromTimezone(e,m.timezone),g.$setValidity("dateDisabled",!e||this.element&&!this.isDisabled(e))}},this.createDateObject=function(e,i){var n=g.$viewValue?new Date(g.$viewValue):null;n=p.fromTimezone(n,m.timezone);var o=new Date;o=p.fromTimezone(o,m.timezone);var a=this.compare(e,o),r={date:e,label:p.filter(e,i),selected:n&&0===this.compare(e,n),disabled:this.isDisabled(e),past:a<0,current:0===a,future:a>0,customClass:this.customClass(e)||null};return n&&0===this.compare(e,n)&&(t.selectedDt=r),h.activeDate&&0===this.compare(r.date,h.activeDate)&&(t.activeDt=r),r},this.isDisabled=function(e){return t.disabled||this.minDate&&this.compare(e,this.minDate)<0||this.maxDate&&this.compare(e,this.maxDate)>0||t.dateDisabled&&t.dateDisabled({date:e,mode:t.datepickerMode})},this.customClass=function(e){return t.customClass({date:e,mode:t.datepickerMode})},this.split=function(t,e){for(var i=[];t.length>0;)i.push(t.splice(0,e));return i},t.select=function(e){if(t.datepickerMode===h.minMode){var i=g.$viewValue?p.fromTimezone(new Date(g.$viewValue),m.timezone):new Date(0,0,0,0,0,0,0);i.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),i=p.toTimezone(i,m.timezone),g.$setViewValue(i),g.$render()}else h.activeDate=e,u(h.modes[h.modes.indexOf(t.datepickerMode)-1]),t.$emit("uib:datepicker.mode");t.$broadcast("uib:datepicker.focus")},t.move=function(t){var e=h.activeDate.getFullYear()+t*(h.step.years||0),i=h.activeDate.getMonth()+t*(h.step.months||0);h.activeDate.setFullYear(e,i,1),h.refreshView()},t.toggleMode=function(e){e=e||1,t.datepickerMode===h.maxMode&&1===e||t.datepickerMode===h.minMode&&e===-1||(u(h.modes[h.modes.indexOf(t.datepickerMode)+e]),t.$emit("uib:datepicker.mode"))},t.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var v=function(){h.element[0].focus()};t.$on("uib:datepicker.focus",v),t.keydown=function(e){var i=t.keys[e.which];if(i&&!e.shiftKey&&!e.altKey&&!t.disabled)if(e.preventDefault(),h.shortcutPropagation||e.stopPropagation(),"enter"===i||"space"===i){if(h.isDisabled(h.activeDate))return;t.select(h.activeDate)}else!e.ctrlKey||"up"!==i&&"down"!==i?(h.handleKeyDown(i,e),h.refreshView()):t.toggleMode("up"===i?1:-1)},e.on("keydown",function(e){t.$apply(function(){t.keydown(e)})}),t.$on("$destroy",function(){for(;f.length;)f.shift()()})}]).controller("UibDaypickerController",["$scope","$element","dateFilter",function(t,e,i){function n(t,e){return 1!==e||t%4!==0||t%100===0&&t%400!==0?a[e]:29}function o(t){var e=new Date(t);e.setDate(e.getDate()+4-(e.getDay()||7));var i=e.getTime();return e.setMonth(0),e.setDate(1),Math.floor(Math.round((i-e)/864e5)/7)+1}var a=[31,28,31,30,31,30,31,31,30,31,30,31];this.step={months:1},this.element=e,this.init=function(e){angular.extend(e,this),t.showWeeks=e.showWeeks,e.refreshView()},this.getDates=function(t,e){for(var i,n=new Array(e),o=new Date(t),a=0;a<e;)i=new Date(o),n[a++]=i,o.setDate(o.getDate()+1);return n},this._refreshView=function(){var e=this.activeDate.getFullYear(),n=this.activeDate.getMonth(),a=new Date(this.activeDate);a.setFullYear(e,n,1);var r=this.startingDay-a.getDay(),s=r>0?7-r:-r,l=new Date(a);s>0&&l.setDate(-s+1);for(var c=this.getDates(l,42),d=0;d<42;d++)c[d]=angular.extend(this.createDateObject(c[d],this.formatDay),{secondary:c[d].getMonth()!==n,uid:t.uniqueId+"-"+d});t.labels=new Array(7);for(var p=0;p<7;p++)t.labels[p]={abbr:i(c[p].date,this.formatDayHeader),full:i(c[p].date,"EEEE")};if(t.title=i(this.activeDate,this.formatDayTitle),t.rows=this.split(c,7),t.showWeeks){t.weekNumbers=[];for(var u=(11-this.startingDay)%7,h=t.rows.length,g=0;g<h;g++)t.weekNumbers.push(o(t.rows[g][u].date))}},this.compare=function(t,e){var i=new Date(t.getFullYear(),t.getMonth(),t.getDate()),n=new Date(e.getFullYear(),e.getMonth(),e.getDate());return i.setFullYear(t.getFullYear()),n.setFullYear(e.getFullYear()),i-n},this.handleKeyDown=function(t,e){var i=this.activeDate.getDate();if("left"===t)i-=1;else if("up"===t)i-=7;else if("right"===t)i+=1;else if("down"===t)i+=7;else if("pageup"===t||"pagedown"===t){var o=this.activeDate.getMonth()+("pageup"===t?-1:1);this.activeDate.setMonth(o,1),i=Math.min(n(this.activeDate.getFullYear(),this.activeDate.getMonth()),i)}else"home"===t?i=1:"end"===t&&(i=n(this.activeDate.getFullYear(),this.activeDate.getMonth()));this.activeDate.setDate(i)}}]).controller("UibMonthpickerController",["$scope","$element","dateFilter",function(t,e,i){this.step={years:1},this.element=e,this.init=function(t){angular.extend(t,this),t.refreshView()},this._refreshView=function(){for(var e,n=new Array(12),o=this.activeDate.getFullYear(),a=0;a<12;a++)e=new Date(this.activeDate),e.setFullYear(o,a,1),n[a]=angular.extend(this.createDateObject(e,this.formatMonth),{uid:t.uniqueId+"-"+a});t.title=i(this.activeDate,this.formatMonthTitle),t.rows=this.split(n,this.monthColumns),t.yearHeaderColspan=this.monthColumns>3?this.monthColumns-2:1},this.compare=function(t,e){var i=new Date(t.getFullYear(),t.getMonth()),n=new Date(e.getFullYear(),e.getMonth());return i.setFullYear(t.getFullYear()),n.setFullYear(e.getFullYear()),i-n},this.handleKeyDown=function(t,e){var i=this.activeDate.getMonth();if("left"===t)i-=1;else if("up"===t)i-=this.monthColumns;else if("right"===t)i+=1;else if("down"===t)i+=this.monthColumns;else if("pageup"===t||"pagedown"===t){var n=this.activeDate.getFullYear()+("pageup"===t?-1:1);this.activeDate.setFullYear(n)}else"home"===t?i=0:"end"===t&&(i=11);this.activeDate.setMonth(i)}}]).controller("UibYearpickerController",["$scope","$element","dateFilter",function(t,e,i){function n(t){return parseInt((t-1)/a,10)*a+1}var o,a;this.element=e,this.yearpickerInit=function(){o=this.yearColumns,a=this.yearRows*o,this.step={years:a}},this._refreshView=function(){for(var e,i=new Array(a),r=0,s=n(this.activeDate.getFullYear());r<a;r++)e=new Date(this.activeDate),e.setFullYear(s+r,0,1),i[r]=angular.extend(this.createDateObject(e,this.formatYear),{uid:t.uniqueId+"-"+r});t.title=[i[0].label,i[a-1].label].join(" - "),t.rows=this.split(i,o),t.columns=o},this.compare=function(t,e){return t.getFullYear()-e.getFullYear()},this.handleKeyDown=function(t,e){var i=this.activeDate.getFullYear();"left"===t?i-=1:"up"===t?i-=o:"right"===t?i+=1:"down"===t?i+=o:"pageup"===t||"pagedown"===t?i+=("pageup"===t?-1:1)*a:"home"===t?i=n(this.activeDate.getFullYear()):"end"===t&&(i=n(this.activeDate.getFullYear())+a-1),this.activeDate.setFullYear(i)}}]).directive("uibDatepicker",function(){return{templateUrl:function(t,e){
return e.templateUrl||"uib/template/datepicker/datepicker.html"},scope:{datepickerOptions:"=?"},require:["uibDatepicker","^ngModel"],restrict:"A",controller:"UibDatepickerController",controllerAs:"datepicker",link:function(t,e,i,n){var o=n[0],a=n[1];o.init(a)}}}).directive("uibDaypicker",function(){return{templateUrl:function(t,e){return e.templateUrl||"uib/template/datepicker/day.html"},require:["^uibDatepicker","uibDaypicker"],restrict:"A",controller:"UibDaypickerController",link:function(t,e,i,n){var o=n[0],a=n[1];a.init(o)}}}).directive("uibMonthpicker",function(){return{templateUrl:function(t,e){return e.templateUrl||"uib/template/datepicker/month.html"},require:["^uibDatepicker","uibMonthpicker"],restrict:"A",controller:"UibMonthpickerController",link:function(t,e,i,n){var o=n[0],a=n[1];a.init(o)}}}).directive("uibYearpicker",function(){return{templateUrl:function(t,e){return e.templateUrl||"uib/template/datepicker/year.html"},require:["^uibDatepicker","uibYearpicker"],restrict:"A",controller:"UibYearpickerController",link:function(t,e,i,n){var o=n[0];angular.extend(o,n[1]),o.yearpickerInit(),o.refreshView()}}}),angular.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function(t,e){var i,n,o={normal:/(auto|scroll)/,hidden:/(auto|scroll|hidden)/},a={auto:/\s?auto?\s?/i,primary:/^(top|bottom|left|right)$/,secondary:/^(top|bottom|left|right|center)$/,vertical:/^(top|bottom)$/},r=/(HTML|BODY)/;return{getRawNode:function(t){return t.nodeName?t:t[0]||t},parseStyle:function(t){return t=parseFloat(t),isFinite(t)?t:0},offsetParent:function(i){function n(t){return"static"===(e.getComputedStyle(t).position||"static")}i=this.getRawNode(i);for(var o=i.offsetParent||t[0].documentElement;o&&o!==t[0].documentElement&&n(o);)o=o.offsetParent;return o||t[0].documentElement},scrollbarWidth:function(o){if(o){if(angular.isUndefined(n)){var a=t.find("body");a.addClass("uib-position-body-scrollbar-measure"),n=e.innerWidth-a[0].clientWidth,n=isFinite(n)?n:0,a.removeClass("uib-position-body-scrollbar-measure")}return n}if(angular.isUndefined(i)){var r=angular.element('<div class="uib-position-scrollbar-measure"></div>');t.find("body").append(r),i=r[0].offsetWidth-r[0].clientWidth,i=isFinite(i)?i:0,r.remove()}return i},scrollbarPadding:function(t){t=this.getRawNode(t);var i=e.getComputedStyle(t),n=this.parseStyle(i.paddingRight),o=this.parseStyle(i.paddingBottom),a=this.scrollParent(t,!1,!0),s=this.scrollbarWidth(a,r.test(a.tagName));return{scrollbarWidth:s,widthOverflow:a.scrollWidth>a.clientWidth,right:n+s,originalRight:n,heightOverflow:a.scrollHeight>a.clientHeight,bottom:o+s,originalBottom:o}},isScrollable:function(t,i){t=this.getRawNode(t);var n=i?o.hidden:o.normal,a=e.getComputedStyle(t);return n.test(a.overflow+a.overflowY+a.overflowX)},scrollParent:function(i,n,a){i=this.getRawNode(i);var r=n?o.hidden:o.normal,s=t[0].documentElement,l=e.getComputedStyle(i);if(a&&r.test(l.overflow+l.overflowY+l.overflowX))return i;var c="absolute"===l.position,d=i.parentElement||s;if(d===s||"fixed"===l.position)return s;for(;d.parentElement&&d!==s;){var p=e.getComputedStyle(d);if(c&&"static"!==p.position&&(c=!1),!c&&r.test(p.overflow+p.overflowY+p.overflowX))break;d=d.parentElement}return d},position:function(i,n){i=this.getRawNode(i);var o=this.offset(i);if(n){var a=e.getComputedStyle(i);o.top-=this.parseStyle(a.marginTop),o.left-=this.parseStyle(a.marginLeft)}var r=this.offsetParent(i),s={top:0,left:0};return r!==t[0].documentElement&&(s=this.offset(r),s.top+=r.clientTop-r.scrollTop,s.left+=r.clientLeft-r.scrollLeft),{width:Math.round(angular.isNumber(o.width)?o.width:i.offsetWidth),height:Math.round(angular.isNumber(o.height)?o.height:i.offsetHeight),top:Math.round(o.top-s.top),left:Math.round(o.left-s.left)}},offset:function(i){i=this.getRawNode(i);var n=i.getBoundingClientRect();return{width:Math.round(angular.isNumber(n.width)?n.width:i.offsetWidth),height:Math.round(angular.isNumber(n.height)?n.height:i.offsetHeight),top:Math.round(n.top+(e.pageYOffset||t[0].documentElement.scrollTop)),left:Math.round(n.left+(e.pageXOffset||t[0].documentElement.scrollLeft))}},viewportOffset:function(i,n,o){i=this.getRawNode(i),o=o!==!1;var a=i.getBoundingClientRect(),r={top:0,left:0,bottom:0,right:0},s=n?t[0].documentElement:this.scrollParent(i),l=s.getBoundingClientRect();if(r.top=l.top+s.clientTop,r.left=l.left+s.clientLeft,s===t[0].documentElement&&(r.top+=e.pageYOffset,r.left+=e.pageXOffset),r.bottom=r.top+s.clientHeight,r.right=r.left+s.clientWidth,o){var c=e.getComputedStyle(s);r.top+=this.parseStyle(c.paddingTop),r.bottom-=this.parseStyle(c.paddingBottom),r.left+=this.parseStyle(c.paddingLeft),r.right-=this.parseStyle(c.paddingRight)}return{top:Math.round(a.top-r.top),bottom:Math.round(r.bottom-a.bottom),left:Math.round(a.left-r.left),right:Math.round(r.right-a.right)}},parsePlacement:function(t){var e=a.auto.test(t);return e&&(t=t.replace(a.auto,"")),t=t.split("-"),t[0]=t[0]||"top",a.primary.test(t[0])||(t[0]="top"),t[1]=t[1]||"center",a.secondary.test(t[1])||(t[1]="center"),e?t[2]=!0:t[2]=!1,t},positionElements:function(t,i,n,o){t=this.getRawNode(t),i=this.getRawNode(i);var r=angular.isDefined(i.offsetWidth)?i.offsetWidth:i.prop("offsetWidth"),s=angular.isDefined(i.offsetHeight)?i.offsetHeight:i.prop("offsetHeight");n=this.parsePlacement(n);var l=o?this.offset(t):this.position(t),c={top:0,left:0,placement:""};if(n[2]){var d=this.viewportOffset(t,o),p=e.getComputedStyle(i),u={width:r+Math.round(Math.abs(this.parseStyle(p.marginLeft)+this.parseStyle(p.marginRight))),height:s+Math.round(Math.abs(this.parseStyle(p.marginTop)+this.parseStyle(p.marginBottom)))};if(n[0]="top"===n[0]&&u.height>d.top&&u.height<=d.bottom?"bottom":"bottom"===n[0]&&u.height>d.bottom&&u.height<=d.top?"top":"left"===n[0]&&u.width>d.left&&u.width<=d.right?"right":"right"===n[0]&&u.width>d.right&&u.width<=d.left?"left":n[0],n[1]="top"===n[1]&&u.height-l.height>d.bottom&&u.height-l.height<=d.top?"bottom":"bottom"===n[1]&&u.height-l.height>d.top&&u.height-l.height<=d.bottom?"top":"left"===n[1]&&u.width-l.width>d.right&&u.width-l.width<=d.left?"right":"right"===n[1]&&u.width-l.width>d.left&&u.width-l.width<=d.right?"left":n[1],"center"===n[1])if(a.vertical.test(n[0])){var h=l.width/2-r/2;d.left+h<0&&u.width-l.width<=d.right?n[1]="left":d.right+h<0&&u.width-l.width<=d.left&&(n[1]="right")}else{var g=l.height/2-u.height/2;d.top+g<0&&u.height-l.height<=d.bottom?n[1]="top":d.bottom+g<0&&u.height-l.height<=d.top&&(n[1]="bottom")}}switch(n[0]){case"top":c.top=l.top-s;break;case"bottom":c.top=l.top+l.height;break;case"left":c.left=l.left-r;break;case"right":c.left=l.left+l.width}switch(n[1]){case"top":c.top=l.top;break;case"bottom":c.top=l.top+l.height-s;break;case"left":c.left=l.left;break;case"right":c.left=l.left+l.width-r;break;case"center":a.vertical.test(n[0])?c.left=l.left+l.width/2-r/2:c.top=l.top+l.height/2-s/2}return c.top=Math.round(c.top),c.left=Math.round(c.left),c.placement="center"===n[1]?n[0]:n[0]+"-"+n[1],c},adjustTop:function(t,e,i,n){if(t.indexOf("top")!==-1&&i!==n)return{top:e.top-n+"px"}},positionArrow:function(t,i){t=this.getRawNode(t);var n=t.querySelector(".tooltip-inner, .popover-inner");if(n){var o=angular.element(n).hasClass("tooltip-inner"),r=o?t.querySelector(".tooltip-arrow"):t.querySelector(".arrow");if(r){var s={top:"",bottom:"",left:"",right:""};if(i=this.parsePlacement(i),"center"===i[1])return void angular.element(r).css(s);var l="border-"+i[0]+"-width",c=e.getComputedStyle(r)[l],d="border-";d+=a.vertical.test(i[0])?i[0]+"-"+i[1]:i[1]+"-"+i[0],d+="-radius";var p=e.getComputedStyle(o?n:t)[d];switch(i[0]){case"top":s.bottom=o?"0":"-"+c;break;case"bottom":s.top=o?"0":"-"+c;break;case"left":s.right=o?"0":"-"+c;break;case"right":s.left=o?"0":"-"+c}s[i[1]]=p,angular.element(r).css(s)}}}}}]),angular.module("ui.bootstrap.datepickerPopup",["ui.bootstrap.datepicker","ui.bootstrap.position"]).value("$datepickerPopupLiteralWarning",!0).constant("uibDatepickerPopupConfig",{altInputFormats:[],appendToBody:!1,clearText:"Clear",closeOnDateSelection:!0,closeText:"Done",currentText:"Today",datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"uib/template/datepickerPopup/popup.html",datepickerTemplateUrl:"uib/template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},onOpenFocus:!0,showButtonBar:!0,placement:"auto bottom-left"}).controller("UibDatepickerPopupController",["$scope","$element","$attrs","$compile","$log","$parse","$window","$document","$rootScope","$uibPosition","dateFilter","uibDateParser","uibDatepickerPopupConfig","$timeout","uibDatepickerConfig","$datepickerPopupLiteralWarning",function(t,e,i,n,o,a,r,s,l,c,d,p,u,h,g,m){function f(e){var i=p.parse(e,k,t.date);if(isNaN(i))for(var n=0;n<I.length;n++)if(i=p.parse(e,I[n],t.date),!isNaN(i))return i;return i}function v(t){if(angular.isNumber(t)&&(t=new Date(t)),!t)return null;if(angular.isDate(t)&&!isNaN(t))return t;if(angular.isString(t)){var e=f(t);if(!isNaN(e))return p.fromTimezone(e,L.timezone)}return P.$options&&P.$options.allowInvalid?t:void 0}function b(t,e){var n=t||e;return!i.ngRequired&&!n||(angular.isNumber(n)&&(n=new Date(n)),!n||(!(!angular.isDate(n)||isNaN(n))||!!angular.isString(n)&&!isNaN(f(n))))}function y(i){if(t.isOpen||!t.disabled){var n=E[0],o=e[0].contains(i.target),a=void 0!==n.contains&&n.contains(i.target);!t.isOpen||o||a||t.$apply(function(){t.isOpen=!1})}}function x(i){27===i.which&&t.isOpen?(i.preventDefault(),i.stopPropagation(),t.$apply(function(){t.isOpen=!1}),e[0].focus()):40!==i.which||t.isOpen||(i.preventDefault(),i.stopPropagation(),t.$apply(function(){t.isOpen=!0}))}function w(){if(t.isOpen){var n=angular.element(E[0].querySelector(".uib-datepicker-popup")),o=i.popupPlacement?i.popupPlacement:u.placement,a=c.positionElements(e,n,o,C);n.css({top:a.top+"px",left:a.left+"px"}),n.hasClass("uib-position-measure")&&n.removeClass("uib-position-measure")}}var k,T,C,S,M,$,D,O,A,P,L,E,I,F=!1,_=[];this.init=function(o){if(P=o,L=angular.isObject(o.$options)?o.$options:{timezone:null},T=angular.isDefined(i.closeOnDateSelection)?t.$parent.$eval(i.closeOnDateSelection):u.closeOnDateSelection,C=angular.isDefined(i.datepickerAppendToBody)?t.$parent.$eval(i.datepickerAppendToBody):u.appendToBody,S=angular.isDefined(i.onOpenFocus)?t.$parent.$eval(i.onOpenFocus):u.onOpenFocus,M=angular.isDefined(i.datepickerPopupTemplateUrl)?i.datepickerPopupTemplateUrl:u.datepickerPopupTemplateUrl,$=angular.isDefined(i.datepickerTemplateUrl)?i.datepickerTemplateUrl:u.datepickerTemplateUrl,I=angular.isDefined(i.altInputFormats)?t.$parent.$eval(i.altInputFormats):u.altInputFormats,t.showButtonBar=angular.isDefined(i.showButtonBar)?t.$parent.$eval(i.showButtonBar):u.showButtonBar,u.html5Types[i.type]?(k=u.html5Types[i.type],F=!0):(k=i.uibDatepickerPopup||u.datepickerPopup,i.$observe("uibDatepickerPopup",function(t,e){var i=t||u.datepickerPopup;if(i!==k&&(k=i,P.$modelValue=null,!k))throw new Error("uibDatepickerPopup must have a date format specified.")})),!k)throw new Error("uibDatepickerPopup must have a date format specified.");if(F&&i.uibDatepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");D=angular.element("<div uib-datepicker-popup-wrap><div uib-datepicker></div></div>"),D.attr({"ng-model":"date","ng-change":"dateSelection(date)","template-url":M}),O=angular.element(D.children()[0]),O.attr("template-url",$),t.datepickerOptions||(t.datepickerOptions={}),F&&"month"===i.type&&(t.datepickerOptions.datepickerMode="month",t.datepickerOptions.minMode="month"),O.attr("datepicker-options","datepickerOptions"),F?P.$formatters.push(function(e){return t.date=p.fromTimezone(e,L.timezone),e}):(P.$$parserName="date",P.$validators.date=b,P.$parsers.unshift(v),P.$formatters.push(function(e){return P.$isEmpty(e)?(t.date=e,e):(angular.isNumber(e)&&(e=new Date(e)),t.date=p.fromTimezone(e,L.timezone),p.filter(t.date,k))})),P.$viewChangeListeners.push(function(){t.date=f(P.$viewValue)}),e.on("keydown",x),E=n(D)(t),D.remove(),C?s.find("body").append(E):e.after(E),t.$on("$destroy",function(){for(t.isOpen===!0&&(l.$$phase||t.$apply(function(){t.isOpen=!1})),E.remove(),e.off("keydown",x),s.off("click",y),A&&A.off("scroll",w),angular.element(r).off("resize",w);_.length;)_.shift()()})},t.getText=function(e){return t[e+"Text"]||u[e+"Text"]},t.isDisabled=function(e){"today"===e&&(e=p.fromTimezone(new Date,L.timezone));var i={};return angular.forEach(["minDate","maxDate"],function(e){t.datepickerOptions[e]?angular.isDate(t.datepickerOptions[e])?i[e]=new Date(t.datepickerOptions[e]):(m&&o.warn("Literal date support has been deprecated, please switch to date object usage"),i[e]=new Date(d(t.datepickerOptions[e],"medium"))):i[e]=null}),t.datepickerOptions&&i.minDate&&t.compare(e,i.minDate)<0||i.maxDate&&t.compare(e,i.maxDate)>0},t.compare=function(t,e){return new Date(t.getFullYear(),t.getMonth(),t.getDate())-new Date(e.getFullYear(),e.getMonth(),e.getDate())},t.dateSelection=function(i){t.date=i;var n=t.date?p.filter(t.date,k):null;e.val(n),P.$setViewValue(n),T&&(t.isOpen=!1,e[0].focus())},t.keydown=function(i){27===i.which&&(i.stopPropagation(),t.isOpen=!1,e[0].focus())},t.select=function(e,i){if(i.stopPropagation(),"today"===e){var n=new Date;angular.isDate(t.date)?(e=new Date(t.date),e.setFullYear(n.getFullYear(),n.getMonth(),n.getDate())):e=new Date(n.setHours(0,0,0,0))}t.dateSelection(e)},t.close=function(i){i.stopPropagation(),t.isOpen=!1,e[0].focus()},t.disabled=angular.isDefined(i.disabled)||!1,i.ngDisabled&&_.push(t.$parent.$watch(a(i.ngDisabled),function(e){t.disabled=e})),t.$watch("isOpen",function(n){n?t.disabled?t.isOpen=!1:h(function(){w(),S&&t.$broadcast("uib:datepicker.focus"),s.on("click",y);var n=i.popupPlacement?i.popupPlacement:u.placement;C||c.parsePlacement(n)[2]?(A=A||angular.element(c.scrollParent(e)),A&&A.on("scroll",w)):A=null,angular.element(r).on("resize",w)},0,!1):(s.off("click",y),A&&A.off("scroll",w),angular.element(r).off("resize",w))}),t.$on("uib:datepicker.mode",function(){h(w,0,!1)})}]).directive("uibDatepickerPopup",function(){return{require:["ngModel","uibDatepickerPopup"],controller:"UibDatepickerPopupController",scope:{datepickerOptions:"=?",isOpen:"=?",currentText:"@",clearText:"@",closeText:"@"},link:function(t,e,i,n){var o=n[0],a=n[1];a.init(o)}}}).directive("uibDatepickerPopupWrap",function(){return{restrict:"A",transclude:!0,templateUrl:function(t,e){return e.templateUrl||"uib/template/datepickerPopup/popup.html"}}}),angular.module("ui.bootstrap.debounce",[]).factory("$$debounce",["$timeout",function(t){return function(e,i){var n;return function(){var o=this,a=Array.prototype.slice.call(arguments);n&&t.cancel(n),n=t(function(){e.apply(o,a)},i)}}}]),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.position"]).constant("uibDropdownConfig",{appendToOpenClass:"uib-dropdown-open",openClass:"open"}).service("uibDropdownService",["$document","$rootScope",function(t,e){var i=null;this.open=function(e,o){i||t.on("click",n),i&&i!==e&&(i.isOpen=!1),i=e},this.close=function(e,o){i===e&&(i=null,t.off("click",n),t.off("keydown",this.keybindFilter))};var n=function(t){if(i&&!(t&&"disabled"===i.getAutoClose()||t&&3===t.which)){var n=i.getToggleElement();if(!(t&&n&&n[0].contains(t.target))){var o=i.getDropdownElement();t&&"outsideClick"===i.getAutoClose()&&o&&o[0].contains(t.target)||(i.isOpen=!1,i.focusToggleElement(),e.$$phase||i.$apply())}}};this.keybindFilter=function(t){var e=i.getDropdownElement(),o=i.getToggleElement(),a=e&&e[0].contains(t.target),r=o&&o[0].contains(t.target);27===t.which?(t.stopPropagation(),i.focusToggleElement(),n()):i.isKeynavEnabled()&&[38,40].indexOf(t.which)!==-1&&i.isOpen&&(a||r)&&(t.preventDefault(),t.stopPropagation(),i.focusDropdownEntry(t.which))}}]).controller("UibDropdownController",["$scope","$element","$attrs","$parse","uibDropdownConfig","uibDropdownService","$animate","$uibPosition","$document","$compile","$templateRequest",function(t,e,i,n,o,a,r,s,l,c,d){var p,u,h=this,g=t.$new(),m=o.appendToOpenClass,f=o.openClass,v=angular.noop,b=i.onToggle?n(i.onToggle):angular.noop,y=!1,x=null,w=!1,k=l.find("body");e.addClass("dropdown"),this.init=function(){if(i.isOpen&&(u=n(i.isOpen),v=u.assign,t.$watch(u,function(t){g.isOpen=!!t})),angular.isDefined(i.dropdownAppendTo)){var o=n(i.dropdownAppendTo)(g);o&&(x=angular.element(o))}y=angular.isDefined(i.dropdownAppendToBody),w=angular.isDefined(i.keyboardNav),y&&!x&&(x=k),x&&h.dropdownMenu&&(x.append(h.dropdownMenu),e.on("$destroy",function(){h.dropdownMenu.remove()}))},this.toggle=function(t){return g.isOpen=arguments.length?!!t:!g.isOpen,angular.isFunction(v)&&v(g,g.isOpen),g.isOpen},this.isOpen=function(){return g.isOpen},g.getToggleElement=function(){return h.toggleElement},g.getAutoClose=function(){return i.autoClose||"always"},g.getElement=function(){return e},g.isKeynavEnabled=function(){return w},g.focusDropdownEntry=function(t){var i=h.dropdownMenu?angular.element(h.dropdownMenu).find("a"):e.find("ul").eq(0).find("a");switch(t){case 40:angular.isNumber(h.selectedOption)?h.selectedOption=h.selectedOption===i.length-1?h.selectedOption:h.selectedOption+1:h.selectedOption=0;break;case 38:angular.isNumber(h.selectedOption)?h.selectedOption=0===h.selectedOption?0:h.selectedOption-1:h.selectedOption=i.length-1}i[h.selectedOption].focus()},g.getDropdownElement=function(){return h.dropdownMenu},g.focusToggleElement=function(){h.toggleElement&&h.toggleElement[0].focus()},g.$watch("isOpen",function(i,n){if(x&&h.dropdownMenu){var o,u,w,k=s.positionElements(e,h.dropdownMenu,"bottom-left",!0),T=0;if(o={top:k.top+"px",display:i?"block":"none"},u=h.dropdownMenu.hasClass("dropdown-menu-right"),u?(o.left="auto",w=s.scrollbarPadding(x),w.heightOverflow&&w.scrollbarWidth&&(T=w.scrollbarWidth),o.right=window.innerWidth-T-(k.left+e.prop("offsetWidth"))+"px"):(o.left=k.left+"px",o.right="auto"),!y){var C=s.offset(x);o.top=k.top-C.top+"px",u?o.right=window.innerWidth-(k.left-C.left+e.prop("offsetWidth"))+"px":o.left=k.left-C.left+"px"}h.dropdownMenu.css(o)}var S=x?x:e,M=S.hasClass(x?m:f);if(M===!i&&r[i?"addClass":"removeClass"](S,x?m:f).then(function(){angular.isDefined(i)&&i!==n&&b(t,{open:!!i})}),i)h.dropdownMenuTemplateUrl?d(h.dropdownMenuTemplateUrl).then(function(t){p=g.$new(),c(t.trim())(p,function(t){var e=t;h.dropdownMenu.replaceWith(e),h.dropdownMenu=e,l.on("keydown",a.keybindFilter)})}):l.on("keydown",a.keybindFilter),g.focusToggleElement(),a.open(g,e);else{if(a.close(g,e),h.dropdownMenuTemplateUrl){p&&p.$destroy();var $=angular.element('<ul class="dropdown-menu"></ul>');h.dropdownMenu.replaceWith($),h.dropdownMenu=$}h.selectedOption=null}angular.isFunction(v)&&v(t,i)})}]).directive("uibDropdown",function(){return{controller:"UibDropdownController",link:function(t,e,i,n){n.init()}}}).directive("uibDropdownMenu",function(){return{restrict:"A",require:"?^uibDropdown",link:function(t,e,i,n){if(n&&!angular.isDefined(i.dropdownNested)){e.addClass("dropdown-menu");var o=i.templateUrl;o&&(n.dropdownMenuTemplateUrl=o),n.dropdownMenu||(n.dropdownMenu=e)}}}}).directive("uibDropdownToggle",function(){return{require:"?^uibDropdown",link:function(t,e,i,n){if(n){e.addClass("dropdown-toggle"),n.toggleElement=e;var o=function(o){o.preventDefault(),e.hasClass("disabled")||i.disabled||t.$apply(function(){n.toggle()})};e.bind("click",o),e.attr({"aria-haspopup":!0,"aria-expanded":!1}),t.$watch(n.isOpen,function(t){e.attr("aria-expanded",!!t)}),t.$on("$destroy",function(){e.unbind("click",o)})}}}}),angular.module("ui.bootstrap.stackedMap",[]).factory("$$stackedMap",function(){return{createNew:function(){var t=[];return{add:function(e,i){t.push({key:e,value:i})},get:function(e){for(var i=0;i<t.length;i++)if(e===t[i].key)return t[i]},keys:function(){for(var e=[],i=0;i<t.length;i++)e.push(t[i].key);return e},top:function(){return t[t.length-1]},remove:function(e){for(var i=-1,n=0;n<t.length;n++)if(e===t[n].key){i=n;break}return t.splice(i,1)[0]},removeTop:function(){return t.pop()},length:function(){return t.length}}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.stackedMap","ui.bootstrap.position"]).factory("$$multiMap",function(){return{createNew:function(){var t={};return{entries:function(){return Object.keys(t).map(function(e){return{key:e,value:t[e]}})},get:function(e){return t[e]},hasKey:function(e){return!!t[e]},keys:function(){return Object.keys(t)},put:function(e,i){t[e]||(t[e]=[]),t[e].push(i)},remove:function(e,i){var n=t[e];if(n){var o=n.indexOf(i);o!==-1&&n.splice(o,1),n.length||delete t[e]}}}}}}).provider("$uibResolve",function(){var t=this;this.resolver=null,this.setResolver=function(t){this.resolver=t},this.$get=["$injector","$q",function(e,i){var n=t.resolver?e.get(t.resolver):null;return{resolve:function(t,o,a,r){if(n)return n.resolve(t,o,a,r);var s=[];return angular.forEach(t,function(t){angular.isFunction(t)||angular.isArray(t)?s.push(i.resolve(e.invoke(t))):angular.isString(t)?s.push(i.resolve(e.get(t))):s.push(i.resolve(t))}),i.all(s).then(function(e){var i={},n=0;return angular.forEach(t,function(t,o){i[o]=e[n++]}),i})}}}]}).directive("uibModalBackdrop",["$animate","$injector","$uibModalStack",function(t,e,i){function n(e,n,o){o.modalInClass&&(t.addClass(n,o.modalInClass),e.$on(i.NOW_CLOSING_EVENT,function(i,a){var r=a();e.modalOptions.animation?t.removeClass(n,o.modalInClass).then(r):r()}))}return{restrict:"A",compile:function(t,e){return t.addClass(e.backdropClass),n}}}]).directive("uibModalWindow",["$uibModalStack","$q","$animateCss","$document",function(t,e,i,n){return{scope:{index:"@"},restrict:"A",transclude:!0,templateUrl:function(t,e){return e.templateUrl||"uib/template/modal/window.html"},link:function(o,a,r){a.addClass(r.windowTopClass||""),o.size=r.size,o.close=function(e){var i=t.getTop();i&&i.value.backdrop&&"static"!==i.value.backdrop&&e.target===e.currentTarget&&(e.preventDefault(),e.stopPropagation(),t.dismiss(i.key,"backdrop click"))},a.on("click",o.close),o.$isRendered=!0;var s=e.defer();o.$$postDigest(function(){s.resolve()}),s.promise.then(function(){var s=null;r.modalInClass&&(s=i(a,{addClass:r.modalInClass}).start(),o.$on(t.NOW_CLOSING_EVENT,function(t,e){var n=e();i(a,{removeClass:r.modalInClass}).start().then(n)})),e.when(s).then(function(){var e=t.getTop();if(e&&t.modalRendered(e.key),!n[0].activeElement||!a[0].contains(n[0].activeElement)){var i=a[0].querySelector("[autofocus]");i?i.focus():a[0].focus()}})})}}}]).directive("uibModalAnimationClass",function(){return{compile:function(t,e){e.modalAnimation&&t.addClass(e.uibModalAnimationClass)}}}).directive("uibModalTransclude",["$animate",function(t){return{link:function(e,i,n,o,a){a(e.$parent,function(e){i.empty(),t.enter(e,i)})}}}]).factory("$uibModalStack",["$animate","$animateCss","$document","$compile","$rootScope","$q","$$multiMap","$$stackedMap","$uibPosition",function(t,e,i,n,o,a,r,s,l){function c(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)}function d(){for(var t=-1,e=w.keys(),i=0;i<e.length;i++)w.get(e[i]).value.backdrop&&(t=i);return t>-1&&t<C&&(t=C),t}function p(t,e){var i=w.get(t).value,n=i.appendTo;w.remove(t),S=w.top(),S&&(C=parseInt(S.value.modalDomEl.attr("index"),10)),g(i.modalDomEl,i.modalScope,function(){var e=i.openedClass||x;k.remove(e,t);var o=k.hasKey(e);n.toggleClass(e,o),!o&&y&&y.heightOverflow&&y.scrollbarWidth&&(y.originalRight?n.css({paddingRight:y.originalRight+"px"}):n.css({paddingRight:""}),y=null),u(!0)},i.closedDeferred),h(),e&&e.focus?e.focus():n.focus&&n.focus()}function u(t){var e;w.length()>0&&(e=w.top().value,e.modalDomEl.toggleClass(e.windowTopClass||"",t))}function h(){if(v&&d()===-1){var t=b;g(v,b,function(){t=null}),v=void 0,b=void 0}}function g(e,i,n,o){function r(){r.done||(r.done=!0,t.leave(e).then(function(){n&&n(),e.remove(),o&&o.resolve()}),i.$destroy())}var s,l=null,c=function(){return s||(s=a.defer(),l=s.promise),function(){s.resolve()}};return i.$broadcast(T.NOW_CLOSING_EVENT,c),a.when(l).then(r)}function m(t){if(t.isDefaultPrevented())return t;var e=w.top();if(e)switch(t.which){case 27:e.value.keyboard&&(t.preventDefault(),o.$apply(function(){T.dismiss(e.key,"escape key press")}));break;case 9:var i=T.loadFocusElementList(e),n=!1;t.shiftKey?(T.isFocusInFirstItem(t,i)||T.isModalFocused(t,e))&&(n=T.focusLastFocusableElement(i)):T.isFocusInLastItem(t,i)&&(n=T.focusFirstFocusableElement(i)),n&&(t.preventDefault(),t.stopPropagation())}}function f(t,e,i){return!t.value.modalScope.$broadcast("modal.closing",e,i).defaultPrevented}var v,b,y,x="modal-open",w=s.createNew(),k=r.createNew(),T={NOW_CLOSING_EVENT:"modal.stack.now-closing"},C=0,S=null,M="a[href], area[href], input:not([disabled]):not([tabindex='-1']), button:not([disabled]):not([tabindex='-1']),select:not([disabled]):not([tabindex='-1']), textarea:not([disabled]):not([tabindex='-1']), iframe, object, embed, *[tabindex]:not([tabindex='-1']), *[contenteditable=true]";return o.$watch(d,function(t){b&&(b.index=t)}),i.on("keydown",m),o.$on("$destroy",function(){i.off("keydown",m)}),T.open=function(e,a){var r=i[0].activeElement,s=a.openedClass||x;u(!1),S=w.top(),w.add(e,{deferred:a.deferred,renderDeferred:a.renderDeferred,closedDeferred:a.closedDeferred,modalScope:a.scope,backdrop:a.backdrop,keyboard:a.keyboard,openedClass:a.openedClass,windowTopClass:a.windowTopClass,animation:a.animation,appendTo:a.appendTo}),k.put(s,e);var c=a.appendTo,p=d();if(!c.length)throw new Error("appendTo element not found. Make sure that the element passed is in DOM.");p>=0&&!v&&(b=o.$new(!0),b.modalOptions=a,b.index=p,v=angular.element('<div uib-modal-backdrop="modal-backdrop"></div>'),v.attr({"class":"modal-backdrop","ng-style":"{'z-index': 1040 + (index && 1 || 0) + index*10}","uib-modal-animation-class":"fade","modal-in-class":"in"}),a.backdropClass&&v.addClass(a.backdropClass),a.animation&&v.attr("modal-animation","true"),n(v)(b),t.enter(v,c),l.isScrollable(c)&&(y=l.scrollbarPadding(c),y.heightOverflow&&y.scrollbarWidth&&c.css({paddingRight:y.right+"px"}))),C=S?parseInt(S.value.modalDomEl.attr("index"),10)+1:0;var h=angular.element('<div uib-modal-window="modal-window"></div>');h.attr({"class":"modal","template-url":a.windowTemplateUrl,"window-top-class":a.windowTopClass,role:"dialog",size:a.size,index:C,animate:"animate","ng-style":"{'z-index': 1050 + $$topModalIndex*10, display: 'block'}",tabindex:-1,"uib-modal-animation-class":"fade","modal-in-class":"in"}).html(a.content),a.windowClass&&h.addClass(a.windowClass),a.animation&&h.attr("modal-animation","true"),c.addClass(s),a.scope&&(a.scope.$$topModalIndex=C),t.enter(n(h)(a.scope),c),w.top().value.modalDomEl=h,w.top().value.modalOpener=r},T.close=function(t,e){var i=w.get(t);return i&&f(i,e,!0)?(i.value.modalScope.$$uibDestructionScheduled=!0,i.value.deferred.resolve(e),p(t,i.value.modalOpener),!0):!i},T.dismiss=function(t,e){var i=w.get(t);return i&&f(i,e,!1)?(i.value.modalScope.$$uibDestructionScheduled=!0,i.value.deferred.reject(e),p(t,i.value.modalOpener),!0):!i},T.dismissAll=function(t){for(var e=this.getTop();e&&this.dismiss(e.key,t);)e=this.getTop()},T.getTop=function(){return w.top()},T.modalRendered=function(t){var e=w.get(t);e&&e.value.renderDeferred.resolve()},T.focusFirstFocusableElement=function(t){return t.length>0&&(t[0].focus(),!0)},T.focusLastFocusableElement=function(t){return t.length>0&&(t[t.length-1].focus(),!0)},T.isModalFocused=function(t,e){if(t&&e){var i=e.value.modalDomEl;if(i&&i.length)return(t.target||t.srcElement)===i[0]}return!1},T.isFocusInFirstItem=function(t,e){return e.length>0&&(t.target||t.srcElement)===e[0]},T.isFocusInLastItem=function(t,e){return e.length>0&&(t.target||t.srcElement)===e[e.length-1]},T.loadFocusElementList=function(t){if(t){var e=t.value.modalDomEl;if(e&&e.length){var i=e[0].querySelectorAll(M);return i?Array.prototype.filter.call(i,function(t){return c(t)}):i}}},T}]).provider("$uibModal",function(){var t={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$rootScope","$q","$document","$templateRequest","$controller","$uibResolve","$uibModalStack",function(e,i,n,o,a,r,s){function l(t){return t.template?i.when(t.template):o(angular.isFunction(t.templateUrl)?t.templateUrl():t.templateUrl)}var c={},d=null;return c.getPromiseChain=function(){return d},c.open=function(o){function c(){return v}var p=i.defer(),u=i.defer(),h=i.defer(),g=i.defer(),m={result:p.promise,opened:u.promise,closed:h.promise,rendered:g.promise,close:function(t){return s.close(m,t)},dismiss:function(t){return s.dismiss(m,t)}};if(o=angular.extend({},t.options,o),o.resolve=o.resolve||{},o.appendTo=o.appendTo||n.find("body").eq(0),!o.template&&!o.templateUrl)throw new Error("One of template or templateUrl options is required.");var f,v=i.all([l(o),r.resolve(o.resolve,{},null,null)]);return f=d=i.all([d]).then(c,c).then(function(t){var i=o.scope||e,n=i.$new();n.$close=m.close,n.$dismiss=m.dismiss,n.$on("$destroy",function(){n.$$uibDestructionScheduled||n.$dismiss("$uibUnscheduledDestruction")});var r,l,c={};o.controller&&(c.$scope=n,c.$scope.$resolve={},c.$uibModalInstance=m,angular.forEach(t[1],function(t,e){c[e]=t,c.$scope.$resolve[e]=t}),l=a(o.controller,c,!0,o.controllerAs),o.controllerAs&&o.bindToController&&(r=l.instance,r.$close=n.$close,r.$dismiss=n.$dismiss,angular.extend(r,{$resolve:c.$scope.$resolve},i)),r=l(),angular.isFunction(r.$onInit)&&r.$onInit()),s.open(m,{scope:n,deferred:p,renderDeferred:g,closedDeferred:h,content:t[0],animation:o.animation,backdrop:o.backdrop,keyboard:o.keyboard,backdropClass:o.backdropClass,windowTopClass:o.windowTopClass,windowClass:o.windowClass,windowTemplateUrl:o.windowTemplateUrl,size:o.size,openedClass:o.openedClass,appendTo:o.appendTo}),u.resolve(!0)},function(t){u.reject(t),p.reject(t)})["finally"](function(){d===f&&(d=null)}),m},c}]};return t}),angular.module("ui.bootstrap.paging",[]).factory("uibPaging",["$parse",function(t){return{create:function(e,i,n){e.setNumPages=n.numPages?t(n.numPages).assign:angular.noop,e.ngModelCtrl={$setViewValue:angular.noop},e._watchers=[],e.init=function(t,o){e.ngModelCtrl=t,e.config=o,t.$render=function(){e.render()},n.itemsPerPage?e._watchers.push(i.$parent.$watch(n.itemsPerPage,function(t){e.itemsPerPage=parseInt(t,10),i.totalPages=e.calculateTotalPages(),e.updatePage()})):e.itemsPerPage=o.itemsPerPage,i.$watch("totalItems",function(t,n){(angular.isDefined(t)||t!==n)&&(i.totalPages=e.calculateTotalPages(),e.updatePage())})},e.calculateTotalPages=function(){var t=e.itemsPerPage<1?1:Math.ceil(i.totalItems/e.itemsPerPage);return Math.max(t||0,1)},e.render=function(){i.page=parseInt(e.ngModelCtrl.$viewValue,10)||1},i.selectPage=function(t,n){n&&n.preventDefault();var o=!i.ngDisabled||!n;o&&i.page!==t&&t>0&&t<=i.totalPages&&(n&&n.target&&n.target.blur(),e.ngModelCtrl.$setViewValue(t),e.ngModelCtrl.$render())},i.getText=function(t){return i[t+"Text"]||e.config[t+"Text"]},i.noPrevious=function(){return 1===i.page},i.noNext=function(){return i.page===i.totalPages},e.updatePage=function(){e.setNumPages(i.$parent,i.totalPages),i.page>i.totalPages?i.selectPage(i.totalPages):e.ngModelCtrl.$render()},i.$on("$destroy",function(){for(;e._watchers.length;)e._watchers.shift()()})}}}]),angular.module("ui.bootstrap.pager",["ui.bootstrap.paging","ui.bootstrap.tabindex"]).controller("UibPagerController",["$scope","$attrs","uibPaging","uibPagerConfig",function(t,e,i,n){t.align=angular.isDefined(e.align)?t.$parent.$eval(e.align):n.align,i.create(this,t,e)}]).constant("uibPagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("uibPager",["uibPagerConfig",function(t){return{scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["uibPager","?ngModel"],restrict:"A",controller:"UibPagerController",controllerAs:"pager",templateUrl:function(t,e){return e.templateUrl||"uib/template/pager/pager.html"},link:function(e,i,n,o){i.addClass("pager");var a=o[0],r=o[1];r&&a.init(r,t)}}}]),angular.module("ui.bootstrap.pagination",["ui.bootstrap.paging","ui.bootstrap.tabindex"]).controller("UibPaginationController",["$scope","$attrs","$parse","uibPaging","uibPaginationConfig",function(t,e,i,n,o){
function a(t,e,i){return{number:t,text:e,active:i}}function r(t,e){var i=[],n=1,o=e,r=angular.isDefined(l)&&l<e;r&&(c?(n=Math.max(t-Math.floor(l/2),1),o=n+l-1,o>e&&(o=e,n=o-l+1)):(n=(Math.ceil(t/l)-1)*l+1,o=Math.min(n+l-1,e)));for(var s=n;s<=o;s++){var h=a(s,u(s),s===t);i.push(h)}if(r&&l>0&&(!c||d||p)){if(n>1){if(!p||n>3){var g=a(n-1,"...",!1);i.unshift(g)}if(p){if(3===n){var m=a(2,"2",!1);i.unshift(m)}var f=a(1,"1",!1);i.unshift(f)}}if(o<e){if(!p||o<e-2){var v=a(o+1,"...",!1);i.push(v)}if(p){if(o===e-2){var b=a(e-1,e-1,!1);i.push(b)}var y=a(e,e,!1);i.push(y)}}}return i}var s=this,l=angular.isDefined(e.maxSize)?t.$parent.$eval(e.maxSize):o.maxSize,c=angular.isDefined(e.rotate)?t.$parent.$eval(e.rotate):o.rotate,d=angular.isDefined(e.forceEllipses)?t.$parent.$eval(e.forceEllipses):o.forceEllipses,p=angular.isDefined(e.boundaryLinkNumbers)?t.$parent.$eval(e.boundaryLinkNumbers):o.boundaryLinkNumbers,u=angular.isDefined(e.pageLabel)?function(i){return t.$parent.$eval(e.pageLabel,{$page:i})}:angular.identity;t.boundaryLinks=angular.isDefined(e.boundaryLinks)?t.$parent.$eval(e.boundaryLinks):o.boundaryLinks,t.directionLinks=angular.isDefined(e.directionLinks)?t.$parent.$eval(e.directionLinks):o.directionLinks,n.create(this,t,e),e.maxSize&&s._watchers.push(t.$parent.$watch(i(e.maxSize),function(t){l=parseInt(t,10),s.render()}));var h=this.render;this.render=function(){h(),t.page>0&&t.page<=t.totalPages&&(t.pages=r(t.page,t.totalPages))}}]).constant("uibPaginationConfig",{itemsPerPage:10,boundaryLinks:!1,boundaryLinkNumbers:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0,forceEllipses:!1}).directive("uibPagination",["$parse","uibPaginationConfig",function(t,e){return{scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["uibPagination","?ngModel"],restrict:"A",controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function(t,e){return e.templateUrl||"uib/template/pagination/pagination.html"},link:function(t,i,n,o){i.addClass("pagination");var a=o[0],r=o[1];r&&a.init(r,e)}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.stackedMap"]).provider("$uibTooltip",function(){function t(t){var e=/[A-Z]/g,i="-";return t.replace(e,function(t,e){return(e?i:"")+t.toLowerCase()})}var e={placement:"top",placementClassPrefix:"",animation:!0,popupDelay:0,popupCloseDelay:0,useContentExp:!1},i={mouseenter:"mouseleave",click:"click",outsideClick:"outsideClick",focus:"blur",none:""},n={};this.options=function(t){angular.extend(n,t)},this.setTriggers=function(t){angular.extend(i,t)},this.$get=["$window","$compile","$timeout","$document","$uibPosition","$interpolate","$rootScope","$parse","$$stackedMap",function(o,a,r,s,l,c,d,p,u){function h(t){if(27===t.which){var e=g.top();e&&(e.value.close(),g.removeTop(),e=null)}}var g=u.createNew();return s.on("keypress",h),d.$on("$destroy",function(){s.off("keypress",h)}),function(o,d,u,h){function m(t){var e=(t||h.trigger||u).split(" "),n=e.map(function(t){return i[t]||t});return{show:e,hide:n}}h=angular.extend({},e,n,h);var f=t(o),v=c.startSymbol(),b=c.endSymbol(),y="<div "+f+'-popup uib-title="'+v+"title"+b+'" '+(h.useContentExp?'content-exp="contentExp()" ':'content="'+v+"content"+b+'" ')+'origin-scope="origScope" class="uib-position-measure '+d+'" tooltip-animation-class="fade"uib-tooltip-classes ng-class="{ in: isOpen }" ></div>';return{compile:function(t,e){var i=a(y);return function(t,e,n,a){function c(){B.isOpen?f():u()}function u(){z&&!t.$eval(n[d+"Enable"])||(x(),T(),B.popupDelay?L||(L=r(v,B.popupDelay,!1)):v())}function f(){b(),B.popupCloseDelay?E||(E=r(y,B.popupCloseDelay,!1)):y()}function v(){return b(),x(),B.content?(w(),void B.$evalAsync(function(){B.isOpen=!0,C(!0),G()})):angular.noop}function b(){L&&(r.cancel(L),L=null),I&&(r.cancel(I),I=null)}function y(){B&&B.$evalAsync(function(){B&&(B.isOpen=!1,C(!1),B.animation?P||(P=r(k,150,!1)):k())})}function x(){E&&(r.cancel(E),E=null),P&&(r.cancel(P),P=null)}function w(){O||(A=B.$new(),O=i(A,function(t){_?s.find("body").append(t):e.after(t)}),S())}function k(){b(),x(),M(),O&&(O.remove(),O=null),A&&(A.$destroy(),A=null)}function T(){B.title=n[d+"Title"],j?B.content=j(t):B.content=n[o],B.popupClass=n[d+"Class"],B.placement=angular.isDefined(n[d+"Placement"])?n[d+"Placement"]:h.placement;var e=l.parsePlacement(B.placement);F=e[1]?e[0]+"-"+e[1]:e[0];var i=parseInt(n[d+"PopupDelay"],10),a=parseInt(n[d+"PopupCloseDelay"],10);B.popupDelay=isNaN(i)?h.popupDelay:i,B.popupCloseDelay=isNaN(a)?h.popupCloseDelay:a}function C(e){H&&angular.isFunction(H.assign)&&H.assign(t,e)}function S(){W.length=0,j?(W.push(t.$watch(j,function(t){B.content=t,!t&&B.isOpen&&y()})),W.push(A.$watch(function(){R||(R=!0,A.$$postDigest(function(){R=!1,B&&B.isOpen&&G()}))}))):W.push(n.$observe(o,function(t){B.content=t,!t&&B.isOpen?y():G()})),W.push(n.$observe(d+"Title",function(t){B.title=t,B.isOpen&&G()})),W.push(n.$observe(d+"Placement",function(t){B.placement=t?t:h.placement,B.isOpen&&G()}))}function M(){W.length&&(angular.forEach(W,function(t){t()}),W.length=0)}function $(t){B&&B.isOpen&&O&&(e[0].contains(t.target)||O[0].contains(t.target)||f())}function D(){var i=[],o=[],a=t.$eval(n[d+"Trigger"]);U(),angular.isObject(a)?(Object.keys(a).forEach(function(t){i.push(t),o.push(a[t])}),N={show:i,hide:o}):N=m(a),"none"!==N.show&&N.show.forEach(function(t,i){"outsideClick"===t?(e.on("click",c),s.on("click",$)):t===N.hide[i]?e.on(t,c):t&&(e.on(t,u),e.on(N.hide[i],f)),e.on("keypress",function(t){27===t.which&&f()})})}var O,A,P,L,E,I,F,_=!!angular.isDefined(h.appendToBody)&&h.appendToBody,N=m(void 0),z=angular.isDefined(n[d+"Enable"]),B=t.$new(!0),R=!1,H=!!angular.isDefined(n[d+"IsOpen"])&&p(n[d+"IsOpen"]),j=!!h.useContentExp&&p(n[o]),W=[],G=function(){O&&O.html()&&(I||(I=r(function(){var t=l.positionElements(e,O,B.placement,_),i=angular.isDefined(O.offsetHeight)?O.offsetHeight:O.prop("offsetHeight"),n=_?l.offset(e):l.position(e);O.css({top:t.top+"px",left:t.left+"px"});var o=t.placement.split("-");O.hasClass(o[0])||(O.removeClass(F.split("-")[0]),O.addClass(o[0])),O.hasClass(h.placementClassPrefix+t.placement)||(O.removeClass(h.placementClassPrefix+F),O.addClass(h.placementClassPrefix+t.placement)),r(function(){var t=angular.isDefined(O.offsetHeight)?O.offsetHeight:O.prop("offsetHeight"),e=l.adjustTop(o,n,i,t);e&&O.css(e)},0,!1),O.hasClass("uib-position-measure")?(l.positionArrow(O,t.placement),O.removeClass("uib-position-measure")):F!==t.placement&&l.positionArrow(O,t.placement),F=t.placement,I=null},0,!1)))};B.origScope=t,B.isOpen=!1,g.add(B,{close:y}),B.contentExp=function(){return B.content},n.$observe("disabled",function(t){t&&b(),t&&B.isOpen&&y()}),H&&t.$watch(H,function(t){B&&!t===B.isOpen&&c()});var U=function(){N.show.forEach(function(t){"outsideClick"===t?e.off("click",c):(e.off(t,u),e.off(t,c))}),N.hide.forEach(function(t){"outsideClick"===t?s.off("click",$):e.off(t,f)})};D();var Y=t.$eval(n[d+"Animation"]);B.animation=angular.isDefined(Y)?!!Y:h.animation;var V,X=d+"AppendToBody";V=X in n&&void 0===n[X]||t.$eval(n[X]),_=angular.isDefined(V)?V:_,t.$on("$destroy",function(){U(),k(),g.remove(B),B=null})}}}}}]}).directive("uibTooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(t,e,i,n){return{link:function(o,a,r){var s,l,c,d=o.$eval(r.tooltipTemplateTranscludeScope),p=0,u=function(){l&&(l.remove(),l=null),s&&(s.$destroy(),s=null),c&&(t.leave(c).then(function(){l=null}),l=c,c=null)};o.$watch(e.parseAsResourceUrl(r.uibTooltipTemplateTransclude),function(e){var r=++p;e?(n(e,!0).then(function(n){if(r===p){var o=d.$new(),l=n,h=i(l)(o,function(e){u(),t.enter(e,a)});s=o,c=h,s.$emit("$includeContentLoaded",e)}},function(){r===p&&(u(),o.$emit("$includeContentError",e))}),o.$emit("$includeContentRequested",e)):u()}),o.$on("$destroy",u)}}}]).directive("uibTooltipClasses",["$uibPosition",function(t){return{restrict:"A",link:function(e,i,n){if(e.placement){var o=t.parsePlacement(e.placement);i.addClass(o[0])}e.popupClass&&i.addClass(e.popupClass),e.animation&&i.addClass(n.tooltipAnimationClass)}}}]).directive("uibTooltipPopup",function(){return{restrict:"A",scope:{content:"@"},templateUrl:"uib/template/tooltip/tooltip-popup.html"}}).directive("uibTooltip",["$uibTooltip",function(t){return t("uibTooltip","tooltip","mouseenter")}]).directive("uibTooltipTemplatePopup",function(){return{restrict:"A",scope:{contentExp:"&",originScope:"&"},templateUrl:"uib/template/tooltip/tooltip-template-popup.html"}}).directive("uibTooltipTemplate",["$uibTooltip",function(t){return t("uibTooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("uibTooltipHtmlPopup",function(){return{restrict:"A",scope:{contentExp:"&"},templateUrl:"uib/template/tooltip/tooltip-html-popup.html"}}).directive("uibTooltipHtml",["$uibTooltip",function(t){return t("uibTooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("uibPopoverTemplatePopup",function(){return{restrict:"A",scope:{uibTitle:"@",contentExp:"&",originScope:"&"},templateUrl:"uib/template/popover/popover-template.html"}}).directive("uibPopoverTemplate",["$uibTooltip",function(t){return t("uibPopoverTemplate","popover","click",{useContentExp:!0})}]).directive("uibPopoverHtmlPopup",function(){return{restrict:"A",scope:{contentExp:"&",uibTitle:"@"},templateUrl:"uib/template/popover/popover-html.html"}}).directive("uibPopoverHtml",["$uibTooltip",function(t){return t("uibPopoverHtml","popover","click",{useContentExp:!0})}]).directive("uibPopoverPopup",function(){return{restrict:"A",scope:{uibTitle:"@",content:"@"},templateUrl:"uib/template/popover/popover.html"}}).directive("uibPopover",["$uibTooltip",function(t){return t("uibPopover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("uibProgressConfig",{animate:!0,max:100}).controller("UibProgressController",["$scope","$attrs","uibProgressConfig",function(t,e,i){function n(){return angular.isDefined(t.maxParam)?t.maxParam:i.max}var o=this,a=angular.isDefined(e.animate)?t.$parent.$eval(e.animate):i.animate;this.bars=[],t.max=n(),this.addBar=function(t,e,i){a||e.css({transition:"none"}),this.bars.push(t),t.max=n(),t.title=i&&angular.isDefined(i.title)?i.title:"progressbar",t.$watch("value",function(e){t.recalculatePercentage()}),t.recalculatePercentage=function(){var e=o.bars.reduce(function(t,e){return e.percent=+(100*e.value/e.max).toFixed(2),t+e.percent},0);e>100&&(t.percent-=e-100)},t.$on("$destroy",function(){e=null,o.removeBar(t)})},this.removeBar=function(t){this.bars.splice(this.bars.indexOf(t),1),this.bars.forEach(function(t){t.recalculatePercentage()})},t.$watch("maxParam",function(t){o.bars.forEach(function(t){t.max=n(),t.recalculatePercentage()})})}]).directive("uibProgress",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",require:"uibProgress",scope:{maxParam:"=?max"},templateUrl:"uib/template/progressbar/progress.html"}}).directive("uibBar",function(){return{replace:!0,transclude:!0,require:"^uibProgress",scope:{value:"=",type:"@"},templateUrl:"uib/template/progressbar/bar.html",link:function(t,e,i,n){n.addBar(t,e,i)}}}).directive("uibProgressbar",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",scope:{value:"=",maxParam:"=?max",type:"@"},templateUrl:"uib/template/progressbar/progressbar.html",link:function(t,e,i,n){n.addBar(t,angular.element(e.children()[0]),{title:i.title})}}}),angular.module("ui.bootstrap.rating",[]).constant("uibRatingConfig",{max:5,stateOn:null,stateOff:null,enableReset:!0,titles:["one","two","three","four","five"]}).controller("UibRatingController",["$scope","$attrs","uibRatingConfig",function(t,e,i){var n={$setViewValue:angular.noop},o=this;this.init=function(o){n=o,n.$render=this.render,n.$formatters.push(function(t){return angular.isNumber(t)&&t<<0!==t&&(t=Math.round(t)),t}),this.stateOn=angular.isDefined(e.stateOn)?t.$parent.$eval(e.stateOn):i.stateOn,this.stateOff=angular.isDefined(e.stateOff)?t.$parent.$eval(e.stateOff):i.stateOff,this.enableReset=angular.isDefined(e.enableReset)?t.$parent.$eval(e.enableReset):i.enableReset;var a=angular.isDefined(e.titles)?t.$parent.$eval(e.titles):i.titles;this.titles=angular.isArray(a)&&a.length>0?a:i.titles;var r=angular.isDefined(e.ratingStates)?t.$parent.$eval(e.ratingStates):new Array(angular.isDefined(e.max)?t.$parent.$eval(e.max):i.max);t.range=this.buildTemplateObjects(r)},this.buildTemplateObjects=function(t){for(var e=0,i=t.length;e<i;e++)t[e]=angular.extend({index:e},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(e)},t[e]);return t},this.getTitle=function(t){return t>=this.titles.length?t+1:this.titles[t]},t.rate=function(e){if(!t.readonly&&e>=0&&e<=t.range.length){var i=o.enableReset&&n.$viewValue===e?0:e;n.$setViewValue(i),n.$render()}},t.enter=function(e){t.readonly||(t.value=e),t.onHover({value:e})},t.reset=function(){t.value=n.$viewValue,t.onLeave()},t.onKeydown=function(e){/(37|38|39|40)/.test(e.which)&&(e.preventDefault(),e.stopPropagation(),t.rate(t.value+(38===e.which||39===e.which?1:-1)))},this.render=function(){t.value=n.$viewValue,t.title=o.getTitle(t.value-1)}}]).directive("uibRating",function(){return{require:["uibRating","ngModel"],restrict:"A",scope:{readonly:"=?readOnly",onHover:"&",onLeave:"&"},controller:"UibRatingController",templateUrl:"uib/template/rating/rating.html",link:function(t,e,i,n){var o=n[0],a=n[1];o.init(a)}}}),angular.module("ui.bootstrap.tabs",[]).controller("UibTabsetController",["$scope",function(t){function e(t){for(var e=0;e<n.tabs.length;e++)if(n.tabs[e].index===t)return e}var i,n=this;n.tabs=[],n.select=function(t,a){if(!o){var r=e(i),s=n.tabs[r];if(s){if(s.tab.onDeselect({$event:a,$selectedIndex:t}),a&&a.isDefaultPrevented())return;s.tab.active=!1}var l=n.tabs[t];l?(l.tab.onSelect({$event:a}),l.tab.active=!0,n.active=l.index,i=l.index):!l&&angular.isDefined(i)&&(n.active=null,i=null)}},n.addTab=function(t){if(n.tabs.push({tab:t,index:t.index}),n.tabs.sort(function(t,e){return t.index>e.index?1:t.index<e.index?-1:0}),t.index===n.active||!angular.isDefined(n.active)&&1===n.tabs.length){var i=e(t.index);n.select(i)}},n.removeTab=function(t){for(var e,i=0;i<n.tabs.length;i++)if(n.tabs[i].tab===t){e=i;break}if(n.tabs[e].index===n.active){var o=e===n.tabs.length-1?e-1:e+1%n.tabs.length;n.select(o)}n.tabs.splice(e,1)},t.$watch("tabset.active",function(t){angular.isDefined(t)&&t!==i&&n.select(e(t))});var o;t.$on("$destroy",function(){o=!0})}]).directive("uibTabset",function(){return{transclude:!0,replace:!0,scope:{},bindToController:{active:"=?",type:"@"},controller:"UibTabsetController",controllerAs:"tabset",templateUrl:function(t,e){return e.templateUrl||"uib/template/tabs/tabset.html"},link:function(t,e,i){t.vertical=!!angular.isDefined(i.vertical)&&t.$parent.$eval(i.vertical),t.justified=!!angular.isDefined(i.justified)&&t.$parent.$eval(i.justified)}}}).directive("uibTab",["$parse",function(t){return{require:"^uibTabset",replace:!0,templateUrl:function(t,e){return e.templateUrl||"uib/template/tabs/tab.html"},transclude:!0,scope:{heading:"@",index:"=?",classes:"@?",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},controllerAs:"tab",link:function(e,i,n,o,a){e.disabled=!1,n.disable&&e.$parent.$watch(t(n.disable),function(t){e.disabled=!!t}),angular.isUndefined(n.index)&&(o.tabs&&o.tabs.length?e.index=Math.max.apply(null,o.tabs.map(function(t){return t.index}))+1:e.index=0),angular.isUndefined(n.classes)&&(e.classes=""),e.select=function(t){if(!e.disabled){for(var i,n=0;n<o.tabs.length;n++)if(o.tabs[n].tab===e){i=n;break}o.select(i,t)}},o.addTab(e),e.$on("$destroy",function(){o.removeTab(e)}),e.$transcludeFn=a}}}]).directive("uibTabHeadingTransclude",function(){return{restrict:"A",require:"^uibTab",link:function(t,e){t.$watch("headingElement",function(t){t&&(e.html(""),e.append(t))})}}}).directive("uibTabContentTransclude",function(){function t(t){return t.tagName&&(t.hasAttribute("uib-tab-heading")||t.hasAttribute("data-uib-tab-heading")||t.hasAttribute("x-uib-tab-heading")||"uib-tab-heading"===t.tagName.toLowerCase()||"data-uib-tab-heading"===t.tagName.toLowerCase()||"x-uib-tab-heading"===t.tagName.toLowerCase()||"uib:tab-heading"===t.tagName.toLowerCase())}return{restrict:"A",require:"^uibTabset",link:function(e,i,n){var o=e.$eval(n.uibTabContentTransclude).tab;o.$transcludeFn(o.$parent,function(e){angular.forEach(e,function(e){t(e)?o.headingElement=e:i.append(e)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("uibTimepickerConfig",{hourStep:1,minuteStep:1,secondStep:1,showMeridian:!0,showSeconds:!1,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0,templateUrl:"uib/template/timepicker/timepicker.html"}).controller("UibTimepickerController",["$scope","$element","$attrs","$parse","$log","$locale","uibTimepickerConfig",function(t,e,i,n,o,a,r){function s(){var e=+t.hours,i=t.showMeridian?e>0&&e<13:e>=0&&e<24;if(i&&""!==t.hours)return t.showMeridian&&(12===e&&(e=0),t.meridian===w[1]&&(e+=12)),e}function l(){var e=+t.minutes,i=e>=0&&e<60;if(i&&""!==t.minutes)return e}function c(){var e=+t.seconds;return e>=0&&e<60?e:void 0}function d(t,e){return null===t?"":angular.isDefined(t)&&t.toString().length<2&&!e?"0"+t:t.toString()}function p(t){u(),x.$setViewValue(new Date(b)),h(t)}function u(){x.$setValidity("time",!0),t.invalidHours=!1,t.invalidMinutes=!1,t.invalidSeconds=!1}function h(e){if(x.$modelValue){var i=b.getHours(),n=b.getMinutes(),o=b.getSeconds();t.showMeridian&&(i=0===i||12===i?12:i%12),t.hours="h"===e?i:d(i,!k),"m"!==e&&(t.minutes=d(n)),t.meridian=b.getHours()<12?w[0]:w[1],"s"!==e&&(t.seconds=d(o)),t.meridian=b.getHours()<12?w[0]:w[1]}else t.hours=null,t.minutes=null,t.seconds=null,t.meridian=w[0]}function g(t){b=f(b,t),p()}function m(t,e){return f(t,60*e)}function f(t,e){var i=new Date(t.getTime()+1e3*e),n=new Date(t);return n.setHours(i.getHours(),i.getMinutes(),i.getSeconds()),n}function v(){return(null===t.hours||""===t.hours)&&(null===t.minutes||""===t.minutes)&&(!t.showSeconds||t.showSeconds&&(null===t.seconds||""===t.seconds))}var b=new Date,y=[],x={$setViewValue:angular.noop},w=angular.isDefined(i.meridians)?t.$parent.$eval(i.meridians):r.meridians||a.DATETIME_FORMATS.AMPMS,k=!angular.isDefined(i.padHours)||t.$parent.$eval(i.padHours);t.tabindex=angular.isDefined(i.tabindex)?i.tabindex:0,e.removeAttr("tabindex"),this.init=function(e,n){x=e,x.$render=this.render,x.$formatters.unshift(function(t){return t?new Date(t):null});var o=n.eq(0),a=n.eq(1),s=n.eq(2),l=angular.isDefined(i.mousewheel)?t.$parent.$eval(i.mousewheel):r.mousewheel;l&&this.setupMousewheelEvents(o,a,s);var c=angular.isDefined(i.arrowkeys)?t.$parent.$eval(i.arrowkeys):r.arrowkeys;c&&this.setupArrowkeyEvents(o,a,s),t.readonlyInput=angular.isDefined(i.readonlyInput)?t.$parent.$eval(i.readonlyInput):r.readonlyInput,this.setupInputEvents(o,a,s)};var T=r.hourStep;i.hourStep&&y.push(t.$parent.$watch(n(i.hourStep),function(t){T=+t}));var C=r.minuteStep;i.minuteStep&&y.push(t.$parent.$watch(n(i.minuteStep),function(t){C=+t}));var S;y.push(t.$parent.$watch(n(i.min),function(t){var e=new Date(t);S=isNaN(e)?void 0:e}));var M;y.push(t.$parent.$watch(n(i.max),function(t){var e=new Date(t);M=isNaN(e)?void 0:e}));var $=!1;i.ngDisabled&&y.push(t.$parent.$watch(n(i.ngDisabled),function(t){$=t})),t.noIncrementHours=function(){var t=m(b,60*T);return $||t>M||t<b&&t<S},t.noDecrementHours=function(){var t=m(b,60*-T);return $||t<S||t>b&&t>M},t.noIncrementMinutes=function(){var t=m(b,C);return $||t>M||t<b&&t<S},t.noDecrementMinutes=function(){var t=m(b,-C);return $||t<S||t>b&&t>M},t.noIncrementSeconds=function(){var t=f(b,D);return $||t>M||t<b&&t<S},t.noDecrementSeconds=function(){var t=f(b,-D);return $||t<S||t>b&&t>M},t.noToggleMeridian=function(){return b.getHours()<12?$||m(b,720)>M:$||m(b,-720)<S};var D=r.secondStep;i.secondStep&&y.push(t.$parent.$watch(n(i.secondStep),function(t){D=+t})),t.showSeconds=r.showSeconds,i.showSeconds&&y.push(t.$parent.$watch(n(i.showSeconds),function(e){t.showSeconds=!!e})),t.showMeridian=r.showMeridian,i.showMeridian&&y.push(t.$parent.$watch(n(i.showMeridian),function(e){if(t.showMeridian=!!e,x.$error.time){var i=s(),n=l();angular.isDefined(i)&&angular.isDefined(n)&&(b.setHours(i),p())}else h()})),this.setupMousewheelEvents=function(e,i,n){var o=function(t){t.originalEvent&&(t=t.originalEvent);var e=t.wheelDelta?t.wheelDelta:-t.deltaY;return t.detail||e>0};e.bind("mousewheel wheel",function(e){$||t.$apply(o(e)?t.incrementHours():t.decrementHours()),e.preventDefault()}),i.bind("mousewheel wheel",function(e){$||t.$apply(o(e)?t.incrementMinutes():t.decrementMinutes()),e.preventDefault()}),n.bind("mousewheel wheel",function(e){$||t.$apply(o(e)?t.incrementSeconds():t.decrementSeconds()),e.preventDefault()})},this.setupArrowkeyEvents=function(e,i,n){e.bind("keydown",function(e){$||(38===e.which?(e.preventDefault(),t.incrementHours(),t.$apply()):40===e.which&&(e.preventDefault(),t.decrementHours(),t.$apply()))}),i.bind("keydown",function(e){$||(38===e.which?(e.preventDefault(),t.incrementMinutes(),t.$apply()):40===e.which&&(e.preventDefault(),t.decrementMinutes(),t.$apply()))}),n.bind("keydown",function(e){$||(38===e.which?(e.preventDefault(),t.incrementSeconds(),t.$apply()):40===e.which&&(e.preventDefault(),t.decrementSeconds(),t.$apply()))})},this.setupInputEvents=function(e,i,n){if(t.readonlyInput)return t.updateHours=angular.noop,t.updateMinutes=angular.noop,void(t.updateSeconds=angular.noop);var o=function(e,i,n){x.$setViewValue(null),x.$setValidity("time",!1),angular.isDefined(e)&&(t.invalidHours=e),angular.isDefined(i)&&(t.invalidMinutes=i),angular.isDefined(n)&&(t.invalidSeconds=n)};t.updateHours=function(){var t=s(),e=l();x.$setDirty(),angular.isDefined(t)&&angular.isDefined(e)?(b.setHours(t),b.setMinutes(e),b<S||b>M?o(!0):p("h")):o(!0)},e.bind("blur",function(e){x.$setTouched(),v()?u():null===t.hours||""===t.hours?o(!0):!t.invalidHours&&t.hours<10&&t.$apply(function(){t.hours=d(t.hours,!k)})}),t.updateMinutes=function(){var t=l(),e=s();x.$setDirty(),angular.isDefined(t)&&angular.isDefined(e)?(b.setHours(e),b.setMinutes(t),b<S||b>M?o(void 0,!0):p("m")):o(void 0,!0)},i.bind("blur",function(e){x.$setTouched(),v()?u():null===t.minutes?o(void 0,!0):!t.invalidMinutes&&t.minutes<10&&t.$apply(function(){t.minutes=d(t.minutes)})}),t.updateSeconds=function(){var t=c();x.$setDirty(),angular.isDefined(t)?(b.setSeconds(t),p("s")):o(void 0,void 0,!0)},n.bind("blur",function(e){v()?u():!t.invalidSeconds&&t.seconds<10&&t.$apply(function(){t.seconds=d(t.seconds)})})},this.render=function(){var e=x.$viewValue;isNaN(e)?(x.$setValidity("time",!1),o.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(e&&(b=e),b<S||b>M?(x.$setValidity("time",!1),t.invalidHours=!0,t.invalidMinutes=!0):u(),h())},t.showSpinners=angular.isDefined(i.showSpinners)?t.$parent.$eval(i.showSpinners):r.showSpinners,t.incrementHours=function(){t.noIncrementHours()||g(60*T*60)},t.decrementHours=function(){t.noDecrementHours()||g(60*-T*60)},t.incrementMinutes=function(){t.noIncrementMinutes()||g(60*C)},t.decrementMinutes=function(){t.noDecrementMinutes()||g(60*-C)},t.incrementSeconds=function(){t.noIncrementSeconds()||g(D)},t.decrementSeconds=function(){t.noDecrementSeconds()||g(-D)},t.toggleMeridian=function(){var e=l(),i=s();t.noToggleMeridian()||(angular.isDefined(e)&&angular.isDefined(i)?g(720*(b.getHours()<12?60:-60)):t.meridian=t.meridian===w[0]?w[1]:w[0])},t.blur=function(){x.$setTouched()},t.$on("$destroy",function(){for(;y.length;)y.shift()()})}]).directive("uibTimepicker",["uibTimepickerConfig",function(t){return{require:["uibTimepicker","?^ngModel"],restrict:"A",controller:"UibTimepickerController",controllerAs:"timepicker",scope:{},templateUrl:function(e,i){return i.templateUrl||t.templateUrl},link:function(t,e,i,n){var o=n[0],a=n[1];a&&o.init(a,e.find("input"))}}}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.debounce","ui.bootstrap.position"]).factory("uibTypeaheadParser",["$parse",function(t){var e=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(i){var n=i.match(e);if(!n)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+i+'".');return{itemName:n[3],source:t(n[4]),viewMapper:t(n[2]||n[1]),modelMapper:t(n[1])}}}}]).controller("UibTypeaheadController",["$scope","$element","$attrs","$compile","$parse","$q","$timeout","$document","$window","$rootScope","$$debounce","$uibPosition","uibTypeaheadParser",function(t,e,i,n,o,a,r,s,l,c,d,p,u){function h(){R.moveInProgress||(R.moveInProgress=!0,R.$digest()),Z()}function g(){R.position=A?p.offset(e):p.position(e),R.position.top+=e.prop("offsetHeight")}var m,f,v=[9,13,27,38,40],b=200,y=t.$eval(i.typeaheadMinLength);y||0===y||(y=1),t.$watch(i.typeaheadMinLength,function(t){y=t||0===t?t:1});var x=t.$eval(i.typeaheadWaitMs)||0,w=t.$eval(i.typeaheadEditable)!==!1;t.$watch(i.typeaheadEditable,function(t){w=t!==!1});var k,T,C=o(i.typeaheadLoading).assign||angular.noop,S=i.typeaheadShouldSelect?o(i.typeaheadShouldSelect):function(t,e){var i=e.$event;return 13===i.which||9===i.which},M=o(i.typeaheadOnSelect),$=!!angular.isDefined(i.typeaheadSelectOnBlur)&&t.$eval(i.typeaheadSelectOnBlur),D=o(i.typeaheadNoResults).assign||angular.noop,O=i.typeaheadInputFormatter?o(i.typeaheadInputFormatter):void 0,A=!!i.typeaheadAppendToBody&&t.$eval(i.typeaheadAppendToBody),P=i.typeaheadAppendTo?t.$eval(i.typeaheadAppendTo):null,L=t.$eval(i.typeaheadFocusFirst)!==!1,E=!!i.typeaheadSelectOnExact&&t.$eval(i.typeaheadSelectOnExact),I=o(i.typeaheadIsOpen).assign||angular.noop,F=t.$eval(i.typeaheadShowHint)||!1,_=o(i.ngModel),N=o(i.ngModel+"($$$p)"),z=function(e,i){return angular.isFunction(_(t))&&f&&f.$options&&f.$options.getterSetter?N(e,{$$$p:i}):_.assign(e,i)},B=u.parse(i.uibTypeahead),R=t.$new(),H=t.$on("$destroy",function(){R.$destroy()});R.$on("$destroy",H);var j="typeahead-"+R.$id+"-"+Math.floor(1e4*Math.random());e.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":j});var W,G;F&&(W=angular.element("<div></div>"),W.css("position","relative"),e.after(W),G=e.clone(),G.attr("placeholder",""),G.attr("tabindex","-1"),G.val(""),G.css({position:"absolute",top:"0px",left:"0px","border-color":"transparent","box-shadow":"none",opacity:1,background:"none 0% 0% / auto repeat scroll padding-box border-box rgb(255, 255, 255)",color:"#999"}),e.css({position:"relative","vertical-align":"top","background-color":"transparent"}),G.attr("id")&&G.removeAttr("id"),W.append(G),G.after(e));var U=angular.element("<div uib-typeahead-popup></div>");U.attr({id:j,matches:"matches",active:"activeIdx",select:"select(activeIdx, evt)","move-in-progress":"moveInProgress",query:"query",position:"position","assign-is-open":"assignIsOpen(isOpen)",debounce:"debounceUpdate"}),angular.isDefined(i.typeaheadTemplateUrl)&&U.attr("template-url",i.typeaheadTemplateUrl),angular.isDefined(i.typeaheadPopupTemplateUrl)&&U.attr("popup-template-url",i.typeaheadPopupTemplateUrl);var Y=function(){F&&G.val("")},V=function(){R.matches=[],R.activeIdx=-1,e.attr("aria-expanded",!1),Y()},X=function(t){return j+"-option-"+t};R.$watch("activeIdx",function(t){t<0?e.removeAttr("aria-activedescendant"):e.attr("aria-activedescendant",X(t))});var q=function(t,e){return!!(R.matches.length>e&&t)&&t.toUpperCase()===R.matches[e].label.toUpperCase()},K=function(i,n){var o={$viewValue:i};C(t,!0),D(t,!1),a.when(B.source(t,o)).then(function(a){var r=i===m.$viewValue;if(r&&k)if(a&&a.length>0){R.activeIdx=L?0:-1,D(t,!1),R.matches.length=0;for(var s=0;s<a.length;s++)o[B.itemName]=a[s],R.matches.push({id:X(s),label:B.viewMapper(R,o),model:a[s]});if(R.query=i,g(),e.attr("aria-expanded",!0),E&&1===R.matches.length&&q(i,0)&&(angular.isNumber(R.debounceUpdate)||angular.isObject(R.debounceUpdate)?d(function(){R.select(0,n)},angular.isNumber(R.debounceUpdate)?R.debounceUpdate:R.debounceUpdate["default"]):R.select(0,n)),F){var l=R.matches[0].label;angular.isString(i)&&i.length>0&&l.slice(0,i.length).toUpperCase()===i.toUpperCase()?G.val(i+l.slice(i.length)):G.val("")}}else V(),D(t,!0);r&&C(t,!1)},function(){V(),C(t,!1),D(t,!0)})};A&&(angular.element(l).on("resize",h),s.find("body").on("scroll",h));var Z=d(function(){R.matches.length&&g(),R.moveInProgress=!1},b);R.moveInProgress=!1,R.query=void 0;var J,Q=function(t){J=r(function(){K(t)},x)},tt=function(){J&&r.cancel(J)};V(),R.assignIsOpen=function(e){I(t,e)},R.select=function(n,o){var a,s,l={};T=!0,l[B.itemName]=s=R.matches[n].model,a=B.modelMapper(t,l),z(t,a),m.$setValidity("editable",!0),m.$setValidity("parse",!0),M(t,{$item:s,$model:a,$label:B.viewMapper(t,l),$event:o}),V(),R.$eval(i.typeaheadFocusOnSelect)!==!1&&r(function(){e[0].focus()},0,!1)},e.on("keydown",function(e){if(0!==R.matches.length&&v.indexOf(e.which)!==-1){var i=S(t,{$event:e});if(R.activeIdx===-1&&i||9===e.which&&e.shiftKey)return V(),void R.$digest();e.preventDefault();var n;switch(e.which){case 27:e.stopPropagation(),V(),t.$digest();break;case 38:R.activeIdx=(R.activeIdx>0?R.activeIdx:R.matches.length)-1,R.$digest(),n=U[0].querySelectorAll(".uib-typeahead-match")[R.activeIdx],n.parentNode.scrollTop=n.offsetTop;break;case 40:R.activeIdx=(R.activeIdx+1)%R.matches.length,R.$digest(),n=U[0].querySelectorAll(".uib-typeahead-match")[R.activeIdx],n.parentNode.scrollTop=n.offsetTop;break;default:i&&R.$apply(function(){angular.isNumber(R.debounceUpdate)||angular.isObject(R.debounceUpdate)?d(function(){R.select(R.activeIdx,e)},angular.isNumber(R.debounceUpdate)?R.debounceUpdate:R.debounceUpdate["default"]):R.select(R.activeIdx,e)})}}}),e.bind("focus",function(t){k=!0,0!==y||m.$viewValue||r(function(){K(m.$viewValue,t)},0)}),e.bind("blur",function(t){$&&R.matches.length&&R.activeIdx!==-1&&!T&&(T=!0,R.$apply(function(){angular.isObject(R.debounceUpdate)&&angular.isNumber(R.debounceUpdate.blur)?d(function(){R.select(R.activeIdx,t)},R.debounceUpdate.blur):R.select(R.activeIdx,t)})),!w&&m.$error.editable&&(m.$setViewValue(),R.$apply(function(){m.$setValidity("editable",!0),m.$setValidity("parse",!0)}),e.val("")),k=!1,T=!1});var et=function(i){e[0]!==i.target&&3!==i.which&&0!==R.matches.length&&(V(),c.$$phase||t.$digest())};s.on("click",et),t.$on("$destroy",function(){s.off("click",et),(A||P)&&it.remove(),A&&(angular.element(l).off("resize",h),s.find("body").off("scroll",h)),U.remove(),F&&W.remove()});var it=n(U)(R);A?s.find("body").append(it):P?angular.element(P).eq(0).append(it):e.after(it),this.init=function(e,i){m=e,f=i,R.debounceUpdate=m.$options&&o(m.$options.debounce)(t),m.$parsers.unshift(function(e){return k=!0,0===y||e&&e.length>=y?x>0?(tt(),Q(e)):K(e):(C(t,!1),tt(),V()),w?e:e?void m.$setValidity("editable",!1):(m.$setValidity("editable",!0),null)}),m.$formatters.push(function(e){var i,n,o={};return w||m.$setValidity("editable",!0),O?(o.$model=e,O(t,o)):(o[B.itemName]=e,i=B.viewMapper(t,o),o[B.itemName]=void 0,n=B.viewMapper(t,o),i!==n?i:e)})}}]).directive("uibTypeahead",function(){return{controller:"UibTypeaheadController",require:["ngModel","^?ngModelOptions","uibTypeahead"],link:function(t,e,i,n){n[2].init(n[0],n[1])}}}).directive("uibTypeaheadPopup",["$$debounce",function(t){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&",assignIsOpen:"&",debounce:"&"},replace:!0,templateUrl:function(t,e){return e.popupTemplateUrl||"uib/template/typeahead/typeahead-popup.html"},link:function(e,i,n){e.templateUrl=n.templateUrl,e.isOpen=function(){var t=e.matches.length>0;return e.assignIsOpen({isOpen:t}),t},e.isActive=function(t){return e.active===t},e.selectActive=function(t){e.active=t},e.selectMatch=function(i,n){var o=e.debounce();
angular.isNumber(o)||angular.isObject(o)?t(function(){e.select({activeIdx:i,evt:n})},angular.isNumber(o)?o:o["default"]):e.select({activeIdx:i,evt:n})}}}}]).directive("uibTypeaheadMatch",["$templateRequest","$compile","$parse",function(t,e,i){return{scope:{index:"=",match:"=",query:"="},link:function(n,o,a){var r=i(a.templateUrl)(n.$parent)||"uib/template/typeahead/typeahead-match.html";t(r).then(function(t){var i=angular.element(t.trim());o.replaceWith(i),e(i)(n)})}}}]).filter("uibTypeaheadHighlight",["$sce","$injector","$log",function(t,e,i){function n(t){return t.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function o(t){return/<.*>/g.test(t)}var a;return a=e.has("$sanitize"),function(e,r){return!a&&o(e)&&i.warn("Unsafe use of typeahead please use ngSanitize"),e=r?(""+e).replace(new RegExp(n(r),"gi"),"<strong>$&</strong>"):e,a||(e=t.trustAsHtml(e)),e}}]),angular.module("uib/template/accordion/accordion-group.html",[]).run(["$templateCache",function(t){t.put("uib/template/accordion/accordion-group.html",'<div role="tab" id="{{::headingId}}" aria-selected="{{isOpen}}" class="panel-heading" ng-keypress="toggleOpen($event)">\n  <h4 class="panel-title">\n    <a role="button" data-toggle="collapse" href aria-expanded="{{isOpen}}" aria-controls="{{::panelId}}" tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" uib-accordion-transclude="heading" ng-disabled="isDisabled" uib-tabindex-toggle><span uib-accordion-header ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n  </h4>\n</div>\n<div id="{{::panelId}}" aria-labelledby="{{::headingId}}" aria-hidden="{{!isOpen}}" role="tabpanel" class="panel-collapse collapse" uib-collapse="!isOpen">\n  <div class="panel-body" ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/accordion/accordion.html",[]).run(["$templateCache",function(t){t.put("uib/template/accordion/accordion.html",'<div role="tablist" class="panel-group" ng-transclude></div>')}]),angular.module("uib/template/alert/alert.html",[]).run(["$templateCache",function(t){t.put("uib/template/alert/alert.html",'<button ng-show="closeable" type="button" class="close" ng-click="close({$event: $event})">\n  <span aria-hidden="true">&times;</span>\n  <span class="sr-only">Close</span>\n</button>\n<div ng-transclude></div>\n')}]),angular.module("uib/template/carousel/carousel.html",[]).run(["$templateCache",function(t){t.put("uib/template/carousel/carousel.html",'<div class="carousel-inner" ng-transclude></div>\n<a role="button" href class="left carousel-control" ng-click="prev()" ng-class="{ disabled: isPrevDisabled() }" ng-show="slides.length > 1">\n  <span aria-hidden="true" class="glyphicon glyphicon-chevron-left"></span>\n  <span class="sr-only">previous</span>\n</a>\n<a role="button" href class="right carousel-control" ng-click="next()" ng-class="{ disabled: isNextDisabled() }" ng-show="slides.length > 1">\n  <span aria-hidden="true" class="glyphicon glyphicon-chevron-right"></span>\n  <span class="sr-only">next</span>\n</a>\n<ol class="carousel-indicators" ng-show="slides.length > 1">\n  <li ng-repeat="slide in slides | orderBy:indexOfSlide track by $index" ng-class="{ active: isActive(slide) }" ng-click="select(slide)">\n    <span class="sr-only">slide {{ $index + 1 }} of {{ slides.length }}<span ng-if="isActive(slide)">, currently active</span></span>\n  </li>\n</ol>\n')}]),angular.module("uib/template/carousel/slide.html",[]).run(["$templateCache",function(t){t.put("uib/template/carousel/slide.html",'<div class="text-center" ng-transclude></div>\n')}]),angular.module("uib/template/datepicker/datepicker.html",[]).run(["$templateCache",function(t){t.put("uib/template/datepicker/datepicker.html",'<div ng-switch="datepickerMode">\n  <div uib-daypicker ng-switch-when="day" tabindex="0" class="uib-daypicker"></div>\n  <div uib-monthpicker ng-switch-when="month" tabindex="0" class="uib-monthpicker"></div>\n  <div uib-yearpicker ng-switch-when="year" tabindex="0" class="uib-yearpicker"></div>\n</div>\n')}]),angular.module("uib/template/datepicker/day.html",[]).run(["$templateCache",function(t){t.put("uib/template/datepicker/day.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-weeks" ng-repeat="row in rows track by $index">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row" class="uib-day text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default btn-sm"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/month.html",[]).run(["$templateCache",function(t){t.put("uib/template/datepicker/month.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{::yearHeaderColspan}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-months" ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row" class="uib-month text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/year.html",[]).run(["$templateCache",function(t){t.put("uib/template/datepicker/year.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{::columns - 2}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-years" ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row" class="uib-year text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepickerPopup/popup.html",[]).run(["$templateCache",function(t){t.put("uib/template/datepickerPopup/popup.html",'<ul class="uib-datepicker-popup dropdown-menu uib-position-measure" dropdown-nested ng-if="isOpen" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n  <li ng-transclude></li>\n  <li ng-if="showButtonBar" class="uib-button-bar">\n    <span class="btn-group pull-left">\n      <button type="button" class="btn btn-sm btn-info uib-datepicker-current" ng-click="select(\'today\', $event)" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n      <button type="button" class="btn btn-sm btn-danger uib-clear" ng-click="select(null, $event)">{{ getText(\'clear\') }}</button>\n    </span>\n    <button type="button" class="btn btn-sm btn-success pull-right uib-close" ng-click="close($event)">{{ getText(\'close\') }}</button>\n  </li>\n</ul>\n')}]),angular.module("uib/template/modal/window.html",[]).run(["$templateCache",function(t){t.put("uib/template/modal/window.html","<div class=\"modal-dialog {{size ? 'modal-' + size : ''}}\"><div class=\"modal-content\" uib-modal-transclude></div></div>\n")}]),angular.module("uib/template/pager/pager.html",[]).run(["$templateCache",function(t){t.put("uib/template/pager/pager.html",'<li ng-class="{disabled: noPrevious()||ngDisabled, previous: align}"><a href ng-click="selectPage(page - 1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'previous\')}}</a></li>\n<li ng-class="{disabled: noNext()||ngDisabled, next: align}"><a href ng-click="selectPage(page + 1, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'next\')}}</a></li>\n')}]),angular.module("uib/template/pagination/pagination.html",[]).run(["$templateCache",function(t){t.put("uib/template/pagination/pagination.html",'<li ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-first"><a href ng-click="selectPage(1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'first\')}}</a></li>\n<li ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-prev"><a href ng-click="selectPage(page - 1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'previous\')}}</a></li>\n<li ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}" class="pagination-page"><a href ng-click="selectPage(page.number, $event)" ng-disabled="ngDisabled&&!page.active" uib-tabindex-toggle>{{page.text}}</a></li>\n<li ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-next"><a href ng-click="selectPage(page + 1, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'next\')}}</a></li>\n<li ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-last"><a href ng-click="selectPage(totalPages, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'last\')}}</a></li>\n')}]),angular.module("uib/template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(t){t.put("uib/template/tooltip/tooltip-html-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n')}]),angular.module("uib/template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(t){t.put("uib/template/tooltip/tooltip-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner" ng-bind="content"></div>\n')}]),angular.module("uib/template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(t){t.put("uib/template/tooltip/tooltip-template-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner"\n  uib-tooltip-template-transclude="contentExp()"\n  tooltip-template-transclude-scope="originScope()"></div>\n')}]),angular.module("uib/template/popover/popover-html.html",[]).run(["$templateCache",function(t){t.put("uib/template/popover/popover-html.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("uib/template/popover/popover-template.html",[]).run(["$templateCache",function(t){t.put("uib/template/popover/popover-template.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content"\n      uib-tooltip-template-transclude="contentExp()"\n      tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("uib/template/popover/popover.html",[]).run(["$templateCache",function(t){t.put("uib/template/popover/popover.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content" ng-bind="content"></div>\n</div>\n')}]),angular.module("uib/template/progressbar/bar.html",[]).run(["$templateCache",function(t){t.put("uib/template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n')}]),angular.module("uib/template/progressbar/progress.html",[]).run(["$templateCache",function(t){t.put("uib/template/progressbar/progress.html",'<div class="progress" ng-transclude aria-labelledby="{{::title}}"></div>')}]),angular.module("uib/template/progressbar/progressbar.html",[]).run(["$templateCache",function(t){t.put("uib/template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/rating/rating.html",[]).run(["$templateCache",function(t){t.put("uib/template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}" aria-valuetext="{{title}}">\n    <span ng-repeat-start="r in range track by $index" class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    <i ng-repeat-end ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')" ng-attr-title="{{r.title}}"></i>\n</span>\n')}]),angular.module("uib/template/tabs/tab.html",[]).run(["$templateCache",function(t){t.put("uib/template/tabs/tab.html",'<li ng-class="[{active: active, disabled: disabled}, classes]" class="uib-tab nav-item">\n  <a href ng-click="select($event)" class="nav-link" uib-tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("uib/template/tabs/tabset.html",[]).run(["$templateCache",function(t){t.put("uib/template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{tabset.type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane"\n         ng-repeat="tab in tabset.tabs"\n         ng-class="{active: tabset.active === tab.index}"\n         uib-tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("uib/template/timepicker/timepicker.html",[]).run(["$templateCache",function(t){t.put("uib/template/timepicker/timepicker.html",'<table class="uib-timepicker">\n  <tbody>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-increment hours"><a ng-click="incrementHours()" ng-class="{disabled: noIncrementHours()}" class="btn btn-link" ng-disabled="noIncrementHours()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-increment minutes"><a ng-click="incrementMinutes()" ng-class="{disabled: noIncrementMinutes()}" class="btn btn-link" ng-disabled="noIncrementMinutes()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-increment seconds"><a ng-click="incrementSeconds()" ng-class="{disabled: noIncrementSeconds()}" class="btn btn-link" ng-disabled="noIncrementSeconds()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n    <tr>\n      <td class="form-group uib-time hours" ng-class="{\'has-error\': invalidHours}">\n        <input type="text" placeholder="HH" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementHours()" ng-blur="blur()">\n      </td>\n      <td class="uib-separator">:</td>\n      <td class="form-group uib-time minutes" ng-class="{\'has-error\': invalidMinutes}">\n        <input type="text" placeholder="MM" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementMinutes()" ng-blur="blur()">\n      </td>\n      <td ng-show="showSeconds" class="uib-separator">:</td>\n      <td class="form-group uib-time seconds" ng-class="{\'has-error\': invalidSeconds}" ng-show="showSeconds">\n        <input type="text" placeholder="SS" ng-model="seconds" ng-change="updateSeconds()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementSeconds()" ng-blur="blur()">\n      </td>\n      <td ng-show="showMeridian" class="uib-time am-pm"><button type="button" ng-class="{disabled: noToggleMeridian()}" class="btn btn-default text-center" ng-click="toggleMeridian()" ng-disabled="noToggleMeridian()" tabindex="{{::tabindex}}">{{meridian}}</button></td>\n    </tr>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-decrement hours"><a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn btn-link" ng-disabled="noDecrementHours()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-decrement minutes"><a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn btn-link" ng-disabled="noDecrementMinutes()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-decrement seconds"><a ng-click="decrementSeconds()" ng-class="{disabled: noDecrementSeconds()}" class="btn btn-link" ng-disabled="noDecrementSeconds()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(t){t.put("uib/template/typeahead/typeahead-match.html",'<a href\n   tabindex="-1"\n   ng-bind-html="match.label | uibTypeaheadHighlight:query"\n   ng-attr-title="{{match.label}}"></a>\n')}]),angular.module("uib/template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(t){t.put("uib/template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li class="uib-typeahead-match" ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index, $event)" role="option" id="{{::match.id}}">\n        <div uib-typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),angular.module("ui.bootstrap.carousel").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibCarouselCss&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'),angular.$$uibCarouselCss=!0}),angular.module("ui.bootstrap.datepicker").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker .uib-title{width:100%;}.uib-day button,.uib-month button,.uib-year button{min-width:100%;}.uib-left,.uib-right{width:100%}</style>'),angular.$$uibDatepickerCss=!0}),angular.module("ui.bootstrap.position").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibPositionCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-position-measure{display:block !important;visibility:hidden !important;position:absolute !important;top:-9999px !important;left:-9999px !important;}.uib-position-scrollbar-measure{position:absolute !important;top:-9999px !important;width:50px !important;height:50px !important;overflow:scroll !important;}.uib-position-body-scrollbar-measure{overflow:scroll !important;}</style>'),angular.$$uibPositionCss=!0}),angular.module("ui.bootstrap.datepickerPopup").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerpopupCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker-popup.dropdown-menu{display:block;float:none;margin:0;}.uib-button-bar{padding:10px 9px 2px;}</style>'),angular.$$uibDatepickerpopupCss=!0}),angular.module("ui.bootstrap.tooltip").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTooltipCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-tooltip-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-bottom > .tooltip-arrow,[uib-popover-popup].popover.top-left > .arrow,[uib-popover-popup].popover.top-right > .arrow,[uib-popover-popup].popover.bottom-left > .arrow,[uib-popover-popup].popover.bottom-right > .arrow,[uib-popover-popup].popover.left-top > .arrow,[uib-popover-popup].popover.left-bottom > .arrow,[uib-popover-popup].popover.right-top > .arrow,[uib-popover-popup].popover.right-bottom > .arrow,[uib-popover-html-popup].popover.top-left > .arrow,[uib-popover-html-popup].popover.top-right > .arrow,[uib-popover-html-popup].popover.bottom-left > .arrow,[uib-popover-html-popup].popover.bottom-right > .arrow,[uib-popover-html-popup].popover.left-top > .arrow,[uib-popover-html-popup].popover.left-bottom > .arrow,[uib-popover-html-popup].popover.right-top > .arrow,[uib-popover-html-popup].popover.right-bottom > .arrow,[uib-popover-template-popup].popover.top-left > .arrow,[uib-popover-template-popup].popover.top-right > .arrow,[uib-popover-template-popup].popover.bottom-left > .arrow,[uib-popover-template-popup].popover.bottom-right > .arrow,[uib-popover-template-popup].popover.left-top > .arrow,[uib-popover-template-popup].popover.left-bottom > .arrow,[uib-popover-template-popup].popover.right-top > .arrow,[uib-popover-template-popup].popover.right-bottom > .arrow{top:auto;bottom:auto;left:auto;right:auto;margin:0;}[uib-popover-popup].popover,[uib-popover-html-popup].popover,[uib-popover-template-popup].popover{display:block !important;}</style>'),angular.$$uibTooltipCss=!0}),angular.module("ui.bootstrap.timepicker").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTimepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-time input{width:50px;}</style>'),angular.$$uibTimepickerCss=!0}),angular.module("ui.bootstrap.typeahead").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTypeaheadCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-typeahead-popup].dropdown-menu{display:block;}</style>'),angular.$$uibTypeaheadCss=!0})},{}],3:[function(t,e,i){t("./dist/ui-bootstrap-tpls"),e.exports="ui.bootstrap"},{"./dist/ui-bootstrap-tpls":2}]},{},[1]);var home=angular.module("app",["ngToast","ngSanitize","trackScroll","infinite-scroll","ui.bootstrap","helperService","filter-directives","location-list-item-directives","section-form-directive","ngRoute","facebookComments","ezfb","ui.bootstrap","duScroll","customFilters"]);home.config(["$routeProvider","$locationProvider",function(t,e){t.when("/",{redirectTo:function(t,e,i){return i["goto"]?"/"+i["goto"]:"/home"}}).when("/home",{templateUrl:"views/home/home.tpl.html"}).when("/new-location",{templateUrl:"views/new_location/submitpage.tpl.html"}).when("/location/:slug",{templateUrl:"views/location/location.tpl.html",controller:"LocationPageController"}).otherwise({redirectTo:"/home"}),e.html5Mode(!0)}]),home.config(["ezfbProvider",function(t){t.setInitParams({appId:"604556333018328",version:"v2.5"})}]),home.filter("removeSpaces",function(){return function(t){var e=t.replace(/\s+/g,"");return e}}),home.controller("LocationPageController",["ngToast","$scope","$rootScope","$q","helperService","$http","$routeParams","$location","$anchorScroll","$timeout","LocationsGetter",function(t,e,i,n,o,a,r,s,l,c,d){function p(t){a.get("api/get_attribute_options").then(function(t){var i=t.data;e.accommodations=i.accommodations,e.climbingTypes=i.climbing_types,e.months=i.months,e.grades=i.grades,e.foodOptions=i.food_options,e.transportations=i.transportations}).then(function(){_.forEach(t.accommodations,function(t){e.locationObj.accommodations[t.id]={id:t.id,cost:t.cost}}),e.locationObj.accommodationNotes=t.accommodation_notes,e.locationObj.closestAccommodation=t.closest_accommodation,_.forEach(t.transportations,function(t){e.locationObj.transportations[t.id]=!0}),t.best_transportation.id&&e.selectBestTransportation(t.best_transportation.id),t.best_transportation.cost&&e.selectBestTransportationCost(t.best_transportation.cost),e.locationObj.gettingInNotes=t.getting_in_notes,e.locationObj.walkingDistance=t.walking_distance,_.forEach(t.food_options,function(t){e.locationObj.foodOptions[t.id]=!0,t.cost&&e.selectFoodOptionDetail(t.id,t.cost)}),e.locationObj.commonExpensesNotes=t.common_expenses_notes,e.locationObj.savingMoneyTips=t.saving_money_tip})}slug=r.slug;var u="Your edit has been submitted and will be approved by a moderator shortly!";e.name="hello",e.gmap,e.nearbyShow=!1,e.editingAccommodation=!1,e.editingGettingIn=!1,e.editingFoodOptions=!1,e.helperService=o,o.setAirportApiKey(),e.getAirport=function(t,i,n,a){o.originAirportCode=t.iata,o.originAirport=t.name,d.getFlightQuotes([e.locationData.slug],o.originAirportCode).then(function(t){c(function(){setLocationHighchart(t,o.originAirportCode)})})},e.toggleEditAccommodation=function(){e.editingAccommodation=!e.editingAccommodation},e.toggleEditGettingIn=function(){e.editingGettingIn=!e.editingGettingIn},e.toggleEditFoodOptions=function(){e.editingFoodOptions=!e.editingFoodOptions};var h={previewOff:!1,newSection:!0,title:"",body:"",subsections:[{title:"",subsectionDescriptions:[{desc:""}]}]};h.clone=function(){return jQuery.extend(!0,{},this)},e.emptySection={previewOff:!1,newSection:!0,title:"",body:"",subsections:[{title:"",subsectionDescriptions:[{desc:""}]}]},e.scrollTo=function(t){$("html,body").animate({scrollTop:$("#"+t.replace(/\s+/g,"")).offset().top},1e3)},a.get("api/location/"+slug).then(function(t){200==t.status&&(t=t.data,e.longitude=t.location.longitude,e.latitude=t.location.latitude,e.sections=t.sections,e.tableOfContents=processTableContents(e.sections),e.locationData=t.location,e.nearby=t.nearby,e.gmap=createMap("map-canvas",e.latitude,e.longitude,4),addCloseLocations(e.gmap,t.nearby),addMarker(e.gmap,e.latitude,e.longitude,t.location.title,"<p>"+t.location.title+"</p>",!1),p(e.locationData),d.getFlightQuotes([e.locationData.slug],o.originAirportCode).then(function(t){c(function(){setLocationHighchart(t,o.originAirportCode)})}))}),e.toggleNearby=function(){e.nearbyShow=!e.nearbyShow},e.locationObj={submitter_email:"",name:"",country:"",continent:"",airport:"",price_floor:"",price_ceiling:"",months:{},accommodations:{},climbingTypes:{},grades:"",sections:[],closestAccommodation:"<1 mile",foodOptions:{},transportations:{},foodOptionDetails:{}},e.submitAccommodationChanges=function(){e.saving||($(".submit-button").addClass("disabled"),e.saving=!0,a.post("api/locations/"+e.locationData.id+"/accommodations",{location:e.locationObj}).then(function(i){200==i.status&&a.get("api/location/"+slug).then(function(i){e.locationData.accommodations=i.data.location.accommodations,e.locationData.accommodation_notes=i.data.location.accommodation_notes,e.locationData.closest_accommodation=i.data.location.closest_accommodation,e.toggleEditAccommodation(),t.create({additionalClasses:"climbcation-toast",content:u})}),e.saving=!1,$(".submit-button").removeClass("disabled")}))},e.selectAccommodation=function(t){var i=e.locationObj.accommodations[t.id];i?e.locationObj.accommodations[i.id]=null:e.locationObj.accommodations[t.id]={id:t.id,cost:""}},e.submitGettingInChanges=function(){e.saving||($(".submit-button").addClass("disabled"),e.saving=!0,a.post("api/locations/"+e.locationData.id+"/gettingin",{location:e.locationObj}).then(function(i){
200==i.status&&a.get("api/location/"+slug).then(function(i){e.locationData.transportations=i.data.location.transportations,e.locationData.getting_in_notes=i.data.location.getting_in_notes,e.locationData.best_transportation=i.data.location.best_transportation,e.locationData.walking_distance=i.data.location.walking_distance,e.toggleEditGettingIn(),t.create({additionalClasses:"climbcation-toast",content:u})}),$(".submit-button").removeClass("disabled"),e.saving=!1}))},e.selectBestTransportation=function(t){e.locationObj.bestTransportationId=t,e.locationObj.bestTransportationCost=null;var i=_.find(e.transportations,function(e){return e.id==t});e.bestTransportationName=i.name,e.bestTransportationCostOptions=[],_.forEach(i.ranges,function(t){var i={cost:t,active:!1};e.bestTransportationCostOptions.push(i)})},e.selectBestTransportationCost=function(t){_.forEach(e.bestTransportationCostOptions,function(i){i.active=!1,i.cost!=t&&i.cost!=t.cost||(i.active=!0,e.locationObj.bestTransportationCost=t.cost||t)})},e.submitFoodOptionsChanges=function(){e.saving||($(".submit-button").addClass("disabled"),e.saving=!0,a.post("api/locations/"+e.locationData.id+"/foodoptions",{location:e.locationObj}).then(function(i){200==i.status&&a.get("api/location/"+slug).then(function(i){e.locationData.food_options=i.data.location.food_options,e.locationData.common_expenses_notes=i.data.location.common_expenses_notes,e.locationData.saving_money_tip=i.data.location.saving_money_tip,e.toggleEditFoodOptions(),t.create({additionalClasses:"climbcation-toast",content:u})}),$(".submit-button").removeClass("disabled"),e.saving=!1}))},e.selectFoodOptionDetail=function(t,i){e.locationObj.foodOptionDetails[t]={},e.locationObj.foodOptionDetails[t].id=t,e.locationObj.foodOptionDetails[t].cost=i},e.cleanFoodOptionDetails=function(){_.forEach(e.locationObj.foodOptions,function(t,i){t?e.locationObj.foodOptionDetails[i]||(e.locationObj.foodOptionDetails[i]={},e.locationObj.foodOptionDetails[i].id=i,e.locationObj.foodOptionDetails[i].cost=null):e.locationObj.foodOptionDetails[i]=null})},e.addSection=function(){e.sections["new"]={title:"",body:"",previewOff:!0}},e.stopPropagation=function(t){t.stopPropagation()}}]),home.controller("LocationsController",["$rootScope","$scope","$timeout","LocationsGetter","$location","$document","$http","helperService",function(t,e,i,n,o,a,r,s){e.locationData=[],e.LocationsGetter=n,e.slugArray=[],e.helperService=s,n.locations=n.locations||[],s.setAirportApiKey(),n.locations.length>0&&(n.locations=[],n.clearFilters(),n.setFilterTimer(0)),e.getAirportPrices=function(i,o,a,r){s.originAirportCode=i.iata,t.loadingQuotes=!0,_.forEach(e.locationData,function(t){t.lowestPrice={}}),n.getFlightQuotes(e.slugArray,i.iata,function(){e.loadingQuotes=!1})},e.$watch("LocationsGetter.flightQuotes",function(){_.forEach(e.locationData,function(t){t.lowestPrice={}}),_.forEach(n.flightQuotes,function(t,i){var n=t.id,o=_.find(e.locationData,function(t){return t.location.id==n});o.referral=t.referral;var a=9999999,r="";_.forEach(t.quotes,function(t,e){_.forEach(t,function(t,i){a>t&&(a=t,r=e+"/"+i)})}),o.lowestPrice={},o.lowestPrice.date=r,o.lowestPrice.cost=a}),i(function(){setHighcharts(n.flightQuotes,s.originAirportCode)})}),e.$watch("LocationsGetter.locations.length",function(){e.locationData=n.locations,e.slugArray=[],_.forEach(e.locationData,function(t,i){e.slugArray.push(t.slug)}),e.loadingQuotes=!0,n.getFlightQuotes(e.slugArray,s.originAirportCode,function(){e.loadingQuotes=!1})}),e.goToFilter=function(){var t=angular.element(document.getElementById("filter"));a.scrollToElement(t,0,500)}}]),home.controller("MapFilterController",["$rootScope","$scope","LocationsGetter","$timeout","$window",function(t,e,i,n,o){var a;a=o.innerWidth<768?"mapFilterMobile":"mapFilter",e.mapFilterEnabled=!0,t.filterMap=createMap(a,70,-160,2),i.markerMap={},t.filterMap.addListener("dragend",function(){i.mapFilter.northeast.longitude=t.filterMap.getBounds().getNorthEast().lng(),i.mapFilter.northeast.latitude=t.filterMap.getBounds().getNorthEast().lat(),i.mapFilter.southwest.longitude=t.filterMap.getBounds().getSouthWest().lng(),i.mapFilter.southwest.latitude=t.filterMap.getBounds().getSouthWest().lat(),e.mapFilterEnabled&&i.setFilterTimer(1.5)}),t.filterMap.addListener("zoom_changed",function(){r?r=!1:(i.mapFilter.northeast.longitude=t.filterMap.getBounds().getNorthEast().lng(),i.mapFilter.northeast.latitude=t.filterMap.getBounds().getNorthEast().lat(),i.mapFilter.southwest.longitude=t.filterMap.getBounds().getSouthWest().lng(),i.mapFilter.southwest.latitude=t.filterMap.getBounds().getSouthWest().lat(),e.mapFilterEnabled&&i.setFilterTimer(1.5))});var r=!0;e.$watch("LocationsGetter.unpaginatedLocations.length",function(){if(0!=i.unpaginatedLocations.length&&(t.filterMap.removeMarkers(),i.markerMap={},$.each(i.unpaginatedLocations,function(){i.markerMap[this.slug]=addMarker(t.filterMap,this.latitude,this.longitude,this.name,'<p><a href="/location/'+this.slug+'">'+this.name+"</a></p>",!0),i.markerMap[this.slug].setOptions({opacity:.5})}),r&&"mapFilter"==a)){var e=new google.maps.LatLngBounds(new google.maps.LatLng(85,(-180)),new google.maps.LatLng((-85),180)),n=5,o=e.getNorthEast().lat()-n,s=e.getNorthEast().lng()-n,l=e.getSouthWest().lat()+n,c=e.getSouthWest().lng()+n,d=new google.maps.LatLng(o,s),p=new google.maps.LatLng(l,c);boundsNew=new google.maps.LatLngBounds,boundsNew.extend(d),boundsNew.extend(p),t.filterMap.fitBounds(e)}})}]),home.factory("LocationsGetter",["$q","$http","$timeout",function(t,e,i){var n={};n.flightQuotes=null;var o={};n.locations=[],n.unpaginatedLocations=[],n.pageNum=1,n.filterTimer=null,n.mapFilter={},n.markerMap={},n.filter=o,n.scrollLock=!1,o.climbing_types=[],o.grades={},o.accommodations=[],o.continents=[],o.price_max=[],o.sort=[],o.search="",o.start_month=1,o.end_month=12,n.mapFilter.northeast={},n.mapFilter.northeast.longitude=null,n.mapFilter.northeast.latitude=null,n.mapFilter.southwest={},n.mapFilter.southwest.longitude=null,n.mapFilter.southwest.latitude=null,n.loading=!1;var a={};return a.price=[],a.grade=[],n.setFilterTimer=function(t){n.cancelFilterTimer(),n.filterTimer=i(function(){n.pageNum=1,n.locations=[],n.getNextPage()},1e3*t)},n.cancelFilterTimer=function(){n.filterTimer&&i.cancel(n.filterTimer)},n.clearFilters=function(){this.mapFilter={},this.markerMap={},this.pageNum=1,o.climbing_types=[],o.grades={},o.accommodations=[],o.continents=[],o.price_max=[],o.sort=[],o.search="",o.start_month=1,o.end_month=12,this.mapFilter.northeast={},this.mapFilter.northeast.longitude=null,this.mapFilter.northeast.latitude=null,this.mapFilter.southwest={},this.mapFilter.southwest.longitude=null,this.mapFilter.southwest.latitude=null,this.loading=!1,a.price=[],a.grade=[]},n.toggleFilterButton=function(t,e,i){toggleButtonActive(angular.element(t.currentTarget)),angular.element(t.currentTarget).blur(),"sort"!=i&&$.inArray(i,o[e])!=-1?o[e].splice($.inArray(i,o[e]),1):"All"==i?(o[e]=[],resetButtonsGroup(angular.element(t.currentTarget).parent())):(o[e].push(i),inactivateGroupAll(angular.element(t.currentTarget).parent()),"sort"==e&&(resetButtonsGroup(angular.element(t.currentTarget).parent()),toggleButtonActive(angular.element(t.currentTarget)),inactivateGroupAll(angular.element(t.currentTarget).parent()))),n.setFilterTimer(1)},n.filterByMonth=function(t,e){o.start_month=t,o.end_month=e,n.setFilterTimer(1.5)},n.filterByGrade=function(t,e){null==e?delete o.grades[t]:o.grades[t]=e,n.setFilterTimer(1)},n.filterByQuery=function(t){o.search=t,n.setFilterTimer(0)},n.getFlightQuotes=function(t,i,o){return e.post("/api/collect_locations_quotes",{slugs:t,origin_airport:i}).then(function(t){return n.flightQuotes=t.data,o&&o(),t.data})},n.getNextPage=function(){return n.scrollLock=!0,n.getLocations().then(function(t){return n.pageNum++,n.scrollLock=!1,t})},n.setSorting=function(t,e){"distance"==t?navigator.geolocation.getCurrentPosition(function(t){n.myLat=t.coords.latitude,n.myLong=t.coords.longitude,o.sort={distance:{latitude:n.myLat,longitude:n.myLong}},n.setFilterTimer(0)},function(){console.error("error getting location(probably blocked)"),alert("Need location permission to sort by distance, if you arent given the option to grant permission, it is probably because your browser doesnt support non-ssl geolocation requests... the webmaster is a cheap bastardand doesnt want to spend $20/mo, go to https://climbcation.herokuapp.com and it should work just fine")}):(o.sort={},o.sort[t]={asc:e},n.setFilterTimer(0))},n.getLocations=function(){return n.loading=!0,e.post("/api/filter_locations",{filter:o,mapFilter:n.mapFilter,page:n.pageNum}).then(function(t){n.loading=!1,t.data.unpaginated.length!=n.unpaginatedLocations.length&&0!=t.data.unpaginated.length&&(n.unpaginatedLocations=t.data.unpaginated);var e=t.data.paginated;return n.locations||(n.locations=[]),$.each(e,function(t,e){var i=_.find(n.locations,function(t){return t.id==e.id});!i&&n.locations.push(e)}),0==_.size(e)?n.scrollEnded=!0:n.scrollEnded=!1,t.data})},n}]);var helperService=angular.module("helperService",[]);helperService.service("helperService",["$rootScope","$http",function(t,e){this.setAirportApiKey=function(){var t=this;return t.airportApiKey?Promise.resolve(null):e.get("/api/airportsapikey").then(function(e){return t.airportApiKey=e.data,e})},this.cleanFalses=function(t){var e={};return _.forEach(t,function(t,i){t&&(e[i]=!0)}),e},this.loadingAirports=!1,this.getAirports=function(t){var i=this;return i.loadingAirports=!0,Promise.resolve(i.airportApiKey||i.setAirportApiKey()).then(function(){return e.jsonp("https://www.air-port-codes.com/search/?callback=JSON_CALLBACK&limit=5&key="+i.airportApiKey+"&term="+encodeURIComponent(t).replace(/'/g,"").replace(/%20/g,"+")).then(function(t){return i.loadingAirports=!1,t.data.airports.map(function(t){return{name:t.name,iata:t.iata}})})})},this.originAirport="Denver International Airport",this.originAirportCode="DEN"}]);var filters=angular.module("customFilters",[]);filters.filter("gradeFilter",function(){return function(t,e){return t=t.filter(function(t){return t.type.id==e})}}),filters.filter("parseUrlFilter",["$sce",function(t){var e=/(http|ftp|https):\/\/[\w-]+(\.[\w-]+)+([\w.,@?^=%&amp;:\/~+#-]*[\w@?^=%&amp;\/~+#-])?/gi;return function(i,n){return t.trustAsHtml(i.replace(e,'<a target="'+n+'" href="$&">$&</a>'))}}]),filters.filter("reverse",function(){return function(t){return t.slice().reverse()}}),filters.filter("bestTransportationOptions",function(){return function(t,e){var i=[];_.forEach(e,function(t,e){t&&i.push(e)});var n=_.filter(t,function(t){return i.indexOf(t.id.toString())>-1});return n}}),filters.filter("selectedFoodOptions",function(){return function(t,e){var i=[];_.forEach(e,function(t,e){t&&i.push(e)});var n=_.filter(t,function(t){return i.indexOf(t.id.toString())>-1});return n}}),filters.filter("accommodationChosen",function(){return function(t,e){var i=_.find(t,function(t){return t&&e.id==t.id});return Boolean(i)}}),angular.module("trackScroll",[]).directive("trackScroll",function(){function t(t,i){e.scrollTop>=i.trackScroll?t.addClass("fixed"):t.removeClass("fixed")}var e=document.body;return{restrict:"A",link:function(e,i,n){angular.element(document).on("scroll",function(){t(i,n)})}}});var facebookComments=angular.module("facebookComments",[]);facebookComments.directive("dynFbCommentBox",function(){function t(t,e,i){return'<div class="fb-comments" data-href="'+t+'" data-numposts="'+e+'" data-width="'+i+'"></div>'}return{restrict:"A",scope:{},link:function(e,i,n){n.$observe("pageHref",function(e){var o=e,a=n.numposts||5,r=n.progwidth;i.html(t(o,a,r)),FB.XFBML.parse(i[0])})}}});var filterDir=angular.module("filter-directives",[]);filterDir.directive("filter",function(){return{restrict:"E",templateUrl:"features/filter/filter.tpl.html",controller:["$http","$window","$timeout","$scope","$rootScope","LocationsGetter","helperService",function(t,e,i,n,o,a,r){var s=this;n.endMonth=12,n.startMonth=1,n.endMonthName="December",n.startMonthName="January",n.gradeFilter={},n.setGradeFilter=function(t,e){if(console.log(t,e,s),"all"==e){delete n.gradeFilter[t.id];var i=null}else{n.gradeFilter[t.id]=e;var o=s.grades[t.name].grades.indexOf(e),i=s.grades[t.name].grades.slice(0,o+1);i=i.map(function(t){return t.id})}a.filterByGrade(t.id,i)},n.$watch("endMonth",function(t,e){t!=e&&a.filterByMonth(n.startMonth,n.endMonth)}),n.$watch("startMonth",function(t,e){t!=e&&a.filterByMonth(n.startMonth,n.endMonth)}),this.loading=!0,t.get("/api/filters").success(function(t){s.climbTypes=t.climbTypes,s.accommodations=t.accommodations,s.grades=t.grades}),n.toggleMapFilter=function(){n.mapFilterShown=!n.mapFilterShown,i(function(){n.mapFilterShown&&o.filterMap.refresh()})},n.toggleFilters=function(){n.filtersShown=!n.filtersShown},n.clearPristine=function(){"Denver International Airport"==r.originAirport&&(r.originAirport="")},e.innerWidth<768?n.mobile=!0:n.mobile=!1}],controllerAs:"filter"}});var locationListItemDir=angular.module("location-list-item-directives",[]);locationListItemDir.directive("location",function(){return{restrict:"E",templateUrl:"common/directives/location_list_item/location_list_item.tpl.html",controller:"LocationListItemController"}}),locationListItemDir.controller("LocationListItemController",["$scope","$element","LocationsGetter",function(t,e,i){$(e).mouseenter(function(){i.markerMap[t.locationData.slug].setOptions({opacity:1})}),$(e).mouseleave(function(){i.markerMap[t.locationData.slug].setOptions({opacity:.5})})}]);var sectionForm=angular.module("section-form-directive",["ngFileUpload","location-other-section-directives"]),locationNames;sectionForm.directive("sectionform",["$http",function(t){return{restrict:"E",templateUrl:"common/directives/section_form/section_form.tpl.html",controller:"SectionFormController"}}]),sectionForm.controller("SectionFormController",["$sce","$scope","$q","$http","Upload","$location","helperService","$route","$timeout",function(t,e,i,n,o,a,r,s,l){e.locationObj={submitter_email:"",name:"",country:"",continent:"",airport:"",price_floor:"",price_ceiling:"",months:{},accommodations:{},climbingTypes:{},grade:{},sections:[],closestAccommodation:""};var c={previewOff:!0,title:"",body:""};e.existMessage="This location already exists. If you would like to edit it, please find it on the home page and edit it there",e.helperService=r,r.setAirportApiKey(),e.accommodations=[],e.climbingTypes=[],e.months=[],e.grades=[],e.existingLocations=[],e.currentPage=1,e.progressBar,e.locationObj.foodOptionDetails={},n.get("api/location/name/all").then(function(t){locationNames=t.data}),e.DICE_THRESHOLD=.75,e.diceCalc=function(){e.diceDistanceNum=0,_.forEach(locationNames,function(t){var i=clj_fuzzy.metrics.dice(t[0].toLowerCase(),e.locationObj.name.toLowerCase());i>e.diceDistanceNum&&(e.diceDistanceNum=i)})};var d={};e.existsMessage=function(){var i=_.find(locationNames,function(t){return t[0].toLowerCase()==e.locationObj.name.toLowerCase()||clj_fuzzy.metrics.dice(t[0].toLowerCase(),e.locationObj.name.toLowerCase())>e.DICE_THRESHOLD});return i&&d.existingLocation!=i[0]?(d.existingLocation=i[0],d.html=t.trustAsHtml("Did you mean "+d.existingLocation+'? <a class="btn btn-climbcation" href="/location/'+i[1]+'">Click here to edit it!</a>')):d.html},e.getAirport=function(t,i,n,o){e.locationObj.airportName=t.name,e.locationObj.airport=t.iata},e.getIconUrl=function(t){var i;if(t==e.currentPage)return"/images/location-icon.png";if(t>e.currentPage)return"";if(t<e.currentPage){switch(t){case 1:i=e.generalComplete()?"/images/check-icon.png":"/images/x-icon.png";break;case 2:i=e.gettingInComplete()?"/images/check-icon.png":"/images/warning-icon.png";break;case 3:i=e.accommodationComplete()?"/images/check-icon.png":"/images/warning-icon.png";break;case 4:i=e.costComplete()?"/images/check-icon.png":"/images/warning-icon.png";break;case 5:i="/images/check-icon.png";break;case 6:i="/images/check-icon.png"}return i}},e.generalComplete=function(){var t=r.cleanFalses(e.locationObj.climbingTypes),i=r.cleanFalses(e.locationObj.months),n=""!=e.locationObj.name,o=""!=e.locationObj.price_floor,a=""!=e.locationObj.price_ceiling,s=!0;_.forEach(e.locationObj.climbingTypes,function(t,i){t&&!e.locationObj.grade[i]&&(s=!1)});var l=_.size(t)>0,c=_.size(i)>0;return!!(n&&o&&a&&s&&l&&c)},e.gettingInComplete=function(){return Boolean(e.locationObj.bestTransportationCost)},e.accommodationComplete=function(){return _.size(e.locationObj.accommodations)>0},e.costComplete=function(){return _.size(e.locationObj.foodOptionDetails)>0},e.stopPropagation=function(t){t.stopPropagation()},e.selectAccommodation=function(t){var i=e.locationObj.accommodations[t.id];i?e.locationObj.accommodations[i.id]=null:e.locationObj.accommodations[t.id]={id:t.id,cost:""}},e.selectDailyExpenditures=function(t,i){e.locationObj.price_floor=t,e.locationObj.price_ceiling=i},e.selectFoodOptionDetail=function(t,i){e.locationObj.foodOptionDetails[t]={},e.locationObj.foodOptionDetails[t].id=t,e.locationObj.foodOptionDetails[t].cost=i},e.cleanFoodOptionDetails=function(){_.forEach(e.locationObj.foodOptions,function(t,i){t?e.locationObj.foodOptionDetails[i]||(e.locationObj.foodOptionDetails[i]={},e.locationObj.foodOptionDetails[i].id=i,e.locationObj.foodOptionDetails[i].cost=null):e.locationObj.foodOptionDetails[i]=null})},e.selectBestTransportation=function(t){e.locationObj.bestTransportationId=t,e.locationObj.bestTransportationCost=null;var i=_.find(e.transportations,function(e){return e.id==t});e.bestTransportationName=i.name,e.bestTransportationCostOptions=[],_.forEach(i.ranges,function(t){var i={cost:t,active:!1};e.bestTransportationCostOptions.push(i)})},e.selectBestTransportationCost=function(t){_.forEach(e.bestTransportationCostOptions,function(t){t.active=!1}),t.active=!0,e.locationObj.bestTransportationCost=t.cost},e.nextPage=function(){e.currentPage<6&&(e.currentPage++,e.updateProgressBar())},e.prevPage=function(){e.currentPage>1&&(e.currentPage--,e.updateProgressBar())},e.changePage=function(t){e.currentPage=t,e.updateProgressBar()},e.updateProgressBar=function(){switch(e.currentPage){case 1:e.progressBar=8.35;break;case 2:e.progressBar=25;break;case 3:e.progressBar=41.7;break;case 4:e.progressBar=58.35;break;case 5:e.progressBar=75;break;case 6:e.progressBar=100}},e.updateProgressBar(),e.$watch("locationForm.$valid",function(){}),c.clone=function(){return jQuery.extend(!0,{},this)},e.locationObj.sections.push(c.clone()),n.get("api/get_attribute_options").then(function(t){var i=t.data;e.accommodations=i.accommodations,e.climbingTypes=i.climbing_types,e.months=i.months,e.grades=i.grades,e.foodOptions=i.food_options,e.transportations=i.transportations}),e.findClimbingType=function(t){return e.climbingTypes.find(function(e){return t==e.id})},e.closeSuccessModal=function(){$("#successModal").modal("hide"),a.path("#home")},e.saveSection=function(t){if(t){e.locationObj.sections.push(c.clone());var i=e.locationObj.sections.length;e.locationObj.sections[i-2]=t}else e.locationObj.sections.push(c.clone())},e.removeSection=function(t){var i=e.locationObj.sections;index=i.indexOf(t),i.splice(index,1)},e.submitEmail=function(){n.post("api/locations/"+e.locationId+"/email",{email:e.locationObj.submitterEmail}).then(function(t){e.emailThankYou=!0})},e.submitLocation=function(){if(e.generalComplete()){if(!e.loading){var t=e.locationObj.grade;e.locationObj.grade=[],_.forEach(t,function(t){e.locationObj.grade.push(t.id)}),$("#publish-button").addClass("disabled"),e.loading=!0,n.post("api/submit_new_location",{location:e.locationObj}).then(function(i){200==i.status?(e.nextPage(),e.locationId=i.data.id,e.locationSlug=i.data.slug):console.log("error submitting locationSection"),e.locationObj.grade=t,$("#publish-button").removeClass("disabled"),e.loading=!1})}}else $("#errorModal").modal()},e.startNewLocation=function(){l(function(){s.reload()},0)}}]),sectionForm.directive("validationMessage",function(){return{restrict:"A",template:'<input tooltip tooltip-placement="bottom" >',replace:!0,require:"ngModel",link:function(t,e,i,n){n.$parsers.unshift(function(e){var o=n.$valid;return o?i.$set("tooltip",""):(i.$set("tooltip",i.validationMessage),t.tt_isOpen=!0),e})}}}),sectionForm.directive("locationExists",["$http",function(t){return{require:"ngModel",link:function(t,e,i,n){n.$validators.locationExists=function(t,e){if(n.$isEmpty(t))return!1;var i=_.find(locationNames,function(t){return t[0].toLowerCase()==e.toLowerCase()});return i?(n.$setValidity("valid",!1),!1):(n.$setValidity("valid",!0),!0)}}}}]),sectionForm.directive("integer",function(){var t=/^\-?\d+$/;return{require:"ngModel",link:function(e,i,n,o){o.$validators.integer=function(e,i){return!o.$isEmpty(e)&&(t.test(i)?(o.$setValidity("valid",!0),!0):(o.$setValidity("invalid",!1),!1))}}}});var locationOtherSection=angular.module("location-other-section-directives",["ngToast"]);locationOtherSection.controller("locationOtherSectionController",["$scope","$http","ngToast",function(t,e,i){t.togglePreview=function(t){t.previewOff=!t.previewOff},t.saveChanges=function(){t.section.isSaving||(t.section.isSaving=!0,e.post("api/locations/"+t.locationId+"/sections",{locationId:t.locationId,section:{id:t.section.id,title:t.section.title,body:t.section.body}}).then(function(e){200==e.status&&(e.data.new_id?t.section.id=e.data.new_id:i.create({additionalClasses:"climbcation-toast",content:"Your edit has been submitted and will be approved by a moderator shortly!"}),t.oldBody=t.section.body,t.oldTitle=t.section.title,t.togglePreview(t.section),t.section.isSaving=!1)}))},t.oldBody=t.section.body,t.oldTitle=t.section.title}]),locationOtherSection.directive("locationothersection",function(){return{restrict:"E",scope:{editable:"=",locationId:"=",section:"=",sectionsLength:"=",indexIterator:"=",saveSection:"&",removeSection:"&"},templateUrl:"common/directives/location_other_section/location_other_section.tpl.html",controller:"locationOtherSectionController"}}),angular.module("app").run(["$templateCache",function(t){t.put("views/airport_autocomplete.tpl.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" role="listbox" aria-hidden="{{!isOpen()}}" ng-class="{\'display-block\': isOpen()}"><li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index, $event)" role="option" id="{{::match.id}}" data="{{match}}"><a href="" tabindex="-1" ng-bind-html="match.label | uibTypeaheadHighlight:query" ng-attr-title="{{match.label}}"></a></li></ul>'),t.put("views/airport_match.tpl.html",'<a href="" tabindex="-1" ng-bind-html="match.label | uibTypeaheadHighlight:query" ng-attr-title="{{match.label}}"></a>'),t.put("views/popover.tpl.html","<div>This location already exists. If you would like to edit it, please find it on the home page and edit it there</div>"),t.put("features/filter/filter.tpl.html",'<section class="filter visible-xs" track-scroll="150" ng-class="{\'full-screen\': mapFilterShown || filtersShown}"><div class="row filter-banner"><div class="col-xs-3" ng-if="!mapFilterShown && !filtersShown" ng-click="toggleFilters()"><div class="btn btn-climbcation">Filter</div></div><div class="col-xs-offset-3 col-xs-3" ng-if="!mapFilterShown && !filtersShown" ng-click="toggleMapFilter()"><div class="btn btn-climbcation">Open Map Filter</div></div><div class="col-xs-3" ng-if="filtersShown" ng-click="toggleFilters()"><div class="btn btn-climbcation">Close Filters</div></div><div class="col-xs-offset-6 col-xs-3" ng-if="mapFilterShown" ng-click="toggleMapFilter()"><div class="btn btn-climbcation">Close Map Filter</div></div></div><div ng-show="filtersShown"><div class="col-md-9"><div class="row col-md-offset-4"><h4 class="text-center">Select the relevant criteria to find your perfect climbing trip</h4></div><div class="row bottom-padding"><div class="col-md-5"><label>Your Local Airport<span class="gray">(get flight prices!)</span></label><div class="airport-wrapper"><input class="form-control" type="text" ng-model="helperService.originAirport" ng-trim="true" ng-click="clearPristine()" typeahead-min-length="3" typeahead-wait-ms="500" uib-typeahead="airport.name for airport in helperService.getAirports($viewValue)" typeahead-popup-template-url="views/airport_autocomplete.tpl.html" typeahead-on-select="getAirportPrices($item, $model, $label, $event)"><div class="loading-airports" ng-if="helperService.loadingAirports"><img src="/images/climbcation-loading.gif"></div></div></div><div class="col-md-4"><label>Keyword Search</label> <input type="text" class="form-control" ng-model="searchQuery" ng-trim="true" ng-change="LocationsGetter.filterByQuery(searchQuery)" ng-model-options="{ debounce: 500 }" placeholder="ex. beach"></div><div class="col-md-3"><label>Time</label> <span class="dropdown"><button class="btn btn-default dropdown-toggle" type="button" id="startMonth" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">{{startMonthName | limitTo: 3}} <span class="caret"></span></button><ul class="dropdown-menu" aria-labelledby="startMonth"><li><a ng-click="startMonth = 1; startMonthName = \'January\'">January</a></li><li><a ng-click="startMonth = 2; startMonthName = \'February\'">February</a></li><li><a ng-click="startMonth = 3; startMonthName = \'March\'">March</a></li><li><a ng-click="startMonth = 4; startMonthName = \'April\'">April</a></li><li><a ng-click="startMonth = 5; startMonthName = \'May\'">May</a></li><li><a ng-click="startMonth = 6; startMonthName = \'June\'">June</a></li><li><a ng-click="startMonth = 7; startMonthName = \'July\'">July</a></li><li><a ng-click="startMonth = 8; startMonthName = \'August\'">August</a></li><li><a ng-click="startMonth = 9; startMonthName = \'September\'">September</a></li><li><a ng-click="startMonth = 10; startMonthName = \'October\'">October</a></li><li><a ng-click="startMonth = 11; startMonthName = \'November\'">November</a></li><li><a ng-click="startMonth = 12; startMonthName = \'December\'">December</a></li></ul></span> <span class="text-gray">To</span> <span class="dropdown"><button class="btn btn-default dropdown-toggle" type="button" id="endMonth" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true" ng-click="LocationsGetter.cancelFilterTimer()">{{endMonthName | limitTo: 3}} <span class="caret"></span></button><ul class="dropdown-menu" aria-labelledby="endMonth"><li><a ng-click="endMonth = 1; endMonthName = \'January\'">January</a></li><li><a ng-click="endMonth = 2; endMonthName = \'February\'">February</a></li><li><a ng-click="endMonth = 3; endMonthName = \'March\'">March</a></li><li><a ng-click="endMonth = 4; endMonthName = \'April\'">April</a></li><li><a ng-click="endMonth = 5; endMonthName = \'May\'">May</a></li><li><a ng-click="endMonth = 6; endMonthName = \'June\'">June</a></li><li><a ng-click="endMonth = 7; endMonthName = \'July\'">July</a></li><li><a ng-click="endMonth = 8; endMonthName = \'August\'">August</a></li><li><a ng-click="endMonth = 9; endMonthName = \'September\'">September</a></li><li><a ng-click="endMonth = 10; endMonthName = \'October\'">October</a></li><li><a ng-click="endMonth = 11; endMonthName = \'November\'">November</a></li><li><a ng-click="endMonth = 12; endMonthName = \'December\'">December</a></li></ul></span></div></div><div class="row"><div class="col-md-5"><label>Climbing Type</label><div class="btn-group btn-group-sm btn-group-filter" data="climbing_types" role="group"><button ng-click="LocationsGetter.toggleFilterButton($event,\'climbing_types\',\'All\' )" type="button" class="filter-button btn btn-lg btn-default active all">All</button> <button ng-click="LocationsGetter.toggleFilterButton($event,\'climbing_types\',name )" ng-repeat="(name,climbType) in filter.climbTypes" type="button" class="filter-button btn btn-lg btn-default" data="{{ name }}">{{name}}</button></div></div><div class="col-md-4"><label>Lodging Type</label><div class="btn-group btn-group-sm btn-group-filter" data="Lodging" role="group"><button ng-click="LocationsGetter.toggleFilterButton($event,\'accommodations\',\'All\' )" type="button" class="filter-button btn btn-lg btn-default active all" data="all">All</button> <button ng-click="LocationsGetter.toggleFilterButton($event,\'accommodations\',id )" ng-repeat="(name,id) in filter.accommodations" type="button" class="filter-button btn btn-lg btn-default" data="{{ name }}">{{name}}</button></div></div><div class="col-md-3"><label>What is the hardest grade you\'re looking for?</label><div class="btn-group grade-filter-button" ng-repeat="type in filter.grades"><button type="button" class="filter-button btn btn-xs btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">{{gradeFilter[type.type.id].grade || type.type.name}} <span class="caret"></span></button><ul class="dropdown-menu"><li ng-click="setGradeFilter(type.type, \'all\')"><a>All {{type.type.name}} Grades</a></li><li ng-repeat="grade in type.grades" ng-click="setGradeFilter(type.type, grade)"><a>{{grade.grade}}</a></li></ul></div></div></div></div></div><div ng-show="mapFilterShown"><div ng-controller="MapFilterController" class="row" ng-if="mobile"><div id="mapFilterMobile" class="mapFilter"></div></div></div></section><section class="filter hidden-xs"><div class="container-fluid"><div class="col-md-9"><div class="row col-md-offset-4"><h4 class="text-center">Select the relevant criteria to find your perfect climbing trip</h4><h5 class="text-center"><strong>(results will update automatically based on your selection)</strong></h5></div><div class="row bottom-padding"><div class="col-md-5"><label>What do you want to climb?</label><div class="btn-group btn-group-sm btn-group-filter" data="climbing_types" role="group"><button ng-click="LocationsGetter.toggleFilterButton($event,\'climbing_types\',\'All\' )" type="button" class="filter-button btn btn-lg btn-default active all">All</button> <button ng-click="LocationsGetter.toggleFilterButton($event,\'climbing_types\',name )" ng-repeat="(name,climbType) in filter.climbTypes" type="button" class="filter-button btn btn-lg btn-default" data="{{ name }}">{{name}}</button></div></div><div class="col-md-4"><label>Your Local Airport<span class="gray">(get flight prices!)</span></label><div class="airport-wrapper"><input class="form-control" type="text" ng-model="helperService.originAirport" ng-click="clearPristine()" ng-trim="true" typeahead-min-length="3" typeahead-wait-ms="100" uib-typeahead="airport.name for airport in helperService.getAirports($viewValue)" typeahead-popup-template-url="views/airport_autocomplete.tpl.html" typeahead-on-select="getAirportPrices($item, $model, $label, $event)"><div class="loading-airports" ng-if="helperService.loadingAirports"><img src="/images/climbcation-loading.gif"></div></div></div><div class="col-md-3"><label>When do you want to go?</label> <span class="dropdown"><button class="btn btn-default dropdown-toggle" type="button" id="startMonth" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">{{startMonthName | limitTo: 3}} <span class="caret"></span></button><ul class="dropdown-menu" aria-labelledby="startMonth"><li><a ng-click="startMonth = 1; startMonthName = \'January\'">January</a></li><li><a ng-click="startMonth = 2; startMonthName = \'February\'">February</a></li><li><a ng-click="startMonth = 3; startMonthName = \'March\'">March</a></li><li><a ng-click="startMonth = 4; startMonthName = \'April\'">April</a></li><li><a ng-click="startMonth = 5; startMonthName = \'May\'">May</a></li><li><a ng-click="startMonth = 6; startMonthName = \'June\'">June</a></li><li><a ng-click="startMonth = 7; startMonthName = \'July\'">July</a></li><li><a ng-click="startMonth = 8; startMonthName = \'August\'">August</a></li><li><a ng-click="startMonth = 9; startMonthName = \'September\'">September</a></li><li><a ng-click="startMonth = 10; startMonthName = \'October\'">October</a></li><li><a ng-click="startMonth = 11; startMonthName = \'November\'">November</a></li><li><a ng-click="startMonth = 12; startMonthName = \'December\'">December</a></li></ul></span> <span class="text-gray">To</span> <span class="dropdown"><button class="btn btn-default dropdown-toggle" type="button" id="endMonth" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true" ng-click="LocationsGetter.cancelFilterTimer()">{{endMonthName | limitTo: 3}} <span class="caret"></span></button><ul class="dropdown-menu" aria-labelledby="endMonth"><li><a ng-click="endMonth = 1; endMonthName = \'January\'">January</a></li><li><a ng-click="endMonth = 2; endMonthName = \'February\'">February</a></li><li><a ng-click="endMonth = 3; endMonthName = \'March\'">March</a></li><li><a ng-click="endMonth = 4; endMonthName = \'April\'">April</a></li><li><a ng-click="endMonth = 5; endMonthName = \'May\'">May</a></li><li><a ng-click="endMonth = 6; endMonthName = \'June\'">June</a></li><li><a ng-click="endMonth = 7; endMonthName = \'July\'">July</a></li><li><a ng-click="endMonth = 8; endMonthName = \'August\'">August</a></li><li><a ng-click="endMonth = 9; endMonthName = \'September\'">September</a></li><li><a ng-click="endMonth = 10; endMonthName = \'October\'">October</a></li><li><a ng-click="endMonth = 11; endMonthName = \'November\'">November</a></li><li><a ng-click="endMonth = 12; endMonthName = \'December\'">December</a></li></ul></span></div></div><div class="row"><div class="col-md-5"><label>What is the hardest grade you\'re looking for?</label><div class="btn-group grade-filter-button" ng-repeat="type in filter.grades"><button type="button" class="filter-button btn btn-xs btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">{{gradeFilter[type.type.id].grade || type.type.name}} <span class="caret"></span></button><ul class="dropdown-menu"><li ng-click="setGradeFilter(type.type, \'all\')"><a>All {{type.type.name}} Grades</a></li><li ng-repeat="grade in type.grades" ng-click="setGradeFilter(type.type, grade)"><a>{{grade.grade}}</a></li></ul></div></div><div class="col-md-4"><label>Keyword Search</label> <input type="text" class="form-control" ng-model="searchQuery" ng-trim="true" ng-change="LocationsGetter.filterByQuery(searchQuery)" ng-model-options="{ debounce: 500 }" placeholder="ex. beach"></div><div class="col-md-3"><label>Where do you want to stay?</label><div class="btn-group btn-group-sm btn-group-filter" data="Lodging" role="group"><button ng-click="LocationsGetter.toggleFilterButton($event,\'accommodations\',\'All\' )" type="button" class="filter-button btn btn-lg btn-default active all" data="all">All</button> <button ng-click="LocationsGetter.toggleFilterButton($event,\'accommodations\',id )" ng-repeat="(name,id) in filter.accommodations" type="button" class="filter-button btn btn-lg btn-default" data="{{ name }}">{{name}}</button></div></div></div></div><div class="col-md-3"><div ng-controller="MapFilterController" class="row" ng-if="!mobile"><label class="control control--checkbox" for="mapFilterEnabled" ng-class="{\'active\': mapFilterEnabled}"><input type="checkbox" name="mapFilterEnabled" id="mapFilterEnabled" ng-model="mapFilterEnabled"><div class="control__indicator"></div><span class="gray">Redo search when map moved</span></label><div id="mapFilter" class="mapFilter"></div></div></div></div></section>'),
t.put("views/home/home.tpl.html",'<section ng-controller="LocationsController"><img src="/images/skyscannerinline.png" class="hide"><div class="home-hero hidden-xs"><div class="home-hero-overlay"><div class="home-hero-overlay-title"><h2>Ever heard of Rodellar? It offers some of the best sport climbing in Europe</h2><div class="btn btn-climbcation" ng-click="goToFilter()">Find more awesome places you\'ve never heard of below</div></div><img class="pull-left hidden-xs" src="/images/hero-image-left.png"> <img class="pull-right hidden-xs" src="/images/hero-image-right.png"></div></div><filter id="filter"></filter><div class="container-fluid fill-height"><div class="row bottom-padding"><div class="col-md-offset-8 col-md-4"><label class="inline right-margin">Sort By:</label><div class="text-button right-margin" ng-click="LocationsGetter.setSorting(\'price\',!LocationsGetter.filter.sort.price.asc)">Cost</div><div class="text-button right-margin" ng-click="LocationsGetter.setSorting(\'grade\',!LocationsGetter.filter.sort.grade.asc)" ng-if="0">Climbing Difficulty</div><div class="text-button" ng-click="LocationsGetter.setSorting(\'distance\', true)">Distance From Me</div></div></div><div class="row"><div class="locations-window" id="locations-window" infinite-scroll="LocationsGetter.getNextPage()" infinite-scroll-disabled="LocationsGetter.scrollEnded || LocationsGetter.scrollLock" infinite-scroll-distance="1"><location class="location-item" ng-repeat="locationData in locationData"></location></div><div class="col-md-12 bottom-padding text-center" ng-if="LocationsGetter.scrollEnded"><h4><strong>No More Crags Available :(</strong></h4><h4><strong>Try broadening your filters</strong></h4></div><div class="col-md-12 bottom-padding text-center" ng-if="LocationsGetter.scrollLock"><h4><img src="/images/climbcation-loading.gif"><strong>Loading more crags!</strong></h4></div></div></div></section>'),t.put("views/location/location.tpl.html",'<div id="saveSuccessModal" class="modal"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h4 class="modal-title">Thank you!</h4></div><div class="modal-body"><p>Your change has been submitted!</p></div><div class="modal-footer"><button type="button" class="btn btn-default" data-dismiss="modal">Close</button></div></div></div></div><section class="location-info-container"><div class="container-fluid"><div class="row"><div class="col-md-12"><h2 class="text-center">{{ locationData[\'name\'] }}, {{ locationData[\'country\'] }}</h2><div class="main-header"><div class="well climbcation-well location-map"><div class="nearby-locations" ng-class="{\'expanded\': nearbyShow}"><div ng-if="nearbyShow" class="nearby-display"><div class="nearby-location" ng-repeat="nearbyLoc in nearby"><a href="/location/{{nearbyLoc.slug}}">{{ nearbyLoc.name }}</a> <span class="text-gray bold">({{nearbyLoc.distance}} mi away)</span> <img ng-repeat="nearbyType in nearbyLoc.climbing_types" ng-src="{{nearbyType.url}}" class="icon"></div></div><a class="toggle" ng-click="toggleNearby()">{{ nearbyShow? \'[-] Hide Nearby Locations\':\'[+] Show Nearby Locations\' }}</a></div><div id="map-canvas" class=""></div></div><div class="location-photo well climbcation-well"><img ng-src="{{ locationData[\'home_thumb\'] }}" ng-if="locationData.home_thumb != \'/images/original/missing.png\'"><h3 class="text-center" ng-if="locationData.home_thumb == \'/images/original/missing.png\'"><strong>Image Coming Soon</strong></h3></div><div class="well climbcation-well overview-container"><h3 class="text-center">{{ locationData[\'name\'] }} Overview</h3><div class="row"><div class="col-md-6 col-xs-6"><label>What should I climb?</label> <img ng-repeat="climbing_type in locationData[\'climbing_types\']" ng-src="{{ climbing_type[\'url\'] }}" title="{{ climbing_type[\'name\'] }}" class="icon"></div><div class="col-md-6 col-xs-6"><label>When Should I go?</label><p class="text-gray info-text">{{ locationData[\'date_range\'] }}</p></div></div><div class="row"><div class="col-md-6 col-xs-6"><label>Daily Expenses<br>(excluding accommodation)</label><p class="text-gray info-text">${{ locationData.price_range_floor_cents}} - ${{ locationData.price_range_ceiling_cents}}</p></div><div class="col-md-6 col-xs-6"><label>Climbing Difficulty<br>(Most classics are)</label><p class="text-gray info-text" ng-repeat="grade in locationData.grades" ng-class="{\'multiple-grades\': locationData.grades.length > 1}"><img ng-src="{{grade.type.url}}" ng-if="locationData.grades.length > 1"> {{grade.grade}} {{locationData.grades.length == 1 ? \'and harder\':\'\'}}</p><div class="text-gray info-text multiple-grades" ng-if="locationData.grades.length > 1">and harder</div></div></div></div></div></div></div></div><div class="container-fluid"><div class="row"><div class="col-md-6"><div class="well climbcation-well" ng-if="!editingGettingIn"><div class="row col-md-12 section-title"><h3 class="inline">Getting In</h3><span class="text-button" ng-click="toggleEditGettingIn()">Edit Category</span></div><p class="text-gray info-text" ng-if="locationData.walking_distance === null">We\'re not sure if crags and other destinations(food, camping, etc...) are within walking distance... have you been here? Please edit this section if you can help us out!</p><p class="text-gray info-text" ng-if="locationData.walking_distance !== null">Crags and other destinations(food,camping, etc...) <strong>{{locationData.walking_distance?\'are\':\'are not\'}}</strong> within walking distance.</p><div class="info-container"><div><label class="text-center">Available Options</label><ul><li class="text-gray" ng-repeat="transport in locationData.transportations"><h5>{{ transport.name }}</h5></li></ul></div><div><label class="text-center">Best Transportation Option</label><h4 class="text-center text-gray">{{locationData.best_transportation.name}}</h4><h5 class="text-center text-gray">{{locationData.best_transportation.cost != -1 ? locationData.best_transportation.cost : \'\'}}</h5></div></div><label>Any additional tips about getting around {{locationData.name}}?</label><p class="text-gray info-text" ng-bind-html="(locationData.getting_in_notes || \'No Details Available\') | linky"></p></div><div class="well climbcation-well" ng-if="editingGettingIn"><div class="row section-title"><h3 class="col-md-7 col-xs-5">Getting In</h3><div class="col-md-5 col-xs-7"><span class="text-button" ng-click="toggleEditGettingIn()">Cancel</span> <span class="btn btn-sm btn-climbcation submit-button" ng-click="submitGettingInChanges()">Submit Changes</span></div></div><div class="row"><div class="col-md-8"><label>Are crags and other destinations(food, camping, etc...) within walking distance?</label></div><div class="col-md-4"><div class="btn-group btn-group-sm center-block"><button class="btn btn-sm btn-default" ng-class="{\'active\': locationObj.walkingDistance}" ng-click="locationObj.walkingDistance = true">Yes</button> <button class="btn btn-sm btn-default" ng-class="{\'active\': locationObj.walkingDistance == false}" ng-click="locationObj.walkingDistance = false">No</button></div></div></div><div class="row"><div class="col-md-6"><label>Select all available options for getting to {{locationData.name}}</label><div ng-repeat="transportation in transportations"><label class="control control--checkbox" for="{{ transportation[\'name\'] }}" ng-class="{\'active\': locationForm[transportation.name].$viewValue == true}"><input name="{{transportation.name}}" type="checkbox" id="{{ transportation.name }}" ng-model="locationObj.transportations[transportation.id]"><div class="control__indicator"></div><span class="gray">{{transportation.name}}</span></label></div></div><div class="col-md-6"><div class="row" ng-if="locationObj.transportations"><label>What is the best option for getting to {{locationData.name}}</label><div class="btn-group btn-group-sm center-block"><button class="btn btn-sm btn-default" ng-class="{\'active\': locationObj.bestTransportationId == bestTransOption.id}" ng-repeat="bestTransOption in transportations | bestTransportationOptions:locationObj.transportations" ng-click="selectBestTransportation(bestTransOption.id)">{{bestTransOption.name}}</button></div></div><div class="row" ng-if="bestTransportationCostOptions"><label>How much does a {{bestTransportationName}} cost?</label><div class="btn-group btn-group-sm center-block"><button class="btn btn-sm btn-default" ng-class="{\'active\': costRange.active}" ng-repeat="costRange in bestTransportationCostOptions" ng-click="selectBestTransportationCost(costRange)">{{costRange.cost}}</button></div></div></div></div><div class="row"><div class="col-md-12"><label>Any Additional Tips for getting to and around {{locationData.name}}?</label><div class="form-group"><textarea placeholder="ex. Need to take flight to kos, then take a ferry from kos to kalymnos, once you\'re there you can hitchhike to get groceries easily or you can rent a scooter for $5 a day" class="form-control" rows="3" ng-model="locationObj.gettingInNotes"></textarea></div></div></div></div></div><div class="col-md-6"><div class="well climbcation-well" ng-if="!editingAccommodation"><div class="col-md-12 row section-title"><h3 class="inline">Accommodation</h3><span class="text-button" ng-click="toggleEditAccommodation()">Edit Category</span></div><p class="text-gray info-text" ng-if="!locationData.closest_accommodation">We\'re not sure how close the accommodation is from the crags... have you been here? Please edit this section if you can help us out!</p><p class="text-gray info-text" ng-if="locationData.closest_accommodation">Closest accommodation is <strong>{{locationData.closest_accommodation}}</strong> from the crags.</p><div class="info-container"><div class="accommodation-info-section" ng-repeat="accommodation in locationData.accommodations"><h4 class="text-gray text-center">{{accommodation.name}}</h4><img ng-src="{{accommodation.url}}"><h5 class="text-gray text-center">{{accommodation.cost}}</h5></div></div><label>Any additional tips for staying in {{locationData.name}}?</label><p class="text-gray info-text" ng-bind-html="(locationData.accommodation_notes || \'No Details Available\') | linky"></p></div><div class="well climbcation-well" ng-if="editingAccommodation"><div class="row section-title"><h3 class="col-md-7 col-xs-5">Accommodation</h3><div class="col-md-5 col-xs-7"><span class="text-button" ng-click="toggleEditAccommodation()">Cancel</span> <span class="btn btn-sm btn-climbcation submit-button" ng-click="submitAccommodationChanges()">Submit Changes</span></div></div><div class="row"><div class="col-md-8"><label>How close is the closest accommodation to the crag(s)?</label></div><div class="col-md-4"><select name="closestAccommodation" ng-model="locationObj.closestAccommodation" class="form-control"><option ng-value="\'<1 mile\'">&lt;1 mile</option><option ng-value="\'1-2 miles\'">1-2 miles</option><option ng-value="\'2-5 miles\'">2-5 miles</option><option ng-value="\'5+ miles\'">5+ miles</option></select></div></div><div class="row"><div class="col-md-12"><label class="center-block">Select all available options for accommodation in {{locationData.name}}</label><div class="accommodation-options"><div class="accommodation-button-wrapper" ng-repeat="accommodation in accommodations" ng-click="selectAccommodation(accommodation)"><div class="btn btn-default accommodation-button {{(locationObj.accommodations | accommodationChosen:accommodation)?\'active\':\'\' }}"><img ng-src="{{accommodation.url}}"><div class="accommodation-cost-container" ng-if="locationObj.accommodations | accommodationChosen:accommodation"><label class="light-blue">Cost</label><select ng-model="locationObj.accommodations[accommodation.id].cost" class="form-control" ng-click="stopPropagation($event);"><option ng-repeat="range in accommodation.ranges" ng-value="range">{{range}}</option></select></div></div></div></div></div></div><div class="row"><div class="col-md-12"><label>Any Additional Tips on staying in {{locationData.name}}?</label><div class="form-group"><textarea placeholder="ex. campground doesnt have water, bring your own. The most fun place to stay is JOSITO! campground has a communal kitchenand communal fridge" class="form-control" rows="3" ng-model="locationObj.accommodationNotes"></textarea></div></div></div></div></div></div><div class="row"><div class="col-md-6"><div class="well climbcation-well"><h3>One way flight cost(<div class="airport-wrapper inline"><input class="form-control inline" ng-model="helperService.originAirport" ng-trim="true" typeahead-wait-ms="100" uib-typeahead="airport.name for airport in helperService.getAirports($viewValue)" typeahead-popup-template-url="views/airport_autocomplete.tpl.html" typeahead-on-select="getAirport($item, $model, $label, $event)"><div class="loading-airports" ng-if="helperService.loadingAirports"><img src="/images/climbcation-loading.gif"></div></div>to {{locationData.airport_code}})</h3><div id="highchart{{locationData.airport_code + \'-\' + locationData.slug + \'-\' + locationData.id}}"></div></div></div><div class="col-md-6"><div class="well climbcation-well" ng-if="!editingFoodOptions"><div class="col-md-12 row section-title"><h3 class="inline">Cost</h3><span class="text-button" ng-click="toggleEditFoodOptions()">Edit Category</span></div><label>Food options (cost per meal)</label><div class="info-container"><div ng-repeat="food_option in locationData.food_options"><h3 class="text-gray text-center">{{food_option.name}}</h3><h4 class="text-gray text-center">{{food_option.cost}}</h4></div></div><label>Any other common expenses in {{locationData.name}}?</label><p class="text-gray info-text" ng-bind-html="(locationData.common_expenses_notes || \'No Details Available\') | linky"></p><label>Any tips on saving money around {{locationData.name}}?</label><p class="text-gray info-text" ng-bind-html="(locationData.saving_money_tip || \'No Details Available\') | linky"></p></div><div class="well climbcation-well" ng-if="editingFoodOptions"><div class="row section-title"><h3 class="col-md-7 col-xs-5">Cost</h3><div class="col-md-5 col-xs-7"><span class="text-button" ng-click="toggleEditFoodOptions()">Cancel</span> <span class="btn btn-sm btn-climbcation submit-button" ng-click="submitFoodOptionsChanges()">Submit Changes</span></div></div><div class="row"><div class="col-md-5"><label>What food options are available in {{locationData.name}}?</label><div ng-repeat="food in foodOptions" ng-click="cleanFoodOptionDetails()"><label class="control control--checkbox" for="{{ food[\'name\'] }}" ng-class="{\'active\': locationForm[food.name].$viewValue == true}"><input name="{{food.name}}" type="checkbox" id="{{ food.name }}" ng-model="locationObj.foodOptions[food.id]"><div class="control__indicator"></div><span class="gray">{{food.name}}</span></label></div></div><div class="col-md-7"><div class="row" ng-if="locationObj.foodOptions"><label>Cost for a single meal?</label><div class="row"><div class="col-md-6" ng-repeat="foodOption in foodOptions | selectedFoodOptions:locationObj.foodOptions"><label class="center-block gray">{{foodOption.name}}</label><div class="btn-group btn-group-sm"><button class="btn btn-sm btn-default" ng-class="{\'active\': locationObj.foodOptionDetails[foodOption.id].cost == range}" ng-repeat="range in foodOption.ranges" ng-click="selectFoodOptionDetail(foodOption.id, range)">{{range}}</button></div></div></div></div></div></div><div class="row"><div class="col-md-6"><label>Any other common expenses in {{locationData.name}}?</label><div class="form-group"><textarea placeholder="ex. red rock requires entrance fee" class="form-control" rows="3" ng-model="locationObj.commonExpensesNotes"></textarea></div></div><div class="col-md-6"><label>Any tips on saving money in {{locationData.name}}?</label><div class="form-group"><textarea placeholder="ex. Mama\'s chicken is a great restaurant that is very cheap, and trader joes is a cheap but healthy grocery store... you should also hitchhike a bunch since it\'s easy here" class="form-control" rows="3" ng-model="locationObj.savingMoneyTips"></textarea></div></div></div></div></div></div></div><div class="container-fluid"><div class="climbcation-well well has-header"><div class="well-header"><h3>{{locationData.name}} Miscellaneous</h3></div><div class="well-content"><div class="misc-container"><locationothersection class="misc-section" location-id="locationData.id" section="section" sections-length="locationObj.sections.length" ng-repeat="section in sections track by $index" index-iterator="$index" editable="true"></locationothersection></div></div></div></div><div class="container-fluid"><div class="row"><div class="col-md-8"><div id="comments" onrender="rendered()" class="fb-comments info-section" data-width="100%" ng-attr-data-href="http://www.climbcation.com/{{ locationData[\'name\'] }}" data-numposts="5" ng-cloak=""></div></div><div class="col-md-4"><div class="info-container add-section"><div class="text-center"><h3 class="text-center">Is something about {{locationData.name}} missing?</h3><div class="btn btn-climbcation text-center" ng-click="addSection()">Add New Category</div></div></div></div></div></div></section>'),t.put("views/new_location/submitpage.tpl.html","<sectionform></sectionform>"),t.put("common/directives/location_list_item/location_list_item.tpl.html",'<div class="location-card"><div class="location-card-info"><div class="row"><div class="col-md-8 location-list-thumb-container"><a ng-href="/location/{{ locationData[\'slug\'] }}"><img class="location-list-thumb" ng-src="{{ locationData[\'home_thumb\'] }}"><div class="location-list-thumb-title"><h3 class="text-gray">{{ locationData[\'name\'] }}</h3><h5><strong>{{ locationData[\'country\'] }}</strong></h5></div></a></div><div class="col-md-4 location-card-attributes"><div class="col-xs-6 col-md-12"><label>Lodging Options</label> <img ng-repeat="accommodation in locationData[\'accommodations\']" ng-src="{{ accommodation[\'url\'] }}" class="icon" title="{{ accommodation[\'name\'] }}"></div><div class="col-xs-6 col-md-12"><label>Climbing Types</label> <img ng-repeat="type in locationData[\'climbing_types\']" ng-src="{{ type[\'url\'] }}" class="icon" title="{{ type[\'name\'] }}"></div><div class="col-xs-6 col-md-12"><label>Best Seasons</label><p class="text-gray info-text">{{ locationData[\'date_range\']}}</p></div><div class="col-xs-6 col-md-12"><label>Climbing Difficulty</label><p class="text-gray info-text" ng-repeat="grade in locationData.grades" ng-class="{\'multiple-grades\': locationData.grades.length > 1}"><img ng-src="{{grade.type.url}}" ng-if="locationData.grades.length > 1" class="grade-climbing-type-icon"> {{grade.grade}} {{locationData.grades.length == 1 ? \'and harder\':\'\'}}</p><div class="text-gray info-text multiple-grades" ng-if="locationData.grades.length > 1">and harder</div></div></div></div><div class="location-card-cost"><label>${{ locationData[\'price_range_floor_cents\']}} - ${{ locationData[\'price_range_ceiling_cents\'] }} / day</label></div></div><div class="location-airfare"><div ng-if="locationData.lowestPrice.date"><div id="highchart{{locationData[\'airport_code\']+\'-\'+locationData[\'slug\']+\'-\'+locationData[\'location\'][\'id\']}}" style="margin: 0 auto"></div><div class="row"><span class="col-md-6"><label>Airline Prices(hover to see prices)</label></span> <span class="col-md-6 text-right"><a href="{{locationData.referral}}"><h4 class="text-gray">Low of ${{locationData.lowestPrice.cost}} on {{locationData.lowestPrice.date}}</h4></a></span></div></div><div ng-if="!locationData.lowestPrice.date"><div class="sorry-message" ng-if="!loadingQuotes"><h4>We\'re sorry, we couldn\'t find any flight information from {{ helperService.originAirport }} to {{ locationData.airport_code }}. You may have better luck searching with a bigger airport or for specific dates on Skyscanner or your preferred airline\'s website.</h4></div><div ng-if="loadingQuotes"><img class="loading-quote" src="/images/climbcation-loading.gif"></div></div></div></div>'),t.put("common/directives/section_form/section_form.tpl.html",'<section id="submit-form"><div id="successModal" class="modal"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h4 class="modal-title">Thank you!</h4></div><div class="modal-body"><p>Your location has been submitted for approval by an administrator. You should see it up in 2-3 days!</p></div><div class="modal-footer"><button type="button" class="btn btn-default" ng-click="closeSuccessModal()">Close</button></div></div></div></div><div id="errorModal" class="modal"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h4 class="modal-title">Woops!</h4></div><div class="modal-body"><p>Looks like you forgot to fill something out in the general section. We\'re gonna need you to fill out all the starred fields in order to accept this location.</p></div><div class="modal-footer"><button type="button" data-dismiss="modal" class="btn btn-default">Close</button></div></div></div></div><div class="text-center"><h3 class="title-header">Climbcation Location Creation</h3></div><div class="well climbcation-well no-padding progress-container"><div class="progress-icon-container"><span><img ng-show="currentPage > 0" ng-src="{{getIconUrl(1)}}"></span> <span><img ng-show="currentPage > 1" ng-src="{{getIconUrl(2)}}"></span> <span><img ng-show="currentPage > 2" ng-src="{{getIconUrl(3)}}"></span> <span><img ng-show="currentPage > 3" ng-src="{{getIconUrl(4)}}"></span> <span><img ng-show="currentPage > 4" ng-src="{{getIconUrl(5)}}"></span> <span><img ng-show="currentPage > 5" ng-src="{{getIconUrl(6)}}"></span></div><div class="progress-bar-wrapper"><div class="progress-bar" style="width: {{progressBar}}%"></div></div><div class="titles"><a ng-click="changePage(1)"><strong>1.</strong> <span class="hidden-xs">General*</span></a> <a ng-click="changePage(2)"><strong>2.</strong> <span class="hidden-xs">Getting In</span></a> <a ng-click="changePage(3)"><strong>3.</strong> <span class="hidden-xs">Accommodation</span></a> <a ng-click="changePage(4)"><strong>4.</strong> <span class="hidden-xs">Cost</span></a> <a ng-click="changePage(5)"><strong>5.</strong> <span class="hidden-xs">Other</span></a> <span><strong>6.</strong> <span class="hidden-xs">Publish</span></span></div></div><form name="locationForm"><div class="container"><div class="row"><div class="row bottom-padding"><h4 class="col-md-offset-2 col-md-10" ng-if="currentPage == 1">1. General <span class="small-gray">(Don\'t worry, this is the hardest step!)</span></h4><h4 class="col-md-offset-2 col-md-10" ng-if="currentPage == 2">2. Getting In <span class="small-gray">(How do you get to the crag?)</span></h4><h4 class="col-md-offset-2 col-md-10" ng-if="currentPage == 3">3. Accommodation <span class="small-gray">(Where will you stay when you get there?)</span></h4><h4 class="col-md-offset-2 col-md-10" ng-if="currentPage == 4">4. Cost <span class="small-gray">(How much should you expect to spend on this trip?)</span></h4><h4 class="col-md-offset-2 col-md-10" ng-if="currentPage == 5">5. Other <span class="small-gray">(Anything else you know about {{ locationObj.name}}?)</span></h4><h4 class="col-md-offset-2 col-md-10" ng-if="currentPage == 6">6. Done</h4></div><div class="row"><div class="col-md-offset-2 col-md-8 col-xs-offset-1 col-xs-10 well climbcation-well forms-container"><div class="well-content"><div class="row" ng-if="currentPage == 1"><div class="col-md-3 hide"><div class="drop-box" ngf-drop="" ng-model="image" ngf-drag-over-class="dragover" ngf-multiple="true" ngf-allow-dir="true" ngf-accept="\'image/*,application/pdf\'"><span ng-if="!image[0]">Drop Image here</span> <img ng-if="image[0]" ngf-src="image[0]" ngf-default-src="" ngf-accept="\'image/*\'"></div></div><div class="col-md-12 <!--border-left-->"><div class="row"><span class="form-group col-md-6" ng-class="{ \'has-success\': locationForm.name.$valid && locationForm.name.$dirty, \'has-error\': locationForm.name.$invalid && locationForm.name.$dirty }"><label>Location Name<span class="text-danger required-field">*</span></label> <input name="name" ng-model-options="{\'allowInvalid\': true, debounce: 500}" tooltip-validation="hello" ng-model="locationObj.name" location-exists="{{existingLocations}}" placeholder="ex. Yosemite" class="form-control" popover-placement="bottom" uib-popover-html="existsMessage()" popover-trigger="{none: \'\'}" popover-is-open="(!locationForm.name.$valid && locationForm.name.$viewValue != \'\') || diceDistanceNum > DICE_THRESHOLD" ng-change="diceCalc()"></span> <span class="form-group col-md-6" ng-class="{ \'has-success\': locationForm.country.$valid && locationForm.country.$dirty, \'has-error\': locationForm.country.$invalid && locationForm.country.$dirty }"><label>Country</label> <input name="country" ng-model="locationObj.country" placeholder="ex. United States" class="form-control"></span></div><div class="row"><span class="form-group col-md-5" ng-class="{ \'has-success\': locationForm.airport.$valid && locationForm.airport.$dirty, \'has-error\': locationForm.airport.$invalid && locationForm.airport.$dirty }"><label>Nearest Airport</label><div class="airport-wrapper"><input name="airport" ng-model="locationObj.airportName" placeholder="ex. Los Angeles International Airport" class="form-control" typeahead-min-length="3" typeahead-wait-ms="100" uib-typeahead="airport.name for airport in helperService.getAirports($viewValue)" typeahead-popup-template-url="views/airport_autocomplete.tpl.html" typeahead-on-select="getAirport($item, $model, $label, $event)"><div class="loading-airports" ng-if="helperService.loadingAirports"><img src="/images/climbcation-loading.gif"></div></div><input ng-model="locationObj.airport" class="hide"></span><div class="form-group col-md-7"><label>Daily expenditures range(in USD, not including accommodation):<span class="text-danger required-field">*</span></label><div class="btn-group btn-group-sm center-block col-md-10"><button class="btn btn-sm btn-default" ng-class="{\'active\': locationObj.price_floor == 5}" ng-click="selectDailyExpenditures(5, 15)">$5 - $15</button> <button class="btn btn-sm btn-default" ng-class="{\'active\': locationObj.price_floor == 15}" ng-click="selectDailyExpenditures(15, 30)">$15 - $30</button> <button class="btn btn-sm btn-default" ng-class="{\'active\': locationObj.price_floor == 30}" ng-click="selectDailyExpenditures(30, 50)">$30+</button></div></div></div><div class="row"><div class="col-md-3 row"><label class="col-xs-12">What should I climb?<span class="text-danger required-field">*</span></label><div ng-repeat="climbing_type in climbingTypes" class="col-xs-4 col-md-12"><label class="control control--checkbox" for="{{ climbing_type[\'name\'] }}" ng-class="{\'active\': locationForm[climbing_type.name].$viewValue == true}"><input name="{{climbing_type[\'name\']}}" type="checkbox" id="{{ climbing_type[\'name\'] }}" ng-model="locationObj.climbingTypes[climbing_type.id]"><div class="control__indicator"></div><span class="gray">{{climbing_type.name}}</span></label></div></div><div class="col-md-4"><label>To get the most out of {{locationObj.name || \'this crag\' }} I should climb at least:<span class="text-danger required-field">*</span></label><div class="grade-selector" ng-repeat="(climbingTypeId, enabled) in locationObj.climbingTypes" ng-if="enabled"><img ng-src="{{findClimbingType(climbingTypeId).url}}"><select name="grade" ng-options="grade.grade + \' and above\' for grade in grades | gradeFilter:climbingTypeId | reverse track by grade.id" ng-model="locationObj.grade[climbingTypeId]" class="form-control"><option value="">Select a grade</option></select></div></div><div class="col-md-4"><label>When Should I go?<span class="text-danger required-field">*</span></label><div class="row"><div ng-repeat="month in months" class="col-xs-4 text-center month-button"><label for="{{ month[\'name\'] }}" class="btn btn-climbcation" ng-class="{\'active\': locationForm[month.name].$viewValue == true}"><input class="hide" name="{{month[\'name\']}}" type="checkbox" id="{{ month[\'name\'] }}" ng-model="locationObj.months[month.id]"> {{ month[\'name\'] | limitTo:3 }}</label></div></div></div></div></div></div><div class="row" ng-if="currentPage == 2"><div class="col-md-12 bottom-padding border-bottom bottom-margin"><div class="col-md-6 row"><label class="col-md-12">Select all available options for getting to {{locationObj.name}}</label><div ng-repeat="transportation in transportations" class="col-md-12 col-xs-4"><label class="control control--checkbox" for="{{ transportation[\'name\'] }}" ng-class="{\'active\': locationForm[transportation.name].$viewValue == true}"><input name="{{transportation.name}}" type="checkbox" id="{{ transportation.name }}" ng-model="locationObj.transportations[transportation.id]"><div class="control__indicator"></div><span class="gray">{{transportation.name}}</span></label></div></div><div class="col-md-6"><div class="row" ng-if="locationObj.transportations"><label>What is the best option for getting to {{locationObj.name}}</label><div class="btn-group btn-group-sm center-block"><button class="btn btn-sm btn-default" ng-class="{\'active\': locationObj.bestTransportationId == bestTransOption.id}" ng-repeat="bestTransOption in transportations | bestTransportationOptions:locationObj.transportations" ng-click="selectBestTransportation(bestTransOption.id)">{{bestTransOption.name}}</button></div></div><div class="row" ng-if="bestTransportationCostOptions"><label>How much does a {{bestTransportationName}} cost?</label><div class="btn-group btn-group-sm center-block"><button class="btn btn-sm btn-default" ng-class="{\'active\': costRange.active}" ng-repeat="costRange in bestTransportationCostOptions" ng-click="selectBestTransportationCost(costRange)">{{costRange.cost}}</button></div></div></div></div><div class="col-md-12 row"><div class="col-md-6"><label>Any Additional Tips for getting to and around {{locationObj.name}}?</label><div class="form-group"><textarea placeholder="ex. Need to take flight to kos, then take a ferry from kos to kalymnos, once you\'re there you can hitchhike to get groceries easily or you can rent a scooter for $5 a day" class="form-control" rows="4" ng-model="locationObj.gettingInNotes"></textarea></div></div><div class="col-md-6"><label>Are crags and other destinations(food, camping, etc...) within walking distance?</label><div class="btn-group btn-group-sm center-block"><button class="btn btn-sm btn-default" ng-class="{\'active\': locationObj.walkingDistance}" ng-click="locationObj.walkingDistance = true">Yes</button> <button class="btn btn-sm btn-default" ng-class="{\'active\': locationObj.walkingDistance == false}" ng-click="locationObj.walkingDistance = false">No</button></div></div></div></div><div class="row" ng-if="currentPage == 3"><div class="col-md-12 row"><div class="col-md-12"><label class="center-block">Select all available options for accommodation in {{locationObj.name}}</label><div class="accommodation-options side-pad border-bottom bottom-margin"><div class="accommodation-button-wrapper" ng-repeat="accommodation in accommodations" ng-click="selectAccommodation(accommodation)"><div class="btn btn-default accommodation-button {{(locationObj.accommodations | accommodationChosen:accommodation)?\'active\':\'\' }}"><img ng-src="{{accommodation.url}}"><div class="accommodation-cost-container" ng-if="locationObj.accommodations | accommodationChosen:accommodation"><label class="light-blue">Cost</label><select ng-model="locationObj.accommodations[accommodation.id].cost" class="form-control" ng-click="stopPropagation($event);"><option ng-repeat="range in accommodation.ranges" value="{{range}}">{{range}}</option></select></div></div></div></div></div></div><div class="col-md-12 row"><div class="col-md-6"><label>Any Additional Tips on staying in {{locationObj.name}}?</label><div class="form-group"><textarea placeholder="ex. campground doesnt have water, bring your own. The most fun place to stay is JOSITO! campground has a communal kitchenand communal fridge" class="form-control" rows="4" ng-model="locationObj.accommodationNotes"></textarea></div></div><div class="col-md-6"><label>How close is the closest accommodation to the crag(s)?</label><select name="closestAccommodation" ng-model="locationObj.closestAccommodation" class="form-control"><option ng-value=""></option><option ng-value="\'<1 mile\'">&lt;1 mile</option><option ng-value="\'1-2 miles\'">1-2 miles</option><option ng-value="\'2-5 miles\'">2-5 miles</option><option ng-value="\'5+ miles\'">5+ miles</option></select></div></div></div><div class="row" ng-if="currentPage == 4"><div class="col-md-12 border-bottom bottom-padding bottom-margin"><div class="col-md-6 row"><label class="col-xs-12">What food options are available in {{locationObj.name}}?</label><div ng-repeat="food in foodOptions" ng-click="cleanFoodOptionDetails()" class="col-xs-3 col-md-12"><label class="control control--checkbox" for="{{ food[\'name\'] }}" ng-class="{\'active\': locationForm[food.name].$viewValue == true}"><input name="{{food.name}}" type="checkbox" id="{{ food.name }}" ng-model="locationObj.foodOptions[food.id]"><div class="control__indicator"></div><span class="gray">{{food.name}}</span></label></div></div><div class="col-md-6"><div class="row" ng-if="locationObj.foodOptions"><label>Cost for a single meal?</label><div class="row"><div class="col-md-6 col-xs-6" ng-repeat="foodOption in foodOptions | selectedFoodOptions:locationObj.foodOptions"><label class="center-block gray">{{foodOption.name}}</label><div class="btn-group btn-group-sm"><button class="btn btn-sm btn-default" ng-class="{\'active\': locationObj.foodOptionDetails[foodOption.id].cost == range}" ng-repeat="range in foodOption.ranges" ng-click="selectFoodOptionDetail(foodOption.id, range)">{{range}}</button></div></div></div></div></div></div><div class="col-md-12 row"><div class="col-md-6"><label>Any other common expenses in {{locationObj.name}}?</label><div class="form-group"><textarea placeholder="ex. red rock requires entrance fee" class="form-control" rows="4" ng-model="locationObj.commonExpensesNotes"></textarea></div></div><div class="col-md-6"><label>Any tips on saving money in {{locationObj.name}}?</label><div class="form-group"><textarea placeholder="ex. Mama\'s chicken is a great restaurant that is very cheap, and trader joes is a cheap but healthy grocery store... you should also hitchhike a bunch since it\'s easy here" class="form-control" rows="4" ng-model="locationObj.savingMoneyTips"></textarea></div></div></div></div><div class="row" ng-if="currentPage == 5"><locationothersection class="col-md-6" section="section" sections-length="locationObj.sections.length" ng-repeat="section in locationObj.sections track by $index" index-iterator="$index" save-section="saveSection()" remove-section="removeSection(section)"></locationothersection><div class="col-md-6"><h4>Suggestions</h4><ul><li>Connectivity(wifi/cell reception)</li><li>Rest Day Activities</li><li>Rock Type</li><li>Social Scene(bars, where to find partners, etc...)</li><li>Safety(eg. watch out for theft/scams)</li></ul></div></div><div class="row" ng-if="currentPage == 6"><div class="row text-center"><h3 class="bottom-padding">Congrats!</h3><h4>You\'ve added all the necessary content.</h4><h4 class="bottom-padding">You should see your location available in a day after an admin reviews the content</h4><img ng-src="/images/success-icon.png"></div><div class="row bottom-padding"><label class="col-md-8 email-prompt">Thanks for contributing! An admin might have questions, mind lending us your email?</label> <input ng-if="!emailThankYou" name="submitterEmail" ng-model="locationObj.submitterEmail" placeholder="joe@example.com" class="form-control email-input col-md-3"><div ng-if="!emailThankYou" class="col-md-1"><div class="btn btn-climbcation email-btn" ng-click="submitEmail()">Submit</div></div><label ng-if="emailThankYou" class="col-md-4 email-prompt">Thank you!</label></div><div class="row bottom-padding"><h4 class="col-md-12">Forget some information? Just click on the preview link and edit your location page there!</h4></div></div></div><div class="col-md-12 well-footer"><div class="row"><div class="col-md-offset-8 col-md-1 col-xs-offset-7 col-xs-2" ng-click="prevPage()" ng-if="currentPage != 6"><span class="text-button" ng-if="currentPage != 1 && currentPage != 6">Back</span></div><div class="col-xs-2 btn btn-climbcation" ng-click="nextPage()" ng-if="currentPage < 5"><div class="">Next</div></div><div class="col-xs-2 btn btn-climbcation" id="publish-button" ng-click="submitLocation()" ng-if="currentPage == 5"><div class="" ng-if="!loading">Publish</div><img ng-src="/images/climbcation-loading.gif" ng-if="loading"></div><div class="col-xs-offset-7 col-xs-1 right-margin" ng-if="currentPage == 6"><div class="text-button"><a ng-href="/location/{{locationSlug}}" target="_blank">Preview</a></div></div><div class="col-xs-3 btn btn-climbcation" ng-if="currentPage == 6" ng-click="startNewLocation()">Submit Another Location</div></div></div></div></div></div><div class="row"><div class="row"><div class="col-md-offset-1 col-md-10 well climbcation-well tips-container"><h4>Tips for adding locations</h4><ul><li>Focus on world class crags, Climbcation is primarily for finding climbing vacation destinations. Do you really want all of us crowding your local crag?</li><li>Sections with an asterisk (*) are required, but the more info you provide the better!</li><li>Excellent location examples with multiple categories: <a href="/location/bishop" target="_blank">Bishop</a>, <a href="/location/baile-herculane" target="_blank">Baile Herculane</a></li></ul></div></div></div></div></form></section>'),
t.put("common/directives/location_other_section/location_other_section.tpl.html",'<div ng-if="section.previewOff"><div class="row"><div class="col-md-11" ng-class="{\'col-md-offset-1\': !editable}"><div class="form-group"><label>Section Title</label> <input type="text" placeholder="ex. Social Scene" class="form-control" ng-model="section.title"></div></div></div><div class="row"><div class="col-md-11" ng-class="{\'col-md-offset-1\': !editable}"><div class="form-group"><label ng-if="!editable">Section Description</label> <textarea placeholder="The best place to meet climbers is at the Fatolitis snack bar, this is a great bar for a post climbing spray session as well" class="form-control" rows="{{editable?3:6}}" ng-model="section.body"></textarea></div><div ng-if="!editable" class="btn btn-default btn-climbcation right-margin" ng-class="{\'disabled\': section.isSaving }" ng-click="saveSection()">Save section</div><div ng-if="!editable" class="text-button pad-top" ng-click="removeSection(section)">remove section</div><div ng-if="editable" class="btn btn-default btn-climbcation pull-right" ng-class="{\'disabled\': section.isSaving }" ng-click="saveChanges()">Save Changes</div><div ng-if="editable" class="text-button pull-right pad-top" ng-click="togglePreview(section)">Cancel</div></div></div></div><div ng-if="!section.previewOff"><h3 class="inline">{{oldTitle}}</h3><span class="text-button" ng-click="togglePreview(section)">Edit</span><p class="text-gray info-text" ng-bind-html="oldBody | linky"></p></div>')}]);